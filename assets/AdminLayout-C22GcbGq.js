import{u as C,j as e}from"./index-D0cJwDsb.js";import{u as S,f as A,r as i,O as N}from"./vendor-DD54NZMZ.js";import{S as x,A as v,a as L}from"./styles-Dkvm5vMa.js";import{G as E,s as M,S as O,L as r}from"./antd-pmzi8FkM.js";import"./utils-Db1EesZb.js";const{Content:P}=r,{useBreakpoint:k}=E,z=({showHeader:g=!0,showSidebar:l=!0,showFooter:j=!0,fullWidth:h=!1})=>{const s=S(),c=A(),{user:a,isAuthenticated:u,loading:n}=C(),d=k(),[t,o]=i.useState(!d.lg),[p,m]=i.useState(!1);i.useEffect(()=>{n||(u?a&&a.role!=="admin"&&(M.error("Bạn không có quyền truy cập trang quản trị"),s("/")):s("/login",{state:{from:c.pathname}}))},[u,a,n,s,c.pathname]);const b=()=>h?0:{padding:"24px"},f=!d.lg;return n?e.jsxs("div",{className:"loading-container",children:[e.jsx(O,{size:"large"}),e.jsx("div",{className:"loading-text",children:"Đang tải..."})]}):e.jsxs(r,{className:"site-layout",children:[l&&e.jsx(e.Fragment,{children:f?e.jsx(x,{collapsed:t,onCollapse:o,isMobile:!0,visible:p,onClose:()=>m(!1)}):e.jsx(x,{collapsed:t,onCollapse:o})}),e.jsxs(r,{className:`site-layout-content ${l?t?"content-collapsed":"content-expanded":"content-no-sidebar"}`,children:[g&&e.jsx(v,{collapsed:t,onCollapse:y=>{f?m(!p):o(y)},title:"Trường Phát POS - Quản trị"}),e.jsx(P,{className:"site-content admin-content",style:b(),children:e.jsx(N,{})}),j&&e.jsx(L,{minimal:!0})]})]})};export{z as default};
