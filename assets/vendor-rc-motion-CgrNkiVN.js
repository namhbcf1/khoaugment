import{g as e,_ as n,l as t,b as r,a as o,e as a,h as i,f as u,j as c,m as s,k as f}from"./polyfills-B4r5O4me.js";import{c as l}from"./vendor-classnames-Bjqz8XQ3.js";import{c as v,w as d,j as m,R as p,e as E,F as y,s as h,g as k,S as A}from"./vendor-rc-util-Cfhh6bGy.js";import{r as L}from"./react-vendor-D_ybsntB.js";var g=["children"],b=L.createContext({});function C(n){var t=n.children,r=e(n,g);return L.createElement(b.Provider,{value:r},t)}var R=function(e){n(i,e);var a=t(i);function i(){return r(this,i),a.apply(this,arguments)}return o(i,[{key:"render",value:function(){return this.props.children}}]),i}(L.Component),w="none",S="appear",j="enter",P="leave",N="none",O="prepare",T="start",x="active",M="end",V="prepared";function D(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit".concat(e)]="webkit".concat(n),t["Moz".concat(e)]="moz".concat(n),t["ms".concat(e)]="MS".concat(n),t["O".concat(e)]="o".concat(n.toLowerCase()),t}var F,z,I,K=(F=v(),z="undefined"!=typeof window?window:{},I={animationend:D("Animation","AnimationEnd"),transitionend:D("Transition","TransitionEnd")},F&&("AnimationEvent"in z||delete I.animationend.animation,"TransitionEvent"in z||delete I.transitionend.transition),I),H={};if(v()){var U=document.createElement("div");H=U.style}var W={};function _(e){if(W[e])return W[e];var n=K[e];if(n)for(var t=Object.keys(n),r=t.length,o=0;o<r;o+=1){var a=t[o];if(Object.prototype.hasOwnProperty.call(n,a)&&a in H)return W[e]=n[a],W[e]}return""}var q=_("animationend"),B=_("transitionend"),G=!(!q||!B),J=q||"animationend",Q=B||"transitionend";function X(e,n){return e?"object"===a(e)?e[n.replace(/-\w/g,function(e){return e[1].toUpperCase()})]:"".concat(e,"-").concat(n):null}var Y=v()?L.useLayoutEffect:L.useEffect;var Z=[O,T,x,M],$=[O,V],ee=!1;function ne(e){return e===x||e===M}const te=function(e,n,t){var r=m(N),o=i(r,2),a=o[0],u=o[1],c=function(){var e=L.useRef(null);function n(){d.cancel(e.current)}return L.useEffect(function(){return function(){n()}},[]),[function t(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var a=d(function(){o<=1?r({isCanceled:function(){return a!==e.current}}):t(r,o-1)});e.current=a},n]}(),s=i(c,2),f=s[0],l=s[1];var v=n?$:Z;return Y(function(){if(a!==N&&a!==M){var e=v.indexOf(a),n=v[e+1],r=t(a);r===ee?u(n,!0):n&&f(function(e){function t(){e.isCanceled()||u(n,!0)}!0===r?t():Promise.resolve(r).then(t)})}},[e,a]),L.useEffect(function(){return function(){l()}},[]),[function(){u(O,!0)},a]};function re(e,n,t,r){var o=r.motionEnter,a=void 0===o||o,s=r.motionAppear,f=void 0===s||s,l=r.motionLeave,v=void 0===l||l,d=r.motionDeadline,y=r.motionLeaveImmediately,h=r.onAppearPrepare,k=r.onEnterPrepare,A=r.onLeavePrepare,g=r.onAppearStart,b=r.onEnterStart,C=r.onLeaveStart,R=r.onAppearActive,N=r.onEnterActive,M=r.onLeaveActive,D=r.onAppearEnd,F=r.onEnterEnd,z=r.onLeaveEnd,I=r.onVisibleChanged,K=m(),H=i(K,2),U=H[0],W=H[1],_=p(w),q=i(_,2),B=q[0],G=q[1],X=m(null),Z=i(X,2),$=Z[0],re=Z[1],oe=B(),ae=L.useRef(!1),ie=L.useRef(null);function ue(){return t()}var ce=L.useRef(!1);function se(){G(w),re(null,!0)}var fe=E(function(e){var n=B();if(n!==w){var t=ue();if(!e||e.deadline||e.target===t){var r,o=ce.current;n===S&&o?r=null==D?void 0:D(t,e):n===j&&o?r=null==F?void 0:F(t,e):n===P&&o&&(r=null==z?void 0:z(t,e)),o&&!1!==r&&se()}}}),le=function(e){var n=L.useRef();function t(n){n&&(n.removeEventListener(Q,e),n.removeEventListener(J,e))}return L.useEffect(function(){return function(){t(n.current)}},[]),[function(r){n.current&&n.current!==r&&t(n.current),r&&r!==n.current&&(r.addEventListener(Q,e),r.addEventListener(J,e),n.current=r)},t]}(fe),ve=i(le,1)[0],de=function(e){switch(e){case S:return c(c(c({},O,h),T,g),x,R);case j:return c(c(c({},O,k),T,b),x,N);case P:return c(c(c({},O,A),T,C),x,M);default:return{}}},me=L.useMemo(function(){return de(oe)},[oe]),pe=te(oe,!e,function(e){if(e===O){var n=me[O];return n?n(ue()):ee}var t;he in me&&re((null===(t=me[he])||void 0===t?void 0:t.call(me,ue(),null))||null);return he===x&&oe!==w&&(ve(ue()),d>0&&(clearTimeout(ie.current),ie.current=setTimeout(function(){fe({deadline:!0})},d))),he===V&&se(),true}),Ee=i(pe,2),ye=Ee[0],he=Ee[1],ke=ne(he);ce.current=ke;var Ae=L.useRef(null);Y(function(){if(!ae.current||Ae.current!==n){W(n);var t,r=ae.current;ae.current=!0,!r&&n&&f&&(t=S),r&&n&&a&&(t=j),(r&&!n&&v||!r&&y&&!n&&v)&&(t=P);var o=de(t);t&&(e||o[O])?(G(t),ye()):G(w),Ae.current=n}},[n]),L.useEffect(function(){(oe===S&&!f||oe===j&&!a||oe===P&&!v)&&G(w)},[f,a,v]),L.useEffect(function(){return function(){ae.current=!1,clearTimeout(ie.current)}},[]);var Le=L.useRef(!1);L.useEffect(function(){U&&(Le.current=!0),void 0!==U&&oe===w&&((Le.current||U)&&(null==I||I(U)),Le.current=!0)},[U,oe]);var ge=$;return me[O]&&he===T&&(ge=u({transition:"none"},ge)),[oe,he,ge,null!=U?U:n]}const oe=function(e){var n=e;"object"===a(e)&&(n=e.transitionSupport);var t=L.forwardRef(function(e,t){var r=e.visible,o=void 0===r||r,a=e.removeOnLeave,s=void 0===a||a,f=e.forceRender,v=e.children,d=e.motionName,m=e.leavedClassName,p=e.eventProps,E=function(e,t){return!(!e.motionName||!n||!1===t)}(e,L.useContext(b).motion),g=L.useRef(),C=L.useRef();var S=re(E,o,function(){try{return g.current instanceof HTMLElement?g.current:A(C.current)}catch(e){return null}},e),j=i(S,4),P=j[0],N=j[1],x=j[2],M=j[3],V=L.useRef(M);M&&(V.current=!0);var D,F=L.useCallback(function(e){g.current=e,y(t,e)},[t]),z=u(u({},p),{},{visible:o});if(v)if(P===w)D=M?v(u({},z),F):!s&&V.current&&m?v(u(u({},z),{},{className:m}),F):f||!s&&!m?v(u(u({},z),{},{style:{display:"none"}}),F):null;else{var I;N===O?I="prepare":ne(N)?I="active":N===T&&(I="start");var K=X(d,"".concat(P,"-").concat(I));D=v(u(u({},z),{},{className:l(X(d,P),c(c({},K,K&&I),d,"string"==typeof d)),style:x}),F)}else D=null;L.isValidElement(D)&&h(D)&&(k(D)||(D=L.cloneElement(D,{ref:F})));return L.createElement(R,{ref:C},D)});return t.displayName="CSSMotion",t}(G);var ae="add",ie="keep",ue="remove",ce="removed";function se(e){var n;return n=e&&"object"===a(e)&&"key"in e?e:{key:e},u(u({},n),{},{key:String(n.key)})}function fe(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(se)}var le=["component","children","onVisibleChanged","onAllRemoved"],ve=["status"],de=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];const me=function(a){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe,l=function(a){n(v,a);var l=t(v);function v(){var e;r(this,v);for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return e=l.call.apply(l,[this].concat(t)),c(s(e),"state",{keyEntities:[]}),c(s(e),"removeKey",function(n){e.setState(function(e){return{keyEntities:e.keyEntities.map(function(e){return e.key!==n?e:u(u({},e),{},{status:ce})})}},function(){0===e.state.keyEntities.filter(function(e){return e.status!==ce}).length&&e.props.onAllRemoved&&e.props.onAllRemoved()})}),e}return o(v,[{key:"render",value:function(){var n=this,t=this.state.keyEntities,r=this.props,o=r.component,a=r.children,c=r.onVisibleChanged;r.onAllRemoved;var s=e(r,le),l=o||L.Fragment,v={};return de.forEach(function(e){v[e]=s[e],delete s[e]}),delete s.keys,L.createElement(l,s,t.map(function(t,r){var o=t.status,s=e(t,ve),l=o===ae||o===ie;return L.createElement(i,f({},v,{key:s.key,visible:l,eventProps:s,onVisibleChanged:function(e){null==c||c(e,{key:s.key}),e||n.removeKey(s.key)}}),function(e,n){return a(u(u({},e),{},{index:r}),n)})}))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var t=e.keys,r=n.keyEntities,o=fe(t),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=[],r=0,o=n.length,a=fe(e),i=fe(n);a.forEach(function(e){for(var n=!1,a=r;a<o;a+=1){var c=i[a];if(c.key===e.key){r<a&&(t=t.concat(i.slice(r,a).map(function(e){return u(u({},e),{},{status:ae})})),r=a),t.push(u(u({},c),{},{status:ie})),r+=1,n=!0;break}}n||t.push(u(u({},e),{},{status:ue}))}),r<o&&(t=t.concat(i.slice(r).map(function(e){return u(u({},e),{},{status:ae})})));var c={};return t.forEach(function(e){var n=e.key;c[n]=(c[n]||0)+1}),Object.keys(c).filter(function(e){return c[e]>1}).forEach(function(e){(t=t.filter(function(n){var t=n.key,r=n.status;return t!==e||r!==ue})).forEach(function(n){n.key===e&&(n.status=ie)})}),t}(r,o);return{keyEntities:a.filter(function(e){var n=r.find(function(n){var t=n.key;return e.key===t});return!n||n.status!==ce||e.status!==ue})}}}]),v}(L.Component);return c(l,"defaultProps",{component:"div"}),l}(G);export{oe as C,C as M,me as a};
