import{j as e}from"./index-D0cJwDsb.js";import{r as m}from"./vendor-DD54NZMZ.js";import{F as n,T as ae,b9 as h,B as r,ag as A,f as x,u as I,y as M,l as p,I as l,$ as o,aM as te,e as g,C as i,a5 as P,H as ne,aR as se,a3 as c,aP as y,b2 as w,M as E,A as _,J as j,ba as G,aY as B,X as F,q as $,O as ie,am as f,bb as le,bc as re,s as k}from"./antd-pmzi8FkM.js";import"./utils-Db1EesZb.js";const{Title:U,Text:oe,Paragraph:ce}=ae,{TabPane:d}=I,{Option:s}=o,{TextArea:je}=l,de=[{id:1,name:"VNPay",logo:"/logos/vnpay.png",status:"active",integration:"direct",methods:["credit_card","bank_transfer","qr_code"],fee:"2.5%",transactions:1245,volume:856e6},{id:2,name:"Momo",logo:"/logos/momo.png",status:"active",integration:"direct",methods:["ewallet","qr_code"],fee:"2.2%",transactions:980,volume:543e6},{id:3,name:"ZaloPay",logo:"/logos/zalopay.png",status:"inactive",integration:"direct",methods:["ewallet","qr_code","credit_card"],fee:"2.4%",transactions:0,volume:0},{id:4,name:"Paypal",logo:"/logos/paypal.png",status:"active",integration:"direct",methods:["credit_card","paypal_balance"],fee:"3.9% + 0.3 USD",transactions:65,volume:158e6},{id:5,name:"Stripe",logo:"/logos/stripe.png",status:"inactive",integration:"available",methods:["credit_card","bank_transfer"],fee:"3.4% + 0.5 USD",transactions:0,volume:0}],ue=[{id:"TXN-1001",date:"2023-10-07 14:32:15",gateway:"VNPay",amount:245e4,method:"credit_card",status:"success",customer:"Nguyen Van A",orderId:"ORD-5432"},{id:"TXN-1002",date:"2023-10-07 13:45:21",gateway:"Momo",amount:185e4,method:"ewallet",status:"success",customer:"Tran Thi B",orderId:"ORD-5431"},{id:"TXN-1003",date:"2023-10-07 11:22:45",gateway:"VNPay",amount:378e4,method:"bank_transfer",status:"success",customer:"Le Van C",orderId:"ORD-5430"},{id:"TXN-1004",date:"2023-10-07 10:15:33",gateway:"Paypal",amount:425e4,method:"credit_card",status:"success",customer:"John Smith",orderId:"ORD-5429"},{id:"TXN-1005",date:"2023-10-07 09:42:18",gateway:"VNPay",amount:165e4,method:"qr_code",status:"failed",customer:"Hoang Van D",orderId:"ORD-5428",errorMessage:"Transaction timeout"}],me=[{id:"vnpay",name:"VNPay",logo:"/logos/vnpay.png",description:"Leading payment gateway in Vietnam supporting bank transfer, cards, and QR payments",status:"connected",countries:["Vietnam"],currencies:["VND"]},{id:"momo",name:"Momo",logo:"/logos/momo.png",description:"Popular e-wallet in Vietnam with extensive user base",status:"connected",countries:["Vietnam"],currencies:["VND"]},{id:"zalopay",name:"ZaloPay",logo:"/logos/zalopay.png",description:"E-wallet from Zalo with growing market share in Vietnam",status:"connected",countries:["Vietnam"],currencies:["VND"]},{id:"paypal",name:"PayPal",logo:"/logos/paypal.png",description:"Global payment processor for international sales",status:"connected",countries:["Global"],currencies:["USD","EUR","GBP","AUD","CAD","JPY","VND"]},{id:"stripe",name:"Stripe",logo:"/logos/stripe.png",description:"Comprehensive payment platform for web and mobile transactions",status:"available",countries:["Global"],currencies:["USD","EUR","GBP","AUD","CAD","JPY","VND"]},{id:"onepay",name:"OnePay",logo:"/logos/onepay.png",description:"Vietnamese payment gateway for domestic and international cards",status:"available",countries:["Vietnam"],currencies:["VND","USD"]},{id:"alepay",name:"Alepay",logo:"/logos/alepay.png",description:"Payment gateway specializing in installment payments",status:"available",countries:["Vietnam"],currencies:["VND"]},{id:"2checkout",name:"2Checkout",logo:"/logos/2checkout.png",description:"Global payment processor with tax and compliance management",status:"available",countries:["Global"],currencies:["USD","EUR","GBP","VND"]}],ge=()=>{const[q,S]=m.useState("gateways"),[z,b]=m.useState(!1),[K,v]=m.useState(!1),[u,D]=m.useState(null),[V]=n.useForm(),[O,W]=m.useState(1e4),[Z,T]=m.useState(!1),N=a=>{D(a),b(!0)},J=a=>{D(a),v(!0)},L=()=>{V.validateFields().then(a=>{console.log("Form values:",a),k.success(`${u.name} configuration saved successfully`),b(!1)}).catch(a=>{console.log("Form validation failed:",a)})},X=()=>{T(!0),k.loading(`Processing test payment via ${u.name}...`,2),setTimeout(()=>{T(!1),k.success("Test payment completed successfully"),v(!1)},2500)},Y=(a,t)=>{console.log(`${t.name} status set to ${a?"active":"inactive"}`),k.success(`${t.name} ${a?"activated":"deactivated"} successfully`)},R=a=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(a),Q=[{title:"Gateway",dataIndex:"name",key:"name",render:(a,t)=>e.jsxs(p,{children:[t.logo?e.jsx(P,{src:t.logo}):e.jsx(P,{icon:e.jsx(h,{})}),e.jsx(oe,{strong:!0,children:a})]})},{title:"Status",dataIndex:"status",key:"status",render:(a,t)=>e.jsx(c,{checked:a==="active",onChange:C=>Y(C,t)})},{title:"Methods",dataIndex:"methods",key:"methods",render:a=>e.jsxs(p,{children:[a.includes("credit_card")&&e.jsx(j,{title:"Credit Card",children:e.jsx(h,{style:{fontSize:"16px"}})}),a.includes("bank_transfer")&&e.jsx(j,{title:"Bank Transfer",children:e.jsx(G,{style:{fontSize:"16px"}})}),a.includes("ewallet")&&e.jsx(j,{title:"E-Wallet",children:e.jsx(B,{style:{fontSize:"16px"}})}),a.includes("qr_code")&&e.jsx(j,{title:"QR Code",children:e.jsx(F,{style:{fontSize:"16px"}})}),a.includes("paypal_balance")&&e.jsx(j,{title:"PayPal Balance",children:e.jsx($,{style:{fontSize:"16px"}})})]})},{title:"Fee",dataIndex:"fee",key:"fee"},{title:"Transactions",dataIndex:"transactions",key:"transactions",sorter:(a,t)=>a.transactions-t.transactions},{title:"Volume",dataIndex:"volume",key:"volume",render:a=>R(a),sorter:(a,t)=>a.volume-t.volume},{title:"Actions",key:"actions",render:(a,t)=>e.jsxs(p,{children:[e.jsx(r,{icon:e.jsx(w,{}),onClick:()=>N(t),children:"Configure"}),e.jsx(r,{icon:e.jsx(ie,{}),onClick:()=>J(t),disabled:t.status!=="active",children:"Test"})]})}],H=[{title:"Transaction ID",dataIndex:"id",key:"id",render:a=>e.jsx("a",{children:a})},{title:"Date",dataIndex:"date",key:"date",sorter:(a,t)=>new Date(a.date)-new Date(t.date)},{title:"Gateway",dataIndex:"gateway",key:"gateway",filters:[{text:"VNPay",value:"VNPay"},{text:"Momo",value:"Momo"},{text:"ZaloPay",value:"ZaloPay"},{text:"PayPal",value:"PayPal"}],onFilter:(a,t)=>t.gateway===a},{title:"Amount",dataIndex:"amount",key:"amount",render:a=>R(a),sorter:(a,t)=>a.amount-t.amount},{title:"Payment Method",dataIndex:"method",key:"method",render:a=>{const t={credit_card:{icon:e.jsx(h,{}),text:"Credit Card"},bank_transfer:{icon:e.jsx(G,{}),text:"Bank Transfer"},ewallet:{icon:e.jsx(B,{}),text:"E-Wallet"},qr_code:{icon:e.jsx(F,{}),text:"QR Code"},paypal_balance:{icon:e.jsx($,{}),text:"PayPal Balance"}};return e.jsxs(p,{children:[t[a].icon,t[a].text]})}},{title:"Status",dataIndex:"status",key:"status",render:(a,t)=>a==="success"?e.jsx(f,{status:"success",text:"Success"}):a==="failed"?e.jsx(j,{title:t.errorMessage||"Transaction failed",children:e.jsx(f,{status:"error",text:"Failed"})}):a==="pending"?e.jsx(f,{status:"processing",text:"Pending"}):a==="refunded"?e.jsx(f,{status:"warning",text:"Refunded"}):e.jsx(f,{status:"default",text:a}),filters:[{text:"Success",value:"success"},{text:"Failed",value:"failed"},{text:"Pending",value:"pending"},{text:"Refunded",value:"refunded"}],onFilter:(a,t)=>t.status===a},{title:"Customer",dataIndex:"customer",key:"customer"},{title:"Order",dataIndex:"orderId",key:"orderId",render:a=>e.jsx("a",{children:a})}],ee=()=>u?e.jsx(n,{form:V,layout:"vertical",initialValues:{environment:"production",captureMethod:"automatic",recurringPayments:!1,webhookUrl:"https://api.truongphat.com/webhooks/payments",notificationEmail:"payments@truongphat.com",currency:"VND",threeDSecure:!0},children:e.jsxs(I,{defaultActiveKey:"credentials",children:[e.jsxs(d,{tab:e.jsxs("span",{children:[e.jsx(le,{})," Authentication"]}),children:[e.jsx(_,{message:"Sensitive Information",description:"API keys and credentials are encrypted and stored securely. Only authorized users can view and modify these settings.",type:"warning",showIcon:!0,style:{marginBottom:"24px"}}),e.jsxs(g,{gutter:24,children:[e.jsxs(i,{span:12,children:[e.jsx(n.Item,{label:"API Key",name:"apiKey",rules:[{required:!0,message:"API Key is required"}],children:e.jsx(l.Password,{placeholder:"Enter API Key"})}),e.jsx(n.Item,{label:"Secret Key",name:"secretKey",rules:[{required:!0,message:"Secret Key is required"}],children:e.jsx(l.Password,{placeholder:"Enter Secret Key"})})]}),e.jsxs(i,{span:12,children:[e.jsx(n.Item,{label:"Merchant ID",name:"merchantId",rules:[{required:!0,message:"Merchant ID is required"}],children:e.jsx(l,{placeholder:"Enter Merchant ID"})}),e.jsx(n.Item,{label:"Environment",name:"environment",children:e.jsxs(y.Group,{children:[e.jsx(y.Button,{value:"sandbox",children:"Sandbox"}),e.jsx(y.Button,{value:"production",children:"Production"})]})})]})]})]},"credentials"),e.jsx(d,{tab:e.jsxs("span",{children:[e.jsx(w,{})," Payment Settings"]}),children:e.jsxs(g,{gutter:24,children:[e.jsxs(i,{span:12,children:[e.jsx(n.Item,{label:"Default Currency",name:"currency",children:e.jsxs(o,{children:[e.jsx(s,{value:"VND",children:"VND"}),e.jsx(s,{value:"USD",children:"USD"}),e.jsx(s,{value:"EUR",children:"EUR"}),e.jsx(s,{value:"JPY",children:"JPY"}),e.jsx(s,{value:"SGD",children:"SGD"})]})}),e.jsx(n.Item,{label:"Capture Method",name:"captureMethod",tooltip:"Choose when to capture payment",children:e.jsxs(o,{children:[e.jsx(s,{value:"automatic",children:"Automatic (capture immediately)"}),e.jsx(s,{value:"manual",children:"Manual (authorize now, capture later)"})]})}),e.jsx(n.Item,{label:"Statement Descriptor",name:"statementDescriptor",tooltip:"Text that appears on customer's bank statement",children:e.jsx(l,{placeholder:"E.g., Trường Phát Computer"})})]}),e.jsxs(i,{span:12,children:[e.jsx(n.Item,{label:"3D Secure",name:"threeDSecure",valuePropName:"checked",tooltip:"Add an extra layer of fraud protection",children:e.jsx(c,{})}),e.jsx(n.Item,{label:"Recurring Payments",name:"recurringPayments",valuePropName:"checked",children:e.jsx(c,{})}),e.jsx(n.Item,{label:"Minimum Transaction Amount",name:"minTransaction",children:e.jsx(l,{type:"number",prefix:"₫",placeholder:"0",addonAfter:"VND"})})]})]})},"settings"),e.jsxs(d,{tab:e.jsxs("span",{children:[e.jsx(re,{})," Webhooks & Notifications"]}),children:[e.jsx(n.Item,{label:"Webhook URL",name:"webhookUrl",tooltip:"Your server endpoint that will receive payment notifications",children:e.jsx(l,{placeholder:"https://your-website.com/webhook/payment"})}),e.jsx(n.Item,{label:"Webhook Secret",name:"webhookSecret",tooltip:"Secret key to verify webhook requests",children:e.jsx(l.Password,{placeholder:"Webhook secret"})}),e.jsx(n.Item,{label:"Notification Email",name:"notificationEmail",tooltip:"Email to receive payment notifications",children:e.jsx(l,{type:"email",placeholder:"payments@yourcompany.com"})}),e.jsx(n.Item,{label:"Events to Notify",name:"notifyEvents",initialValue:["payment_success","payment_failed","refund"],children:e.jsx(Checkbox.Group,{children:e.jsxs(g,{children:[e.jsx(i,{span:8,children:e.jsx(Checkbox,{value:"payment_success",children:"Payment Success"})}),e.jsx(i,{span:8,children:e.jsx(Checkbox,{value:"payment_failed",children:"Payment Failed"})}),e.jsx(i,{span:8,children:e.jsx(Checkbox,{value:"payment_pending",children:"Payment Pending"})}),e.jsx(i,{span:8,children:e.jsx(Checkbox,{value:"refund",children:"Refund"})}),e.jsx(i,{span:8,children:e.jsx(Checkbox,{value:"dispute",children:"Dispute"})}),e.jsx(i,{span:8,children:e.jsx(Checkbox,{value:"chargeback",children:"Chargeback"})})]})})})]},"webhooks")]})}):null;return e.jsxs("div",{style:{padding:"24px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[e.jsxs(U,{level:2,children:[e.jsx(h,{})," Payment Gateways"]}),e.jsx(r,{type:"primary",icon:e.jsx(A,{}),onClick:()=>S("available"),children:"Add Payment Gateway"})]}),e.jsx(x,{children:e.jsxs(I,{activeKey:q,onChange:S,children:[e.jsx(d,{tab:e.jsxs("span",{children:[e.jsx(h,{})," Active Gateways"]}),children:e.jsx(M,{columns:Q,dataSource:de.filter(a=>a.integration!=="available"),rowKey:"id",pagination:!1})},"gateways"),e.jsxs(d,{tab:e.jsxs("span",{children:[e.jsx(te,{})," Transaction History"]}),children:[e.jsx("div",{style:{marginBottom:16},children:e.jsxs(p,{children:[e.jsx(l.Search,{placeholder:"Search transactions",style:{width:250}}),e.jsxs(o,{placeholder:"Payment Gateway",style:{width:150},allowClear:!0,children:[e.jsx(s,{value:"vnpay",children:"VNPay"}),e.jsx(s,{value:"momo",children:"Momo"}),e.jsx(s,{value:"zalopay",children:"ZaloPay"}),e.jsx(s,{value:"paypal",children:"PayPal"})]}),e.jsxs(o,{placeholder:"Status",style:{width:150},allowClear:!0,children:[e.jsx(s,{value:"success",children:"Success"}),e.jsx(s,{value:"failed",children:"Failed"}),e.jsx(s,{value:"pending",children:"Pending"}),e.jsx(s,{value:"refunded",children:"Refunded"})]})]})}),e.jsx(M,{columns:H,dataSource:ue,rowKey:"id",pagination:{pageSize:10}})]},"transactions"),e.jsx(d,{tab:e.jsxs("span",{children:[e.jsx(A,{})," Available Gateways"]}),children:e.jsx(g,{gutter:[24,24],children:me.map(a=>e.jsx(i,{xs:24,sm:12,lg:8,children:e.jsx(x,{hoverable:!0,style:{height:"100%"},actions:[a.status==="connected"?e.jsx(r,{type:"default",disabled:!0,children:"Connected"}):e.jsx(r,{type:"primary",onClick:()=>N(a),children:"Connect"})],children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"16px 0"},children:[a.logo?e.jsx(P,{size:64,src:a.logo,style:{marginBottom:16}}):e.jsx(P,{size:64,icon:e.jsx(h,{}),style:{marginBottom:16}}),e.jsx(U,{level:4,children:a.name}),e.jsx(ce,{style:{textAlign:"center"},children:a.description}),e.jsx("div",{style:{marginTop:16},children:e.jsx(p,{children:a.countries.map((t,C)=>e.jsx(ne,{icon:e.jsx(se,{}),children:t},C))})})]})})},a.id))})},"available"),e.jsx(d,{tab:e.jsxs("span",{children:[e.jsx(w,{})," Global Settings"]}),children:e.jsxs(n,{layout:"vertical",children:[e.jsxs(g,{gutter:24,children:[e.jsxs(i,{span:12,children:[e.jsxs(x,{title:"Default Payment Settings",style:{marginBottom:24},children:[e.jsx(n.Item,{label:"Default Payment Gateway",name:"defaultGateway",initialValue:"vnpay",children:e.jsxs(o,{children:[e.jsx(s,{value:"vnpay",children:"VNPay"}),e.jsx(s,{value:"momo",children:"Momo"}),e.jsx(s,{value:"zalopay",children:"ZaloPay"}),e.jsx(s,{value:"paypal",children:"PayPal"})]})}),e.jsx(n.Item,{label:"Payment Page Timeout",name:"paymentTimeout",tooltip:"Time in minutes before payment session expires",initialValue:30,children:e.jsxs(o,{children:[e.jsx(s,{value:15,children:"15 minutes"}),e.jsx(s,{value:30,children:"30 minutes"}),e.jsx(s,{value:60,children:"1 hour"}),e.jsx(s,{value:120,children:"2 hours"})]})}),e.jsx(n.Item,{label:"Payment Methods Display Order",name:"methodsOrder",initialValue:["card","ewallet","bank","qr"],children:e.jsxs(o,{mode:"multiple",children:[e.jsx(s,{value:"card",children:"Credit/Debit Cards"}),e.jsx(s,{value:"ewallet",children:"E-Wallets"}),e.jsx(s,{value:"bank",children:"Bank Transfer"}),e.jsx(s,{value:"qr",children:"QR Payments"})]})})]}),e.jsxs(x,{title:"Security Settings",children:[e.jsx(n.Item,{label:"Fraud Protection",name:"fraudProtection",valuePropName:"checked",initialValue:!0,children:e.jsx(c,{checkedChildren:"Enabled",unCheckedChildren:"Disabled"})}),e.jsx(n.Item,{label:"IP Address Verification",name:"ipVerification",valuePropName:"checked",initialValue:!0,children:e.jsx(c,{checkedChildren:"Enabled",unCheckedChildren:"Disabled"})}),e.jsx(n.Item,{label:"Maximum Failed Attempts",name:"maxFailedAttempts",tooltip:"Number of failed payment attempts before blocking",initialValue:5,children:e.jsxs(o,{children:[e.jsx(s,{value:3,children:"3 attempts"}),e.jsx(s,{value:5,children:"5 attempts"}),e.jsx(s,{value:10,children:"10 attempts"})]})})]})]}),e.jsxs(i,{span:12,children:[e.jsxs(x,{title:"Checkout Experience",style:{marginBottom:24},children:[e.jsx(n.Item,{label:"Payment Form Layout",name:"paymentLayout",initialValue:"embedded",children:e.jsxs(y.Group,{children:[e.jsx(y,{value:"embedded",children:"Embedded Form"}),e.jsx(y,{value:"redirect",children:"Redirect to Gateway"})]})}),e.jsx(n.Item,{label:"Save Payment Methods",name:"savePaymentMethods",valuePropName:"checked",initialValue:!0,tooltip:"Allow customers to save payment methods for future purchases",children:e.jsx(c,{checkedChildren:"Enabled",unCheckedChildren:"Disabled"})}),e.jsx(n.Item,{label:"Display Payment Icons",name:"displayIcons",valuePropName:"checked",initialValue:!0,children:e.jsx(c,{checkedChildren:"Enabled",unCheckedChildren:"Disabled"})})]}),e.jsxs(x,{title:"Notification Settings",children:[e.jsx(n.Item,{label:"Email Notifications",name:"emailNotifications",valuePropName:"checked",initialValue:!0,children:e.jsx(c,{checkedChildren:"Enabled",unCheckedChildren:"Disabled"})}),e.jsx(n.Item,{label:"Payment Receipt",name:"paymentReceipt",valuePropName:"checked",initialValue:!0,tooltip:"Send payment receipt to customers",children:e.jsx(c,{checkedChildren:"Enabled",unCheckedChildren:"Disabled"})}),e.jsx(n.Item,{label:"Admin Notification Email",name:"adminEmail",initialValue:"finance@truongphat.com",children:e.jsx(l,{placeholder:"Email to receive payment notifications"})})]})]})]}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:24},children:e.jsx(r,{type:"primary",children:"Save Settings"})})]})},"settings")]})}),e.jsx(E,{title:`Configure ${u?.name}`,visible:z,onCancel:()=>b(!1),width:800,footer:[e.jsx(r,{onClick:()=>b(!1),children:"Cancel"},"back"),e.jsx(r,{type:"primary",onClick:L,children:"Save Configuration"},"submit")],children:ee()}),e.jsxs(E,{title:`Test Payment - ${u?.name}`,visible:K,onCancel:()=>v(!1),footer:[e.jsx(r,{onClick:()=>v(!1),children:"Cancel"},"back"),e.jsx(r,{type:"primary",onClick:X,loading:Z,children:"Process Test Payment"},"submit")],children:[e.jsx(_,{message:"Test Mode",description:"This will create a test transaction with the selected payment gateway. No actual money will be charged.",type:"info",showIcon:!0,style:{marginBottom:24}}),e.jsxs(n,{layout:"vertical",children:[e.jsx(n.Item,{label:"Amount",name:"amount",children:e.jsx(l,{type:"number",prefix:"₫",value:O,onChange:a=>W(a.target.value),addonAfter:"VND",defaultValue:"10000"})}),e.jsx(n.Item,{label:"Payment Method",name:"paymentMethod",children:e.jsx(o,{defaultValue:"credit_card",children:u?.methods?.map(a=>{const t={credit_card:{text:"Credit Card"},bank_transfer:{text:"Bank Transfer"},ewallet:{text:"E-Wallet"},qr_code:{text:"QR Code"},paypal_balance:{text:"PayPal Balance"}};return e.jsx(s,{value:a,children:t[a]?.text||a},a)})})})]})]})]})};export{ge as default};
