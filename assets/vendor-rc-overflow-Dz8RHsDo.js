import{g as e,k as n,f as t,h as r}from"./polyfills-B4r5O4me.js";import{r as i,e as a,R as s}from"./react-vendor-D_ybsntB.js";import{c as o}from"./vendor-classnames-Bjqz8XQ3.js";import{R as l}from"./vendor-rc-resize-observer-DnkXipSO.js";import{w as u,e as c,l as f}from"./vendor-rc-util-Cfhh6bGy.js";var m=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],d=void 0;function v(r,a){var s=r.prefixCls,u=r.invalidate,c=r.item,f=r.renderItem,v=r.responsive,p=r.responsiveDisabled,y=r.registerSize,h=r.itemKey,E=r.className,g=r.style,b=r.children,N=r.display,R=r.order,C=r.component,w=void 0===C?"div":C,x=e(r,m),I=v&&!N;function S(e){y(h,e)}i.useEffect(function(){return function(){S(null)}},[]);var M,z=f&&c!==d?f(c,{index:R}):b;u||(M={opacity:I?0:1,height:I?0:d,overflowY:I?"hidden":d,order:v?R:d,pointerEvents:I?"none":d,position:I?"absolute":d});var k={};I&&(k["aria-hidden"]=!0);var A=i.createElement(w,n({className:o(!u&&s,E),style:t(t({},M),g)},k,x,{ref:a}),z);return v&&(A=i.createElement(l,{onResize:function(e){S(e.offsetWidth)},disabled:p},A)),A}var p=i.forwardRef(v);function y(){var e=i.useRef(null);return function(n){e.current||(e.current=[],function(e){if("undefined"==typeof MessageChannel)u(e);else{var n=new MessageChannel;n.port1.onmessage=function(){return e()},n.port2.postMessage(void 0)}}(function(){a.unstable_batchedUpdates(function(){e.current.forEach(function(e){e()}),e.current=null})})),e.current.push(n)}}function h(e,n){var t=i.useState(n),a=r(t,2),s=a[0],o=a[1];return[s,c(function(n){e(function(){o(n)})})]}p.displayName="Item";var E=s.createContext(null),g=["component"],b=["className"],N=["className"],R=function(t,r){var a=i.useContext(E);if(!a){var s=t.component,l=void 0===s?"div":s,u=e(t,g);return i.createElement(l,n({},u,{ref:r}))}var c=a.className,f=e(a,b),m=t.className,d=e(t,N);return i.createElement(E.Provider,{value:null},i.createElement(p,n({ref:r,className:o(c,m)},f,d)))},C=i.forwardRef(R);C.displayName="RawItem";var w=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],x="responsive",I="invalidate";function S(e){return"+ ".concat(e.length," ...")}function M(a,s){var u=a.prefixCls,c=void 0===u?"rc-overflow":u,m=a.data,d=void 0===m?[]:m,v=a.renderItem,g=a.renderRawItem,b=a.itemKey,N=a.itemWidth,R=void 0===N?10:N,C=a.ssr,M=a.style,z=a.className,k=a.maxCount,A=a.renderRest,K=a.renderRawRest,j=a.suffix,D=a.component,_=void 0===D?"div":D,P=a.itemComponent,V=a.onVisibleChange,W=e(a,w),F="full"===C,T=y(),G=h(T,null),O=r(G,2),X=O[0],L=O[1],U=X||0,Y=h(T,new Map),q=r(Y,2),B=q[0],H=q[1],J=h(T,0),Q=r(J,2),Z=Q[0],$=Q[1],ee=h(T,0),ne=r(ee,2),te=ne[0],re=ne[1],ie=h(T,0),ae=r(ie,2),se=ae[0],oe=ae[1],le=i.useState(null),ue=r(le,2),ce=ue[0],fe=ue[1],me=i.useState(null),de=r(me,2),ve=de[0],pe=de[1],ye=i.useMemo(function(){return null===ve&&F?Number.MAX_SAFE_INTEGER:ve||0},[ve,X]),he=i.useState(!1),Ee=r(he,2),ge=Ee[0],be=Ee[1],Ne="".concat(c,"-item"),Re=Math.max(Z,te),Ce=k===x,we=d.length&&Ce,xe=k===I,Ie=we||"number"==typeof k&&d.length>k,Se=i.useMemo(function(){var e=d;return we?e=null===X&&F?d:d.slice(0,Math.min(d.length,U/R)):"number"==typeof k&&(e=d.slice(0,k)),e},[d,R,X,k,we]),Me=i.useMemo(function(){return we?d.slice(ye+1):d.slice(Se.length)},[d,Se,we,ye]),ze=i.useCallback(function(e,n){var t;return"function"==typeof b?b(e):null!==(t=b&&(null==e?void 0:e[b]))&&void 0!==t?t:n},[b]),ke=i.useCallback(v||function(e){return e},[v]);function Ae(e,n,t){(ve!==e||void 0!==n&&n!==ce)&&(pe(e),t||(be(e<d.length-1),null==V||V(e)),void 0!==n&&fe(n))}function Ke(e,n){H(function(t){var r=new Map(t);return null===n?r.delete(e):r.set(e,n),r})}function je(e){return B.get(ze(Se[e],e))}f(function(){if(U&&"number"==typeof Re&&Se){var e=se,n=Se.length,t=n-1;if(!n)return void Ae(0,null);for(var r=0;r<n;r+=1){var i=je(r);if(F&&(i=i||0),void 0===i){Ae(r-1,void 0,!0);break}if(e+=i,0===t&&e<=U||r===t-1&&e+je(t)<=U){Ae(t,null);break}if(e+Re>U){Ae(r-1,e-i-se+te);break}}j&&je(0)+se>U&&fe(null)}},[U,B,te,se,ze,Se]);var De=ge&&!!Me.length,_e={};null!==ce&&we&&(_e={position:"absolute",left:ce,top:0});var Pe={prefixCls:Ne,responsive:we,component:P,invalidate:xe},Ve=g?function(e,n){var r=ze(e,n);return i.createElement(E.Provider,{key:r,value:t(t({},Pe),{},{order:n,item:e,itemKey:r,registerSize:Ke,display:n<=ye})},g(e,n))}:function(e,t){var r=ze(e,t);return i.createElement(p,n({},Pe,{order:t,key:r,item:e,renderItem:ke,itemKey:r,registerSize:Ke,display:t<=ye}))},We={order:De?ye:Number.MAX_SAFE_INTEGER,className:"".concat(Ne,"-rest"),registerSize:function(e,n){re(n),$(te)},display:De},Fe=A||S,Te=K?i.createElement(E.Provider,{value:t(t({},Pe),We)},K(Me)):i.createElement(p,n({},Pe,We),"function"==typeof Fe?Fe(Me):Fe),Ge=i.createElement(_,n({className:o(!xe&&c,z),style:M,ref:s},W),Se.map(Ve),Ie?Te:null,j&&i.createElement(p,n({},Pe,{responsive:Ce,responsiveDisabled:!we,order:ye,className:"".concat(Ne,"-suffix"),registerSize:function(e,n){oe(n)},display:!0,style:_e}),j));return Ce?i.createElement(l,{onResize:function(e,n){L(n.clientWidth)},disabled:!we},Ge):Ge}var z=i.forwardRef(M);z.displayName="Overflow",z.Item=C,z.RESPONSIVE=x,z.INVALIDATE=I;export{z as F};
