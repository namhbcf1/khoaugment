import{_ as t,a as n,b as e,c as i,n as a,o as r}from"./polyfills-BjGv5uaK.js";import{A as s,k as o,s as c,l as v}from"./vendor-antv-g-lite-BsxRpwbw.js";import{P as u}from"./vendor-antv-g-plugin-canvas-path-generator-DQ8Nkyg4.js";import{P as h}from"./vendor-antv-g-plugin-canvas-picker-ZcTkb3Op.js";import{P as l}from"./vendor-antv-g-plugin-canvas-renderer-CkntbpzN.js";import{P as g}from"./vendor-antv-g-plugin-dom-interaction-IMQMND9X.js";import{P as d}from"./vendor-antv-g-plugin-html-renderer-Dt8n5LoT.js";import{P as p}from"./vendor-antv-g-plugin-image-loader-Dw6KHXGs.js";import{c as f}from"./vendor-antv-util-BIOdtugi.js";
/*!
 * @antv/g-canvas
 * @description A renderer implemented by Canvas 2D API
 * @version 2.0.44
 * @date 5/30/2025, 2:57:07 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */var m=function(){return n(function t(n){e(this,t),this.renderingContext=n.renderingContext,this.canvasConfig=n.config},[{key:"init",value:function(){var t=this.canvasConfig,n=t.container,e=t.canvas;if(e)this.$canvas=e,n&&e.parentElement!==n&&n.appendChild(e),this.$container=e.parentElement,this.canvasConfig.container=this.$container;else if(n&&(this.$container=f(n)?document.getElementById(n):n,this.$container)){var i=document.createElement("canvas");this.$container.appendChild(i),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=i}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(t,n){var e=this.canvasConfig.devicePixelRatio;this.dpr=e,this.$canvas&&(this.$canvas.width=this.dpr*t,this.$canvas.height=this.dpr*n,c(this.$canvas,t,n)),this.renderingContext.renderReasons.add(v.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(t){this.$container&&this.$container.style&&(this.$container.style.cursor=t)}},{key:"toDataURL",value:(t=a(r().mark(function t(){var n,e,i,a=arguments;return r().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=(n=a.length>0&&void 0!==a[0]?a[0]:{}).type,i=n.encoderOptions,t.abrupt("return",this.context.canvas.toDataURL(e,i));case 3:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)})}]);var t}(),y=function(){function a(){var t;e(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=i(this,a,[].concat(r))).name="canvas-context-register",t}return t(a,o),n(a,[{key:"init",value:function(){this.context.ContextService=m}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(),$=function(){function a(t){var n;return e(this,a),(n=i(this,a,[t])).registerPlugin(new y),n.registerPlugin(new p),n.registerPlugin(new u),n.registerPlugin(new l),n.registerPlugin(new g),n.registerPlugin(new h),n.registerPlugin(new d),n}return t(a,s),n(a)}();export{$ as R};
