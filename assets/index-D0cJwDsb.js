const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminLayout-C22GcbGq.js","assets/vendor-DD54NZMZ.js","assets/styles-Dkvm5vMa.js","assets/antd-pmzi8FkM.js","assets/styles-B7E7Bkxc.css","assets/utils-Db1EesZb.js","assets/CashierLayout-Co-peJIM.js","assets/StaffLayout-JJgCUZVd.js","assets/CustomerLayout-D40XIb-8.js","assets/Login-CqNqhpPn.js","assets/Dashboard-B8qL3Teh.js","assets/CustomerLookup-CKrligVX.js","assets/relativeTime-CBzUSEMY.js","assets/Terms-Di1RUKR5.js","assets/QrLookup-B3Sh9A6X.js","assets/AnalyticsDashboard-Di0Y0jde.js","assets/BarChart-De6rU90y.js","assets/defaultLocale-Baf4yPCw.js","assets/LineChart-DSvfKguU.js","assets/PieChart-BnuDruS8.js","assets/RevenueOverview-DNUbCDbw.js","assets/index-CQntiqIc.js","assets/PerformanceMetrics-Df1MCo2Y.js","assets/ComposedChart-HjhqlpuW.js","assets/ProductManagement-DowVsXpL.js","assets/ProductForm-epGWhuSF.js","assets/BulkOperations-BdSk8dRR.js","assets/PriceOptimization-DopDFE_n.js","assets/InventoryDashboard-CE8_QV8B.js","assets/index-ZwJ_oqWE.js","assets/OrderManagement-vQrFufW-.js","assets/OrderAnalytics-DcFYXnsg.js","assets/ReturnProcessing-B3FUWp9S.js","assets/ReportCenter-BDdgx7QM.js","assets/CustomReports-DlWKpZB_.js","assets/OmnichannelAnalytics-D7Zxuglo.js","assets/BusinessIntelligence-4fNfcLby.js","assets/StaffManagement-CyPGKz_I.js","assets/PerformanceTracking-yyXrM6pv.js","assets/GamificationConfig-C_R9831f.js","assets/CommissionSettings-BNPLISa-.js","assets/CustomerManagement-BcdWI7AI.js","assets/LoyaltyPrograms-TI-O5wdc.js","assets/CustomerSegmentation-DHVyD-6h.js","assets/PersonalizationEngine-CI7Iou-Q.js","assets/EcommerceChannels-CilONysz.js","assets/PaymentGateways-wCMFOK-A.js","assets/ThirdPartyApps-BhOK5wWr.js","assets/APIManagement-B-yknlij.js","assets/SystemSettings-DgY78O0b.js","assets/UserRoles-CGWZhvIr.js","assets/SecuritySettings-Dj-apo1s.js","assets/CompanyProfile-CIYvjl4J.js","assets/POSTerminal-DGQG3xae.js","assets/POSTerminal-BkY0tuzb.css","assets/ProductSelector-DplGFMsI.js","assets/ProductSelector-BTFzXmxo.css","assets/CartManager-DZ5bZZ4e.js","assets/formatters-zHPZYAEt.js","assets/PaymentProcessor-CuLmnd7h.js","assets/ReceiptPrinter-BYoUHSJ6.js","assets/SmartSuggestions-CzVC_eHT.js","assets/ShiftStart-DR-lyTgE.js","assets/ShiftEnd-m6IH7cGC.js","assets/CashCount-DUSnDZQZ.js","assets/SessionReports-DcCeNRKk.js","assets/PersonalDashboard-DQ63Bidi.js","assets/PerformanceOverview-BId_gpuc.js","assets/Leaderboard-Bzfgt79W.js","assets/AchievementCenter-Ddp7yNg6.js","assets/BadgeCollection-CnUINEXb.js","assets/ChallengeHub-C6QAtWQe.js"])))=>i.map(i=>d[i]);
import{r as a,c as at,g as ue,f as it,N as A,i as lt,j as l,B as ct}from"./vendor-DD54NZMZ.js";import{a as ut}from"./utils-Db1EesZb.js";import{s as w,S as Oe,W as pt,B as ye,c1 as dt}from"./antd-pmzi8FkM.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function o(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=o(s);fetch(s.href,i)}})();var Ie={exports:{}},q={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mt=a,_t=Symbol.for("react.element"),ht=Symbol.for("react.fragment"),ft=Object.prototype.hasOwnProperty,yt=mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gt={key:!0,ref:!0,__self:!0,__source:!0};function Ae(e,t,o){var n,s={},i=null,u=null;o!==void 0&&(i=""+o),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(u=t.ref);for(n in t)ft.call(t,n)&&!gt.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:_t,type:e,key:i,ref:u,props:s,_owner:yt.current}}q.Fragment=ht;q.jsx=Ae;q.jsxs=Ae;Ie.exports=q;var r=Ie.exports,ie={},ge=at;ie.createRoot=ge.createRoot,ie.hydrateRoot=ge.hydrateRoot;var G={},Re={exports:{}};(function(e){function t(o){return o&&o.__esModule?o:{default:o}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Re);var H=Re.exports,W={};Object.defineProperty(W,"__esModule",{value:!0});W.default=void 0;var vt={items_per_page:"/ trang",jump_to:"Đến",jump_to_confirm:"xác nhận",page:"Trang",prev_page:"Trang Trước",next_page:"Trang Kế",prev_5:"Về 5 Trang Trước",next_5:"Đến 5 Trang Kế",prev_3:"Về 3 Trang Trước",next_3:"Đến 3 Trang Kế",page_size:"kích thước trang"};W.default=vt;var X={},$={},Q={},we={exports:{}},ke={exports:{}},Le={exports:{}},De={exports:{}};(function(e){function t(o){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,t(o)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(De);var Ce=De.exports,$e={exports:{}};(function(e){var t=Ce.default;function o(n,s){if(t(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var u=i.call(n,s||"default");if(t(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(n)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports})($e);var Et=$e.exports;(function(e){var t=Ce.default,o=Et;function n(s){var i=o(s,"string");return t(i)=="symbol"?i:i+""}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(Le);var xt=Le.exports;(function(e){var t=xt;function o(n,s,i){return(s=t(s))in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i,n}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports})(ke);var jt=ke.exports;(function(e){var t=jt;function o(s,i){var u=Object.keys(s);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(s);i&&(p=p.filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable})),u.push.apply(u,p)}return u}function n(s){for(var i=1;i<arguments.length;i++){var u=arguments[i]!=null?arguments[i]:{};i%2?o(Object(u),!0).forEach(function(p){t(s,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(u)):o(Object(u)).forEach(function(p){Object.defineProperty(s,p,Object.getOwnPropertyDescriptor(u,p))})}return s}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(we);var Ve=we.exports;const wn=ue(Ve);var J={};Object.defineProperty(J,"__esModule",{value:!0});J.commonLocale=void 0;J.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0};var Pt=H.default;Object.defineProperty(Q,"__esModule",{value:!0});Q.default=void 0;var ve=Pt(Ve),bt=J,St=(0,ve.default)((0,ve.default)({},bt.commonLocale),{},{locale:"vi_VN",today:"Hôm nay",now:"Bây giờ",backToToday:"Trở về hôm nay",ok:"OK",clear:"Xóa",week:"Tuần",month:"Tháng",year:"Năm",timeSelect:"Chọn thời gian",dateSelect:"Chọn ngày",weekSelect:"Chọn tuần",monthSelect:"Chọn tháng",yearSelect:"Chọn năm",decadeSelect:"Chọn thập kỷ",dateFormat:"D/M/YYYY",dateTimeFormat:"D/M/YYYY HH:mm:ss",previousMonth:"Tháng trước (PageUp)",nextMonth:"Tháng sau (PageDown)",previousYear:"Năm trước (Control + left)",nextYear:"Năm sau (Control + right)",previousDecade:"Thập kỷ trước",nextDecade:"Thập kỷ sau",previousCentury:"Thế kỷ trước",nextCentury:"Thế kỷ sau"});Q.default=St;var V={};Object.defineProperty(V,"__esModule",{value:!0});V.default=void 0;const Tt={placeholder:"Chọn thời gian",rangePlaceholder:["Bắt đầu","Kết thúc"]};V.default=Tt;var ze=H.default;Object.defineProperty($,"__esModule",{value:!0});$.default=void 0;var Ot=ze(Q),It=ze(V);const At={lang:Object.assign({placeholder:"Chọn thời điểm",yearPlaceholder:"Chọn năm",quarterPlaceholder:"Chọn quý",monthPlaceholder:"Chọn tháng",weekPlaceholder:"Chọn tuần",rangePlaceholder:["Ngày bắt đầu","Ngày kết thúc"],rangeYearPlaceholder:["Năm bắt đầu","Năm kết thúc"],rangeQuarterPlaceholder:["Quý bắt đầu","Quý kết thúc"],rangeMonthPlaceholder:["Tháng bắt đầu","Tháng kết thúc"],rangeWeekPlaceholder:["Tuần bắt đầu","Tuần kết thúc"]},Ot.default),timePickerLocale:Object.assign({},It.default)};$.default=At;var Rt=H.default;Object.defineProperty(X,"__esModule",{value:!0});X.default=void 0;var wt=Rt($);X.default=wt.default;var Z=H.default;Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var kt=Z(W),Lt=Z(X),Dt=Z($),Ct=Z(V);const S="${label} không phải kiểu ${type} hợp lệ",$t={locale:"vi",Pagination:kt.default,DatePicker:Dt.default,TimePicker:Ct.default,Calendar:Lt.default,global:{placeholder:"Vui lòng chọn",close:"Đóng"},Table:{filterTitle:"Bộ lọc",filterConfirm:"Đồng ý",filterReset:"Bỏ lọc",filterEmptyText:"Không có bộ lọc",filterCheckAll:"Chọn tất cả",filterSearchPlaceholder:"Tìm kiếm bộ lọc",emptyText:"Trống",selectAll:"Chọn tất cả",selectInvert:"Chọn ngược lại",selectNone:"Bỏ chọn tất cả",selectionAll:"Chọn tất cả",sortTitle:"Sắp xếp",expand:"Mở rộng dòng",collapse:"Thu gọn dòng",triggerDesc:"Nhấp để sắp xếp giảm dần",triggerAsc:"Nhấp để sắp xếp tăng dần",cancelSort:"Nhấp để hủy sắp xếp"},Tour:{Next:"Tiếp",Previous:"Trước",Finish:"Hoàn thành"},Modal:{okText:"Đồng ý",cancelText:"Hủy",justOkText:"OK"},Popconfirm:{okText:"Đồng ý",cancelText:"Hủy"},Transfer:{titles:["",""],searchPlaceholder:"Tìm ở đây",itemUnit:"mục",itemsUnit:"mục",remove:"Gỡ bỏ",selectCurrent:"Chọn trang hiện tại",removeCurrent:"Gỡ bỏ trang hiện tại",selectAll:"Chọn tất cả",removeAll:"Gỡ bỏ tất cả",selectInvert:"Đảo ngược trang hiện tại"},Upload:{uploading:"Đang tải lên...",removeFile:"Gỡ bỏ tập tin",uploadError:"Lỗi tải lên",previewFile:"Xem trước tập tin",downloadFile:"Tải tập tin"},Empty:{description:"Trống"},Icon:{icon:"icon"},Text:{edit:"Chỉnh sửa",copy:"Sao chép",copied:"Đã sao chép",expand:"Mở rộng"},Form:{optional:"(Tùy chọn)",defaultValidateMessages:{default:"${label} không đáp ứng điều kiện quy định",required:"Hãy nhập thông tin cho trường ${label}",enum:"${label} phải có giá trị nằm trong tập [${enum}]",whitespace:"${label} không được chứa khoảng trắng",date:{format:"${label} sai định dạng ngày tháng",parse:"Không thể chuyển ${label} sang kiểu Ngày tháng",invalid:"${label} không phải giá trị Ngày tháng hợp lệ"},types:{string:S,method:S,array:S,object:S,number:S,date:S,boolean:S,integer:S,float:S,regexp:S,email:S,url:S,hex:S},string:{len:"${label} phải dài đúng ${len} ký tự",min:"Độ dài tối thiểu trường ${label} là ${min} ký tự",max:"Độ dài tối đa trường ${label} là ${max} ký tự",range:"Độ dài trường ${label} phải từ ${min} đến ${max} ký tự"},number:{len:"${label} phải bằng ${len}",min:"${label} phải lớn hơn hoặc bằng ${min}",max:"${label} phải nhỏ hơn hoặc bằng ${max}",range:"${label} phải nằm trong khoảng ${min}-${max}"},array:{len:"Mảng ${label} phải có ${len} phần tử ",min:"Mảng ${label} phải chứa tối thiểu ${min} phần tử ",max:"Mảng ${label} phải chứa tối đa ${max} phần tử ",range:"Mảng ${label} phải chứa từ ${min}-${max} phần tử"},pattern:{mismatch:"${label} không thỏa mãn mẫu kiểm tra ${pattern}"}}},Image:{preview:"Xem trước"},QRCode:{expired:"Mã QR hết hạn",refresh:"Làm mới"}};G.default=$t;var Vt=G;const zt=ue(Vt),Ee=[{id:1,email:"admin@pos.com",password:"admin123",name:"Admin User",role:"admin",avatar_url:null,permissions:["all"],total_points:1500,current_level:5,department:"Management"},{id:2,email:"cashier@pos.com",password:"cashier123",name:"Cashier User",role:"cashier",avatar_url:null,permissions:["pos","customers"],total_points:800,current_level:3,department:"Sales"},{id:3,email:"staff@pos.com",password:"staff123",name:"Staff User",role:"staff",avatar_url:null,permissions:["inventory","products"],total_points:600,current_level:2,department:"Warehouse"}],M=[{id:1,name:"iPhone 15 Pro",sku:"IP15P-128",barcode:"1234567890123",price:2999e4,cost_price:25e6,stock_quantity:15,category_id:1,category_name:"Điện thoại",description:"iPhone 15 Pro 128GB",image_url:null,is_active:!0},{id:2,name:"Samsung Galaxy S24",sku:"SGS24-256",barcode:"1234567890124",price:2299e4,cost_price:19e6,stock_quantity:8,category_id:1,category_name:"Điện thoại",description:"Samsung Galaxy S24 256GB",image_url:null,is_active:!0},{id:3,name:"MacBook Air M3",sku:"MBA-M3-512",barcode:"1234567890125",price:3499e4,cost_price:3e7,stock_quantity:5,category_id:2,category_name:"Laptop",description:"MacBook Air M3 512GB",image_url:null,is_active:!0}],k=[{id:1,order_number:"ORD-001",customer_id:1,customer_name:"Nguyễn Văn A",total_amount:2999e4,status:"completed",payment_method:"cash",created_at:new Date().toISOString(),items:[{id:1,product_id:1,product_name:"iPhone 15 Pro",quantity:1,unit_price:2999e4,total_price:2999e4}]}],I=(e=500)=>new Promise(t=>setTimeout(t,e)),te={async login(e,t){await I();const o=Ee.find(u=>u.email===e&&u.password===t);if(!o)throw new Error("Invalid credentials");const n=`mock-jwt-token-${o.id}`,{password:s,...i}=o;return{success:!0,data:{user:i,token:n,refresh_token:`mock-refresh-token-${o.id}`}}},async logout(){return await I(200),{success:!0}},async getProfile(){await I();const e=localStorage.getItem("access_token");if(!e||!e.startsWith("mock-jwt-token-"))throw new Error("Unauthorized");const t=parseInt(e.split("-").pop()),o=Ee.find(i=>i.id===t);if(!o)throw new Error("User not found");const{password:n,...s}=o;return{success:!0,data:{user:s}}},async getProducts(e={}){await I();let t=[...M];return e.search&&(t=t.filter(o=>o.name.toLowerCase().includes(e.search.toLowerCase())||o.sku.toLowerCase().includes(e.search.toLowerCase()))),e.category_id&&(t=t.filter(o=>o.category_id===parseInt(e.category_id))),{success:!0,data:t,pagination:{total:t.length,page:1,limit:20}}},async getProduct(e){await I();const t=M.find(o=>o.id===parseInt(e));if(!t)throw new Error("Product not found");return{success:!0,data:t}},async getOrders(e={}){return await I(),{success:!0,data:k,pagination:{total:k.length,page:1,limit:20}}},async createOrder(e){await I();const t={id:k.length+1,order_number:`ORD-${String(k.length+1).padStart(3,"0")}`,...e,status:"completed",created_at:new Date().toISOString()};return k.push(t),{success:!0,data:t}},async getDashboardStats(){return await I(),{success:!0,data:{today_sales:5299e4,today_orders:3,total_products:M.length,low_stock_products:2,monthly_revenue:125e7,monthly_growth:15.5,top_products:M.slice(0,3),recent_orders:k.slice(0,5)}}},async getCategories(){return await I(),{success:!0,data:[{id:1,name:"Điện thoại",description:"Smartphone và phụ kiện"},{id:2,name:"Laptop",description:"Máy tính xách tay"},{id:3,name:"Phụ kiện",description:"Phụ kiện điện tử"}]}}},Mt="http://127.0.0.1:8787/api",N=ut.create({baseURL:Mt,headers:{"Content-Type":"application/json"}}),xe={LOGIN:"/auth/login",LOGOUT:"/auth/logout",VERIFY:"/auth/verify"},D={login:async e=>{try{const t=await te.login(e.email,e.password);return{success:!0,user:t.data.user,token:t.data.token}}catch(t){return{success:!1,message:t.message||"Email hoặc mật khẩu không đúng!"}}try{return(await N.post(xe.LOGIN,e)).data}catch(t){console.error("Login error:",t);try{console.log("Falling back to mock API...");const o=await te.login(e.email,e.password);return{success:!0,user:o.data.user,token:o.data.token}}catch{return t.response?{success:!1,message:t.response.data.message||"Đăng nhập thất bại"}:{success:!1,message:"Email hoặc mật khẩu không đúng!"}}}},logout:async()=>await te.logout(),verifyToken:async e=>{try{return(await N.post(xe.VERIFY,{token:e})).data}catch(t){return console.error("Token verification error:",t),{success:!1,message:"Token không hợp lệ hoặc đã hết hạn"}}},setAuthToken:e=>{e?N.defaults.headers.common.Authorization=`Bearer ${e}`:delete N.defaults.headers.common.Authorization}},Me={user:null,token:null,loading:!0,isAuthenticated:!1,permissions:[],role:null,lastActivity:null,expiresAt:null},E={LOGIN_START:"LOGIN_START",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT:"LOGOUT",SET_LOADING:"SET_LOADING",UPDATE_USER:"UPDATE_USER",SET_PERMISSIONS:"SET_PERMISSIONS",UPDATE_LAST_ACTIVITY:"UPDATE_LAST_ACTIVITY",SESSION_EXPIRED:"SESSION_EXPIRED"},P={TIMEOUT_DURATION:30*60*1e3,STORAGE_PREFIX:"khochuan_",TOKEN_KEY:"khochuan_token",USER_KEY:"khochuan_user",EXPIRES_KEY:"khochuan_expires",ACTIVITY_KEY:"khochuan_last_activity"},Nt=(e,t)=>{switch(t.type){case E.LOGIN_START:return{...e,loading:!0};case E.LOGIN_SUCCESS:return{...e,user:t.payload.user,token:t.payload.token,role:t.payload.user.role,permissions:t.payload.permissions||[],isAuthenticated:!0,loading:!1,lastActivity:t.payload.lastActivity||Date.now(),expiresAt:t.payload.expiresAt||null};case E.LOGIN_FAILURE:return{...e,user:null,token:null,role:null,permissions:[],isAuthenticated:!1,loading:!1,lastActivity:null,expiresAt:null};case E.LOGOUT:case E.SESSION_EXPIRED:return{...Me,loading:!1};case E.SET_LOADING:return{...e,loading:t.payload};case E.UPDATE_USER:return{...e,user:{...e.user,...t.payload}};case E.SET_PERMISSIONS:return{...e,permissions:t.payload};case E.UPDATE_LAST_ACTIVITY:return{...e,lastActivity:t.payload};default:return e}},Ne=a.createContext(),Ut=({children:e})=>{const[t,o]=a.useReducer(Nt,Me),n=a.useCallback(()=>t.expiresAt&&Date.now()>t.expiresAt?(w.warning("Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại."),p(!0),!0):!1,[t.expiresAt]),s=a.useCallback(()=>t.lastActivity&&Date.now()-t.lastActivity>P.TIMEOUT_DURATION?(w.warning("Phiên làm việc đã hết hạn do không hoạt động. Vui lòng đăng nhập lại."),p(!0),!0):!1,[t.lastActivity]),i=a.useCallback(()=>{if(t.isAuthenticated){const f=Date.now();o({type:E.UPDATE_LAST_ACTIVITY,payload:f}),localStorage.setItem(P.ACTIVITY_KEY,f.toString())}},[t.isAuthenticated]);a.useEffect(()=>{if(!t.isAuthenticated)return;const f=["mousedown","keydown","touchstart","scroll"],j=()=>i();f.forEach(y=>{window.addEventListener(y,j)});const _=setInterval(()=>{n()||s()},6e4);return()=>{f.forEach(y=>{window.removeEventListener(y,j)}),clearInterval(_)}},[t.isAuthenticated,i,n,s]),a.useEffect(()=>{const f=localStorage.getItem(P.TOKEN_KEY),j=localStorage.getItem(P.USER_KEY),_=localStorage.getItem(P.EXPIRES_KEY),y=localStorage.getItem(P.ACTIVITY_KEY);if(f&&j)try{const T=JSON.parse(j),x=_?parseInt(_,10):null,st=y?parseInt(y,10):Date.now();x&&Date.now()>x?p(!0):(D.setAuthToken(f),o({type:E.LOGIN_SUCCESS,payload:{user:T,token:f,permissions:T.permissions||[],expiresAt:x,lastActivity:st}}))}catch(T){console.error("Error parsing user data:",T),u()}o({type:E.SET_LOADING,payload:!1})},[]);const u=()=>{localStorage.removeItem(P.TOKEN_KEY),localStorage.removeItem(P.USER_KEY),localStorage.removeItem(P.EXPIRES_KEY),localStorage.removeItem(P.ACTIVITY_KEY),D.setAuthToken(null)},p=async(f=!1)=>{f||await D.logout(),u(),o({type:f?E.SESSION_EXPIRED:E.LOGOUT}),f||w.success("Đăng xuất thành công!")},R={...t,login:async f=>{o({type:E.LOGIN_START});try{const j=await D.login(f);if(j.success){const{user:_,token:y}=j;D.setAuthToken(y);const T=Date.now()+24*60*60*1e3,x=Date.now();return localStorage.setItem(P.TOKEN_KEY,y),localStorage.setItem(P.USER_KEY,JSON.stringify(_)),localStorage.setItem(P.EXPIRES_KEY,T.toString()),localStorage.setItem(P.ACTIVITY_KEY,x.toString()),o({type:E.LOGIN_SUCCESS,payload:{user:_,token:y,permissions:Yt(_.role),expiresAt:T,lastActivity:x}}),w.success("Đăng nhập thành công!"),{success:!0,user:_}}else return o({type:E.LOGIN_FAILURE}),w.error(j.message||"Email hoặc mật khẩu không đúng!"),{success:!1,error:j.message}}catch(j){return o({type:E.LOGIN_FAILURE}),w.error("Đăng nhập thất bại!"),{success:!1,error:j.message}}},logout:()=>p(),updateUser:f=>{if(o({type:E.UPDATE_USER,payload:f}),t.user){const j={...t.user,...f};localStorage.setItem(P.USER_KEY,JSON.stringify(j))}},hasPermission:f=>t.permissions.includes(f),hasRole:f=>Array.isArray(f)?f.includes(t.role):t.role===f,updateLastActivity:i};return r.jsx(Ne.Provider,{value:R,children:e})},Ue=()=>{const e=a.useContext(Ne);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Yt=e=>({admin:["dashboard.view","products.view","products.create","products.update","products.delete","inventory.view","inventory.update","orders.view","orders.create","orders.update","orders.delete","customers.view","customers.create","customers.update","customers.delete","staff.view","staff.create","staff.update","staff.delete","reports.view","reports.create","settings.view","settings.update","pos.use"],cashier:["pos.use","orders.view","orders.create","customers.view","customers.create","customers.update","products.view","inventory.view"],staff:["dashboard.view","sales.view","gamification.view","training.view","profile.view","profile.update"]})[e]||[],Ye=a.createContext(),Bt=({children:e})=>{const[t,o]=a.useState([]),[n,s]=a.useState({type:"percent",value:0}),i=t.reduce((_,y)=>_+y.quantity,0),u=t.reduce((_,y)=>_+y.price*y.quantity,0),p=n.type==="percent"?u*(n.value/100):n.value,d=Math.max(0,u-p);a.useEffect(()=>{try{const _=localStorage.getItem("cart"),y=localStorage.getItem("cartDiscount");_&&o(JSON.parse(_)),y&&s(JSON.parse(y))}catch(_){console.error("Failed to load cart from localStorage:",_)}},[]),a.useEffect(()=>{try{localStorage.setItem("cart",JSON.stringify(t)),localStorage.setItem("cartDiscount",JSON.stringify(n))}catch(_){console.error("Failed to save cart to localStorage:",_)}},[t,n]);const j={items:t,totalItems:i,totalAmount:u,totalDiscount:p,netAmount:d,discount:n,addItem:_=>{o(y=>y.find(x=>x.id===_.id)?y.map(x=>x.id===_.id?{...x,quantity:Math.min(x.quantity+_.quantity,x.maxQuantity||9999)}:x):[...y,{..._}])},removeItem:_=>{o(y=>y.filter(T=>T.id!==_))},updateQuantity:(_,y)=>{o(T=>T.map(x=>x.id===_?{...x,quantity:y}:x))},applyDiscount:_=>{s(_)},clearCart:()=>{o([]),s({type:"percent",value:0})}};return r.jsx(Ye.Provider,{value:j,children:e})},kn=()=>{const e=a.useContext(Ye);if(e===void 0)throw new Error("useCartContext must be used within a CartProvider");return e},Ft="modulepreload",Kt=function(e){return"/"+e},je={},c=function(t,o,n){let s=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),p=u?.nonce||u?.getAttribute("nonce");s=Promise.allSettled(o.map(d=>{if(d=Kt(d),d in je)return;je[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":Ft,h||(v.as="script"),v.crossOrigin="",v.href=d,p&&v.setAttribute("nonce",p),document.head.appendChild(v),h)return new Promise((R,f)=>{v.addEventListener("load",R),v.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(u){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=u,window.dispatchEvent(p),!p.defaultPrevented)throw u}return s.then(u=>{for(const p of u||[])p.status==="rejected"&&i(p.reason);return t().catch(i)})},re=({children:e,requiredRoles:t=[],requiredPermissions:o=[],redirectTo:n="/login"})=>{const s=it(),{isAuthenticated:i,user:u,loading:p,hasRole:d,hasPermission:h}=Ue();return p?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:r.jsx(Oe,{size:"large",tip:"Đang xác thực..."})}):i?t.length>0&&!t.some(v=>d(v))?r.jsx(A,{to:"/403",replace:!0}):o.length>0&&!o.every(v=>h(v))?r.jsx(A,{to:"/403",replace:!0}):e:r.jsx(A,{to:n,state:{from:s.pathname},replace:!0})},oe=({children:e,allowedRoles:t=[],requiredPermissions:o=[],redirectPath:n="/login"})=>{const{role:s,isAuthenticated:i,hasRole:u,hasPermission:p}=Ue();if(!i)return r.jsx(A,{to:n,replace:!0});const d=t.length===0||u(t),h=o.length===0||o.every(g=>p(g));if(!d||!h){let g="/";return s==="admin"?g="/admin/dashboard":s==="cashier"?g="/cashier/pos":s==="staff"&&(g="/staff/dashboard"),r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#f0f2f5"},children:r.jsx(pt,{status:"403",title:"Không có quyền truy cập",subTitle:r.jsxs("div",{children:[r.jsx("p",{children:"Xin lỗi, bạn không có quyền truy cập trang này."}),r.jsx("p",{children:"Hãy liên hệ với quản trị viên nếu bạn cần quyền này."})]}),extra:[r.jsx(ye,{type:"primary",onClick:()=>window.location.href=g,children:"Về trang chính"},"home"),r.jsx(ye,{onClick:()=>window.history.back(),children:"Quay lại"},"back")]})})}return e},qt=a.lazy(()=>c(()=>import("./AdminLayout-C22GcbGq.js"),__vite__mapDeps([0,1,2,3,4,5]))),Gt=a.lazy(()=>c(()=>import("./CashierLayout-Co-peJIM.js"),__vite__mapDeps([6,1,2,3,4,5]))),Ht=a.lazy(()=>c(()=>import("./StaffLayout-JJgCUZVd.js"),__vite__mapDeps([7,1,2,3,4,5]))),Wt=a.lazy(()=>c(()=>import("./CustomerLayout-D40XIb-8.js"),__vite__mapDeps([8,1,3,5]))),Xt=a.lazy(()=>c(()=>import("./Login-CqNqhpPn.js"),__vite__mapDeps([9,1,3,5]))),Qt=a.lazy(()=>c(()=>import("./Dashboard-B8qL3Teh.js"),__vite__mapDeps([10,1,3,5]))),Jt=a.lazy(()=>c(()=>import("./CustomerLookup-CKrligVX.js"),__vite__mapDeps([11,1,12,5,3]))),Zt=a.lazy(()=>c(()=>import("./Terms-Di1RUKR5.js"),__vite__mapDeps([13,1,3,5]))),er=a.lazy(()=>c(()=>import("./QrLookup-B3Sh9A6X.js"),__vite__mapDeps([14,1,12,5,3]))),tr=a.lazy(()=>c(()=>import("./AnalyticsDashboard-Di0Y0jde.js"),__vite__mapDeps([15,1,3,16,17,18,19,5]))),rr=a.lazy(()=>c(()=>import("./RevenueOverview-DNUbCDbw.js"),__vite__mapDeps([20,1,3,21,5,17]))),or=a.lazy(()=>c(()=>import("./PerformanceMetrics-Df1MCo2Y.js"),__vite__mapDeps([22,1,3,16,17,23,5]))),nr=a.lazy(()=>c(()=>import("./ProductManagement-DowVsXpL.js"),__vite__mapDeps([24,1,3,5]))),Pe=a.lazy(()=>c(()=>import("./ProductForm-epGWhuSF.js"),__vite__mapDeps([25,1,3,5]))),sr=a.lazy(()=>c(()=>import("./BulkOperations-BdSk8dRR.js"),__vite__mapDeps([26,1,3,5]))),ar=a.lazy(()=>c(()=>import("./PriceOptimization-DopDFE_n.js"),__vite__mapDeps([27,1,3,5]))),ir=a.lazy(()=>c(()=>import("./InventoryDashboard-CE8_QV8B.js"),__vite__mapDeps([28,1,3,29,21,5,17]))),lr=a.lazy(()=>c(()=>Promise.resolve().then(()=>rn),void 0)),cr=a.lazy(()=>c(()=>Promise.resolve().then(()=>on),void 0)),ur=a.lazy(()=>c(()=>Promise.resolve().then(()=>nn),void 0)),pr=a.lazy(()=>c(()=>import("./OrderManagement-vQrFufW-.js"),__vite__mapDeps([30,1,3,5]))),dr=a.lazy(()=>c(()=>import("./OrderAnalytics-DcFYXnsg.js"),__vite__mapDeps([31,1,3,21,5,17,29]))),mr=a.lazy(()=>c(()=>import("./ReturnProcessing-B3FUWp9S.js"),__vite__mapDeps([32,1,3,5]))),_r=a.lazy(()=>c(()=>import("./ReportCenter-BDdgx7QM.js"),__vite__mapDeps([33,1,3,5]))),hr=a.lazy(()=>c(()=>import("./CustomReports-DlWKpZB_.js"),__vite__mapDeps([34,1,3,5]))),fr=a.lazy(()=>c(()=>import("./OmnichannelAnalytics-D7Zxuglo.js"),__vite__mapDeps([35,1,3,16,17,18,23,19,5]))),yr=a.lazy(()=>c(()=>import("./BusinessIntelligence-4fNfcLby.js"),__vite__mapDeps([36,1,3,16,17,18,19,5]))),gr=a.lazy(()=>c(()=>import("./StaffManagement-CyPGKz_I.js"),__vite__mapDeps([37,1,3,5]))),vr=a.lazy(()=>c(()=>import("./PerformanceTracking-yyXrM6pv.js"),__vite__mapDeps([38,1,3,5]))),Er=a.lazy(()=>c(()=>import("./GamificationConfig-C_R9831f.js"),__vite__mapDeps([39,1,3,5]))),xr=a.lazy(()=>c(()=>import("./CommissionSettings-BNPLISa-.js"),__vite__mapDeps([40,1,3,5]))),jr=a.lazy(()=>c(()=>import("./CustomerManagement-BcdWI7AI.js"),__vite__mapDeps([41,1,3,5]))),Pr=a.lazy(()=>c(()=>import("./LoyaltyPrograms-TI-O5wdc.js"),__vite__mapDeps([42,1,3,5]))),br=a.lazy(()=>c(()=>import("./CustomerSegmentation-DHVyD-6h.js"),__vite__mapDeps([43,1,3,21,5,17,29]))),Sr=a.lazy(()=>c(()=>import("./PersonalizationEngine-CI7Iou-Q.js"),__vite__mapDeps([44,1,3,5]))),Tr=a.lazy(()=>c(()=>import("./EcommerceChannels-CilONysz.js"),__vite__mapDeps([45,1,3,5]))),Or=a.lazy(()=>c(()=>import("./PaymentGateways-wCMFOK-A.js"),__vite__mapDeps([46,1,3,5]))),Ir=a.lazy(()=>c(()=>import("./ThirdPartyApps-BhOK5wWr.js"),__vite__mapDeps([47,1,3,5]))),Ar=a.lazy(()=>c(()=>import("./APIManagement-B-yknlij.js"),__vite__mapDeps([48,1,3,16,17,18,5]))),Rr=a.lazy(()=>c(()=>import("./SystemSettings-DgY78O0b.js"),__vite__mapDeps([49,1,3,5]))),wr=a.lazy(()=>c(()=>import("./UserRoles-CGWZhvIr.js"),__vite__mapDeps([50,1,3,5]))),kr=a.lazy(()=>c(()=>import("./SecuritySettings-Dj-apo1s.js"),__vite__mapDeps([51,1,3,5]))),Lr=a.lazy(()=>c(()=>import("./CompanyProfile-CIYvjl4J.js"),__vite__mapDeps([52,1,3,5]))),Dr=a.lazy(()=>c(()=>import("./POSTerminal-DGQG3xae.js"),__vite__mapDeps([53,1,3,5,54]))),Cr=a.lazy(()=>c(()=>import("./ProductSelector-DplGFMsI.js"),__vite__mapDeps([55,1,3,5,56]))),$r=a.lazy(()=>c(()=>import("./CartManager-DZ5bZZ4e.js"),__vite__mapDeps([57,1,58,3,5]))),Vr=a.lazy(()=>c(()=>import("./PaymentProcessor-CuLmnd7h.js"),__vite__mapDeps([59,1,58,3,5]))),zr=a.lazy(()=>c(()=>import("./ReceiptPrinter-BYoUHSJ6.js"),__vite__mapDeps([60,1,3,5]))),Mr=a.lazy(()=>c(()=>import("./SmartSuggestions-CzVC_eHT.js"),__vite__mapDeps([61,1,3,5]))),Nr=a.lazy(()=>c(()=>Promise.resolve().then(()=>sn),void 0)),Ur=a.lazy(()=>c(()=>Promise.resolve().then(()=>an),void 0)),Yr=a.lazy(()=>c(()=>Promise.resolve().then(()=>ln),void 0)),Br=a.lazy(()=>c(()=>Promise.resolve().then(()=>cn),void 0)),Fr=a.lazy(()=>c(()=>Promise.resolve().then(()=>un),void 0)),Kr=a.lazy(()=>c(()=>Promise.resolve().then(()=>pn),void 0)),qr=a.lazy(()=>c(()=>import("./ShiftStart-DR-lyTgE.js"),__vite__mapDeps([62,1,58,3,5]))),Gr=a.lazy(()=>c(()=>import("./ShiftEnd-m6IH7cGC.js"),__vite__mapDeps([63,1,58,3,5]))),Hr=a.lazy(()=>c(()=>import("./CashCount-DUSnDZQZ.js"),__vite__mapDeps([64,1,3,5]))),Wr=a.lazy(()=>c(()=>import("./SessionReports-DcCeNRKk.js"),__vite__mapDeps([65,1,3,5]))),Xr=a.lazy(()=>c(()=>import("./PersonalDashboard-DQ63Bidi.js"),__vite__mapDeps([66,1,3,5]))),Qr=a.lazy(()=>c(()=>import("./PerformanceOverview-BId_gpuc.js"),__vite__mapDeps([67,1,3,5]))),Jr=a.lazy(()=>c(()=>Promise.resolve().then(()=>dn),void 0)),Zr=a.lazy(()=>c(()=>Promise.resolve().then(()=>mn),void 0)),eo=a.lazy(()=>c(()=>import("./Leaderboard-Bzfgt79W.js"),__vite__mapDeps([68,1,3,5]))),to=a.lazy(()=>c(()=>import("./AchievementCenter-Ddp7yNg6.js"),__vite__mapDeps([69,1,3,5]))),ro=a.lazy(()=>c(()=>import("./BadgeCollection-CnUINEXb.js"),__vite__mapDeps([70,1,3,5]))),oo=a.lazy(()=>c(()=>import("./ChallengeHub-C6QAtWQe.js"),__vite__mapDeps([71,1,3,5]))),no=a.lazy(()=>c(()=>Promise.resolve().then(()=>_n),void 0)),so=a.lazy(()=>c(()=>Promise.resolve().then(()=>hn),void 0)),ao=a.lazy(()=>c(()=>Promise.resolve().then(()=>fn),void 0)),io=a.lazy(()=>c(()=>Promise.resolve().then(()=>yn),void 0)),lo=a.lazy(()=>c(()=>Promise.resolve().then(()=>gn),void 0)),co=a.lazy(()=>c(()=>Promise.resolve().then(()=>vn),void 0)),uo=a.lazy(()=>c(()=>Promise.resolve().then(()=>En),void 0)),po=a.lazy(()=>c(()=>Promise.resolve().then(()=>xn),void 0)),mo=a.lazy(()=>c(()=>Promise.resolve().then(()=>jn),void 0)),_o=a.lazy(()=>c(()=>Promise.resolve().then(()=>Pn),void 0)),ho=a.lazy(()=>c(()=>Promise.resolve().then(()=>bn),void 0)),fo=a.lazy(()=>c(()=>Promise.resolve().then(()=>Sn),void 0)),yo=a.lazy(()=>c(()=>Promise.resolve().then(()=>Tn),void 0)),go=a.lazy(()=>c(()=>Promise.resolve().then(()=>On),void 0)),vo=()=>r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:r.jsx(Oe,{size:"large"})}),Eo=()=>r.jsx(a.Suspense,{fallback:r.jsx(vo,{}),children:r.jsxs(lt,{children:[r.jsx(l,{path:"/login",element:r.jsx(Xt,{})}),r.jsx(l,{path:"/",element:r.jsx(Qt,{})}),r.jsxs(l,{path:"/",element:r.jsx(Wt,{}),children:[r.jsx(l,{path:"customer-lookup",element:r.jsx(Jt,{})}),r.jsx(l,{path:"terms",element:r.jsx(Zt,{})}),r.jsx(l,{path:"qr/:id",element:r.jsx(er,{})})]}),r.jsxs(l,{path:"/admin",element:r.jsx(re,{children:r.jsx(oe,{allowedRoles:["admin"],children:r.jsx(qt,{})})}),children:[r.jsx(l,{index:!0,element:r.jsx(A,{to:"/admin/dashboard",replace:!0})}),r.jsx(l,{path:"dashboard",element:r.jsx(tr,{})}),r.jsx(l,{path:"dashboard/revenue",element:r.jsx(rr,{})}),r.jsx(l,{path:"dashboard/performance",element:r.jsx(or,{})}),r.jsx(l,{path:"products",element:r.jsx(nr,{})}),r.jsx(l,{path:"products/new",element:r.jsx(Pe,{})}),r.jsx(l,{path:"products/edit/:id",element:r.jsx(Pe,{})}),r.jsx(l,{path:"products/bulk",element:r.jsx(sr,{})}),r.jsx(l,{path:"products/price-optimization",element:r.jsx(ar,{})}),r.jsx(l,{path:"inventory",element:r.jsx(ir,{})}),r.jsx(l,{path:"inventory/movements",element:r.jsx(lr,{})}),r.jsx(l,{path:"inventory/forecasting",element:r.jsx(cr,{})}),r.jsx(l,{path:"inventory/warehouse",element:r.jsx(ur,{})}),r.jsx(l,{path:"orders",element:r.jsx(pr,{})}),r.jsx(l,{path:"orders/analytics",element:r.jsx(dr,{})}),r.jsx(l,{path:"orders/returns",element:r.jsx(mr,{})}),r.jsx(l,{path:"reports",element:r.jsx(_r,{})}),r.jsx(l,{path:"reports/custom",element:r.jsx(hr,{})}),r.jsx(l,{path:"reports/omnichannel",element:r.jsx(fr,{})}),r.jsx(l,{path:"reports/business-intelligence",element:r.jsx(yr,{})}),r.jsx(l,{path:"staff",element:r.jsx(gr,{})}),r.jsx(l,{path:"staff/performance",element:r.jsx(vr,{})}),r.jsx(l,{path:"staff/gamification",element:r.jsx(Er,{})}),r.jsx(l,{path:"staff/commissions",element:r.jsx(xr,{})}),r.jsx(l,{path:"customers",element:r.jsx(jr,{})}),r.jsx(l,{path:"customers/loyalty",element:r.jsx(Pr,{})}),r.jsx(l,{path:"customers/segmentation",element:r.jsx(br,{})}),r.jsx(l,{path:"customers/personalization",element:r.jsx(Sr,{})}),r.jsx(l,{path:"integrations",element:r.jsx(Tr,{})}),r.jsx(l,{path:"integrations/payments",element:r.jsx(Or,{})}),r.jsx(l,{path:"integrations/apps",element:r.jsx(Ir,{})}),r.jsx(l,{path:"integrations/api",element:r.jsx(Ar,{})}),r.jsx(l,{path:"settings",element:r.jsx(Rr,{})}),r.jsx(l,{path:"settings/roles",element:r.jsx(wr,{})}),r.jsx(l,{path:"settings/security",element:r.jsx(kr,{})}),r.jsx(l,{path:"settings/company",element:r.jsx(Lr,{})})]}),r.jsxs(l,{path:"/cashier",element:r.jsx(re,{children:r.jsx(oe,{allowedRoles:["admin","cashier"],children:r.jsx(Gt,{})})}),children:[r.jsx(l,{index:!0,element:r.jsx(A,{to:"/cashier/pos",replace:!0})}),r.jsx(l,{path:"pos",element:r.jsx(Dr,{})}),r.jsx(l,{path:"pos/products",element:r.jsx(Cr,{})}),r.jsx(l,{path:"pos/cart",element:r.jsx($r,{})}),r.jsx(l,{path:"pos/payment",element:r.jsx(Vr,{})}),r.jsx(l,{path:"pos/receipt",element:r.jsx(zr,{})}),r.jsx(l,{path:"pos/suggestions",element:r.jsx(Mr,{})}),r.jsx(l,{path:"orders",element:r.jsx(Nr,{})}),r.jsx(l,{path:"orders/returns",element:r.jsx(Ur,{})}),r.jsx(l,{path:"orders/tracking",element:r.jsx(Yr,{})}),r.jsx(l,{path:"customers",element:r.jsx(Br,{})}),r.jsx(l,{path:"customers/loyalty",element:r.jsx(Fr,{})}),r.jsx(l,{path:"customers/membership",element:r.jsx(Kr,{})}),r.jsx(l,{path:"session/start",element:r.jsx(qr,{})}),r.jsx(l,{path:"session/end",element:r.jsx(Gr,{})}),r.jsx(l,{path:"session/cash",element:r.jsx(Hr,{})}),r.jsx(l,{path:"session/reports",element:r.jsx(Wr,{})})]}),r.jsxs(l,{path:"/staff",element:r.jsx(re,{children:r.jsx(oe,{allowedRoles:["admin","staff"],children:r.jsx(Ht,{})})}),children:[r.jsx(l,{index:!0,element:r.jsx(A,{to:"/staff/dashboard",replace:!0})}),r.jsx(l,{path:"dashboard",element:r.jsx(Xr,{})}),r.jsx(l,{path:"dashboard/performance",element:r.jsx(Qr,{})}),r.jsx(l,{path:"dashboard/commission",element:r.jsx(Jr,{})}),r.jsx(l,{path:"dashboard/goals",element:r.jsx(Zr,{})}),r.jsx(l,{path:"leaderboard",element:r.jsx(eo,{})}),r.jsx(l,{path:"achievements",element:r.jsx(to,{})}),r.jsx(l,{path:"badges",element:r.jsx(ro,{})}),r.jsx(l,{path:"challenges",element:r.jsx(oo,{})}),r.jsx(l,{path:"rewards",element:r.jsx(no,{})}),r.jsx(l,{path:"competitions",element:r.jsx(so,{})}),r.jsx(l,{path:"sales",element:r.jsx(ao,{})}),r.jsx(l,{path:"sales/targets",element:r.jsx(io,{})}),r.jsx(l,{path:"sales/recommendations",element:r.jsx(lo,{})}),r.jsx(l,{path:"sales/customers",element:r.jsx(co,{})}),r.jsx(l,{path:"training",element:r.jsx(uo,{})}),r.jsx(l,{path:"training/products",element:r.jsx(po,{})}),r.jsx(l,{path:"training/skills",element:r.jsx(mo,{})}),r.jsx(l,{path:"training/certifications",element:r.jsx(_o,{})}),r.jsx(l,{path:"profile",element:r.jsx(ho,{})}),r.jsx(l,{path:"profile/performance",element:r.jsx(fo,{})}),r.jsx(l,{path:"profile/commission",element:r.jsx(yo,{})}),r.jsx(l,{path:"profile/preferences",element:r.jsx(go,{})})]}),r.jsx(l,{path:"*",element:r.jsx(A,{to:"/",replace:!0})})]})}),xo=()=>r.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"16px",flexDirection:"column"},children:[r.jsx("div",{style:{marginBottom:"20px",fontSize:"24px"},children:"🚀"}),r.jsx("div",{children:"Đang tải Smart POS..."})]}),jo={token:{colorPrimary:"#1890ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#f5222d",fontSize:14,borderRadius:8,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},components:{Layout:{bodyBg:"#f0f2f5",headerBg:"#001529",siderBg:"#001529"},Menu:{darkItemBg:"#001529",darkItemSelectedBg:"#1890ff"},Button:{fontWeight:500},Table:{headerBg:"#fafafa"},Card:{borderRadius:12}}};function Po(){return r.jsx(dt,{locale:zt,theme:jo,children:r.jsx(Ut,{children:r.jsx(Bt,{children:r.jsx(ct,{children:r.jsx("div",{className:"app",children:r.jsx(a.Suspense,{fallback:r.jsx(xo,{}),children:r.jsx(Eo,{})})})})})})})}var Be={exports:{}},m={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z=Symbol.for("react.element"),bo=Symbol.for("react.portal"),So=Symbol.for("react.fragment"),To=Symbol.for("react.strict_mode"),Oo=Symbol.for("react.profiler"),Io=Symbol.for("react.provider"),Ao=Symbol.for("react.context"),Ro=Symbol.for("react.forward_ref"),wo=Symbol.for("react.suspense"),ko=Symbol.for("react.memo"),Lo=Symbol.for("react.lazy"),be=Symbol.iterator;function Do(e){return e===null||typeof e!="object"?null:(e=be&&e[be]||e["@@iterator"],typeof e=="function"?e:null)}var Fe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ke=Object.assign,qe={};function L(e,t,o){this.props=e,this.context=t,this.refs=qe,this.updater=o||Fe}L.prototype.isReactComponent={};L.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};L.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ge(){}Ge.prototype=L.prototype;function pe(e,t,o){this.props=e,this.context=t,this.refs=qe,this.updater=o||Fe}var de=pe.prototype=new Ge;de.constructor=pe;Ke(de,L.prototype);de.isPureReactComponent=!0;var Se=Array.isArray,He=Object.prototype.hasOwnProperty,me={current:null},We={key:!0,ref:!0,__self:!0,__source:!0};function Xe(e,t,o){var n,s={},i=null,u=null;if(t!=null)for(n in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(i=""+t.key),t)He.call(t,n)&&!We.hasOwnProperty(n)&&(s[n]=t[n]);var p=arguments.length-2;if(p===1)s.children=o;else if(1<p){for(var d=Array(p),h=0;h<p;h++)d[h]=arguments[h+2];s.children=d}if(e&&e.defaultProps)for(n in p=e.defaultProps,p)s[n]===void 0&&(s[n]=p[n]);return{$$typeof:z,type:e,key:i,ref:u,props:s,_owner:me.current}}function Co(e,t){return{$$typeof:z,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _e(e){return typeof e=="object"&&e!==null&&e.$$typeof===z}function $o(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(o){return t[o]})}var Te=/\/+/g;function ne(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$o(""+e.key):t.toString(36)}function B(e,t,o,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(i){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case z:case bo:u=!0}}if(u)return u=e,s=s(u),e=n===""?"."+ne(u,0):n,Se(s)?(o="",e!=null&&(o=e.replace(Te,"$&/")+"/"),B(s,t,o,"",function(h){return h})):s!=null&&(_e(s)&&(s=Co(s,o+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(Te,"$&/")+"/")+e)),t.push(s)),1;if(u=0,n=n===""?".":n+":",Se(e))for(var p=0;p<e.length;p++){i=e[p];var d=n+ne(i,p);u+=B(i,t,o,d,s)}else if(d=Do(e),typeof d=="function")for(e=d.call(e),p=0;!(i=e.next()).done;)i=i.value,d=n+ne(i,p++),u+=B(i,t,o,d,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function U(e,t,o){if(e==null)return e;var n=[],s=0;return B(e,n,"","",function(i){return t.call(o,i,s++)}),n}function Vo(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(o){(e._status===0||e._status===-1)&&(e._status=1,e._result=o)},function(o){(e._status===0||e._status===-1)&&(e._status=2,e._result=o)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var b={current:null},F={transition:null},zo={ReactCurrentDispatcher:b,ReactCurrentBatchConfig:F,ReactCurrentOwner:me};function Qe(){throw Error("act(...) is not supported in production builds of React.")}m.Children={map:U,forEach:function(e,t,o){U(e,function(){t.apply(this,arguments)},o)},count:function(e){var t=0;return U(e,function(){t++}),t},toArray:function(e){return U(e,function(t){return t})||[]},only:function(e){if(!_e(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};m.Component=L;m.Fragment=So;m.Profiler=Oo;m.PureComponent=pe;m.StrictMode=To;m.Suspense=wo;m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zo;m.act=Qe;m.cloneElement=function(e,t,o){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ke({},e.props),s=e.key,i=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,u=me.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(d in t)He.call(t,d)&&!We.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&p!==void 0?p[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=o;else if(1<d){p=Array(d);for(var h=0;h<d;h++)p[h]=arguments[h+2];n.children=p}return{$$typeof:z,type:e.type,key:s,ref:i,props:n,_owner:u}};m.createContext=function(e){return e={$$typeof:Ao,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Io,_context:e},e.Consumer=e};m.createElement=Xe;m.createFactory=function(e){var t=Xe.bind(null,e);return t.type=e,t};m.createRef=function(){return{current:null}};m.forwardRef=function(e){return{$$typeof:Ro,render:e}};m.isValidElement=_e;m.lazy=function(e){return{$$typeof:Lo,_payload:{_status:-1,_result:e},_init:Vo}};m.memo=function(e,t){return{$$typeof:ko,type:e,compare:t===void 0?null:t}};m.startTransition=function(e){var t=F.transition;F.transition={};try{e()}finally{F.transition=t}};m.unstable_act=Qe;m.useCallback=function(e,t){return b.current.useCallback(e,t)};m.useContext=function(e){return b.current.useContext(e)};m.useDebugValue=function(){};m.useDeferredValue=function(e){return b.current.useDeferredValue(e)};m.useEffect=function(e,t){return b.current.useEffect(e,t)};m.useId=function(){return b.current.useId()};m.useImperativeHandle=function(e,t,o){return b.current.useImperativeHandle(e,t,o)};m.useInsertionEffect=function(e,t){return b.current.useInsertionEffect(e,t)};m.useLayoutEffect=function(e,t){return b.current.useLayoutEffect(e,t)};m.useMemo=function(e,t){return b.current.useMemo(e,t)};m.useReducer=function(e,t,o){return b.current.useReducer(e,t,o)};m.useRef=function(e){return b.current.useRef(e)};m.useState=function(e){return b.current.useState(e)};m.useSyncExternalStore=function(e,t,o){return b.current.useSyncExternalStore(e,t,o)};m.useTransition=function(){return b.current.useTransition()};m.version="18.3.1";Be.exports=m;var Je=Be.exports;const ee=ue(Je);var Ze=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(Ze||{}),se={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}};Object.values(Ze);var he={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.entries(he).reduce((e,[t,o])=>(e[o]=t,e),{});var C="data-rh",Mo=e=>Array.isArray(e)?e.join(""):e,No=(e,t)=>{const o=Object.keys(e);for(let n=0;n<o.length;n+=1)if(t[o[n]]&&t[o[n]].includes(e[o[n]]))return!0;return!1},ae=(e,t)=>Array.isArray(e)?e.reduce((o,n)=>(No(n,t)?o.priority.push(n):o.default.push(n),o),{priority:[],default:[]}):{default:e,priority:[]},Uo=["noscript","script","style"],le=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),et=e=>Object.keys(e).reduce((t,o)=>{const n=typeof e[o]<"u"?`${o}="${e[o]}"`:`${o}`;return t?`${t} ${n}`:n},""),Yo=(e,t,o,n)=>{const s=et(o),i=Mo(t);return s?`<${e} ${C}="true" ${s}>${le(i,n)}</${e}>`:`<${e} ${C}="true">${le(i,n)}</${e}>`},Bo=(e,t,o=!0)=>t.reduce((n,s)=>{const i=s,u=Object.keys(i).filter(h=>!(h==="innerHTML"||h==="cssText")).reduce((h,g)=>{const v=typeof i[g]>"u"?g:`${g}="${le(i[g],o)}"`;return h?`${h} ${v}`:v},""),p=i.innerHTML||i.cssText||"",d=Uo.indexOf(e)===-1;return`${n}<${e} ${C}="true" ${u}${d?"/>":`>${p}</${e}>`}`},""),tt=(e,t={})=>Object.keys(e).reduce((o,n)=>{const s=he[n];return o[s||n]=e[n],o},t),Fo=(e,t,o)=>{const n={key:t,[C]:!0},s=tt(o,n);return[ee.createElement("title",s,t)]},K=(e,t)=>t.map((o,n)=>{const s={key:n,[C]:!0};return Object.keys(o).forEach(i=>{const p=he[i]||i;if(p==="innerHTML"||p==="cssText"){const d=o.innerHTML||o.cssText;s.dangerouslySetInnerHTML={__html:d}}else s[p]=o[i]}),ee.createElement(e,s)}),O=(e,t,o=!0)=>{switch(e){case"title":return{toComponent:()=>Fo(e,t.title,t.titleAttributes),toString:()=>Yo(e,t.title,t.titleAttributes,o)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>tt(t),toString:()=>et(t)};default:return{toComponent:()=>K(e,t),toString:()=>Bo(e,t,o)}}},Ko=({metaTags:e,linkTags:t,scriptTags:o,encode:n})=>{const s=ae(e,se.meta),i=ae(t,se.link),u=ae(o,se.script);return{priorityMethods:{toComponent:()=>[...K("meta",s.priority),...K("link",i.priority),...K("script",u.priority)],toString:()=>`${O("meta",s.priority,n)} ${O("link",i.priority,n)} ${O("script",u.priority,n)}`},metaTags:s.default,linkTags:i.default,scriptTags:u.default}},qo=e=>{const{baseTag:t,bodyAttributes:o,encode:n=!0,htmlAttributes:s,noscriptTags:i,styleTags:u,title:p="",titleAttributes:d,prioritizeSeoTags:h}=e;let{linkTags:g,metaTags:v,scriptTags:R}=e,f={toComponent:()=>{},toString:()=>""};return h&&({priorityMethods:f,linkTags:g,metaTags:v,scriptTags:R}=Ko(e)),{priority:f,base:O("base",t,n),bodyAttributes:O("bodyAttributes",o,n),htmlAttributes:O("htmlAttributes",s,n),link:O("link",g,n),meta:O("meta",v,n),noscript:O("noscript",i,n),script:O("script",R,n),style:O("style",u,n),title:O("title",{title:p,titleAttributes:d},n)}},Go=qo,Y=[],rt=!!(typeof window<"u"&&window.document&&window.document.createElement),Ho=class{instances=[];canUseDOM=rt;context;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Y:this.instances,add:e=>{(this.canUseDOM?Y:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Y:this.instances).indexOf(e);(this.canUseDOM?Y:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Go({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Wo={},Xo=ee.createContext(Wo),Qo=class ot extends Je.Component{static canUseDOM=rt;helmetData;constructor(t){super(t),this.helmetData=new Ho(this.props.context||{},ot.canUseDOM)}render(){return ee.createElement(Xo.Provider,{value:this.helmetData.value},this.props.children)}};window.addEventListener("error",e=>{console.error("Global error:",e.error)});window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason)});function Jo(){const e=localStorage.getItem("pos-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",o=e||t;return document.documentElement.setAttribute("data-theme",o),document.documentElement.className=o,o}Jo();window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(!localStorage.getItem("pos-theme")){const t=e.matches?"dark":"light";document.documentElement.setAttribute("data-theme",t),document.documentElement.className=t}});function fe(){const e=navigator.onLine;document.documentElement.setAttribute("data-online",e.toString()),console.log(e?"App is back online":"App is now offline")}window.addEventListener("online",fe);window.addEventListener("offline",fe);fe();function nt(){const e=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${e}px`)}window.addEventListener("resize",nt);nt();document.addEventListener("keydown",e=>{if(e.key==="Escape"){const t=new CustomEvent("global-escape",{bubbles:!0});e.target.dispatchEvent(t)}if((e.ctrlKey||e.metaKey)&&e.key==="k"){e.preventDefault();const t=new CustomEvent("global-search",{bubbles:!0});document.dispatchEvent(t)}if(e.key==="F1"){e.preventDefault();const t=new CustomEvent("global-help",{bubbles:!0});document.dispatchEvent(t)}});window.addEventListener("beforeprint",()=>{document.documentElement.setAttribute("data-print","true")});window.addEventListener("afterprint",()=>{document.documentElement.removeAttribute("data-print")});"BarcodeDetector"in window?console.log("Barcode detection supported"):console.log("Barcode detection not supported, will use camera fallback");navigator.mediaDevices?.getUserMedia({video:!0}).then(e=>{e.getTracks().forEach(t=>t.stop()),console.log("Camera access available")}).catch(()=>{console.log("Camera access not available")});async function Zo(){if("Notification"in window){const e=await Notification.requestPermission();return console.log("Notification permission:",e),e==="granted"}return!1}document.addEventListener("click",()=>{Zo()},{once:!0});let ce;window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),ce=e;const t=new CustomEvent("app-install-available",{detail:{prompt:ce}});window.dispatchEvent(t)});window.addEventListener("appinstalled",()=>{console.log("PWA was installed"),ce=null});console.log("🖥️ Trường Phát Computer - Production Mode");console.log(`
🖥️ Trường Phát Computer
Version: 1.0.0
Environment: production
Build: production

🚀 Powered by Cloudflare Edge
⚡ React 18 + Vite + Ant Design
📱 PWA Ready + Offline Support
🎮 Staff Gamification + AI Features
`);const en=document.getElementById("root"),tn=ie.createRoot(en);tn.render(r.jsx(Qo,{children:r.jsx(Po,{})}));document.documentElement.style.setProperty("--app-version",'"1.0.0"');console.log(`
🏪 Enterprise POS System
Version: 1.0.0
Environment: production
Build: development

🚀 Powered by Cloudflare Edge
⚡ React 18 + Vite + Ant Design
📱 PWA Ready + Offline Support
🎮 Staff Gamification + AI Features
`);if("PerformanceObserver"in window)try{new PerformanceObserver(t=>{for(const o of t.getEntries());}).observe({entryTypes:["measure","navigation"]})}catch(e){console.warn("Performance Observer not fully supported:",e)}const rn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),on=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),nn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),sn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),an=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ln=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),cn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),un=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),pn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),dn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),mn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),_n=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),hn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),fn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),yn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),gn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),vn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),En=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),xn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),jn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Pn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),bn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Sn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Tn=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),On=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{c as _,kn as a,wn as b,r as j,te as m,Ue as u};
