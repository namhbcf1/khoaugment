import{j as e}from"./index-D0cJwDsb.js";import{r as o}from"./vendor-DD54NZMZ.js";import{f as a,T as Z,bA as ee,e as y,C as i,m as h,Q as P,O as _,aG as S,p as j,A as k,B as d,b0 as se,u as H,a4 as r,a5 as m,l as f,a7 as b,aL as v,g as V,k as te,H as g,J as M,bu as N,E as w,M as E,a_ as ne,q as re,bv as ae,r as ie,o as oe,am as T}from"./antd-pmzi8FkM.js";import"./utils-Db1EesZb.js";const{Title:le,Text:p,Paragraph:I}=Z,{TabPane:l}=H,ce=[{id:1,title:"Thách thức doanh số tháng 7",description:"Đạt doanh số 30 triệu trong tháng 7",icon:e.jsx(re,{style:{fontSize:"24px",color:"#FFD700"}}),progress:65,status:"in_progress",startDate:"2023-07-01",endDate:"2023-07-31",reward:{points:500,badges:["Bán hàng xuất sắc"],other:"Thưởng 500,000đ"},category:"sales",difficulty:"medium",participants:15,leaderboard:[{name:"Nguyễn Văn A",progress:85},{name:"Trần Thị B",progress:70},{name:"Lê Văn C",progress:65}]},{id:2,title:"Chuyên gia dịch vụ",description:"Giải quyết 20 yêu cầu dịch vụ khách hàng trong tháng",icon:e.jsx(ae,{style:{fontSize:"24px",color:"#FF4D4F"}}),progress:90,status:"in_progress",startDate:"2023-07-01",endDate:"2023-07-31",reward:{points:300,badges:["Chuyên gia dịch vụ"],other:null},category:"customer_service",difficulty:"easy",participants:10,leaderboard:[{name:"Trần Thị B",progress:95},{name:"Nguyễn Văn A",progress:90},{name:"Phạm Văn D",progress:85}]},{id:3,title:"Thử thách kiến thức sản phẩm",description:"Hoàn thành tất cả bài kiểm tra kiến thức về sản phẩm mới",icon:e.jsx(N,{style:{fontSize:"24px",color:"#1890FF"}}),progress:100,status:"completed",startDate:"2023-06-15",endDate:"2023-06-30",reward:{points:200,badges:["Chuyên gia sản phẩm"],other:null},category:"knowledge",difficulty:"easy",participants:20,leaderboard:[{name:"Nguyễn Văn A",progress:100},{name:"Hoàng Thị E",progress:100},{name:"Trần Thị B",progress:95}]},{id:4,title:"Thử thách đội nhóm",description:"Hoàn thành mục tiêu doanh số đội 200 triệu trong quý",icon:e.jsx(ie,{style:{fontSize:"24px",color:"#13C2C2"}}),progress:40,status:"in_progress",startDate:"2023-07-01",endDate:"2023-09-30",reward:{points:1e3,badges:["Tinh thần đồng đội"],other:"Tiệc team building"},category:"teamwork",difficulty:"hard",participants:25,leaderboard:[{name:"Đội Laptop",progress:50},{name:"Đội Linh kiện",progress:45},{name:"Đội Phụ kiện",progress:40}]},{id:5,title:"Thách thức bán hàng mùa tựu trường",description:"Bán được 10 laptop cho học sinh, sinh viên",icon:e.jsx(oe,{style:{fontSize:"24px",color:"#722ED1"}}),progress:0,status:"upcoming",startDate:"2023-08-01",endDate:"2023-08-31",reward:{points:600,badges:["Bán hàng mùa vụ"],other:"Thưởng 2% doanh số"},category:"sales",difficulty:"medium",participants:0,leaderboard:[]},{id:6,title:"Cao thủ bán hàng",description:"Đạt doanh số cao nhất cửa hàng trong 3 tháng liên tiếp",icon:e.jsx(j,{style:{fontSize:"24px",color:"#FAAD14"}}),progress:33,status:"in_progress",startDate:"2023-06-01",endDate:"2023-08-31",reward:{points:2e3,badges:["Vua bán hàng"],other:"Thưởng 5,000,000đ"},category:"sales",difficulty:"hard",participants:8,leaderboard:[{name:"Lê Văn C",progress:45},{name:"Nguyễn Văn A",progress:40},{name:"Trần Thị B",progress:33}]}],he={activeChallenges:4,completedChallenges:1,totalPoints:700,rank:3,totalParticipants:20},je=()=>{const[z,X]=o.useState([]),[x,K]=o.useState(null),[q,G]=o.useState(!0),[c,U]=o.useState("all"),[J,C]=o.useState(!1),[t,B]=o.useState(null),[O,D]=o.useState(!1);o.useEffect(()=>{setTimeout(()=>{X(ce),K(he),G(!1)},1e3)},[]);const Q=z.filter(s=>c==="all"?!0:c==="active"?s.status==="in_progress":c==="completed"?s.status==="completed":c==="upcoming"?s.status==="upcoming":c===s.category||c===s.difficulty),$=s=>{B(s),C(!0)},F=(s,n)=>{s.stopPropagation(),B(n),D(!0)},R=s=>{switch(s){case"completed":return e.jsx(T,{status:"success",text:"Đã hoàn thành"});case"in_progress":return e.jsx(T,{status:"processing",text:"Đang diễn ra"});case"upcoming":return e.jsx(T,{status:"default",text:"Sắp diễn ra"});default:return e.jsx(T,{status:"default",text:s})}},A=s=>{switch(s){case"easy":return e.jsx(g,{color:"#52C41A",children:"Dễ"});case"medium":return e.jsx(g,{color:"#FAAD14",children:"Trung bình"});case"hard":return e.jsx(g,{color:"#FF4D4F",children:"Khó"});default:return e.jsx(g,{children:s})}},u=s=>{const n=new Date(s);return`${n.getDate()}/${n.getMonth()+1}/${n.getFullYear()}`},Y=s=>{const W=new Date(s)-new Date;return Math.ceil(W/(1e3*60*60*24))};return e.jsx("div",{className:"challenge-hub",children:e.jsxs(a,{loading:q,children:[e.jsxs(le,{level:2,children:[e.jsx(ee,{})," Trung tâm thử thách"]}),e.jsx(I,{type:"secondary",children:"Tham gia các thử thách để nâng cao kỹ năng và nhận thưởng"}),x&&e.jsxs(y,{gutter:16,style:{marginBottom:24},children:[e.jsx(i,{xs:24,sm:12,md:6,children:e.jsx(a,{size:"small",children:e.jsx(h,{title:"Thử thách đang tham gia",value:x.activeChallenges,prefix:e.jsx(P,{}),valueStyle:{color:"#1890ff"}})})}),e.jsx(i,{xs:24,sm:12,md:6,children:e.jsx(a,{size:"small",children:e.jsx(h,{title:"Thử thách đã hoàn thành",value:x.completedChallenges,prefix:e.jsx(_,{}),valueStyle:{color:"#52c41a"}})})}),e.jsx(i,{xs:24,sm:12,md:6,children:e.jsx(a,{size:"small",children:e.jsx(h,{title:"Điểm thưởng đã nhận",value:x.totalPoints,prefix:e.jsx(S,{}),valueStyle:{color:"#faad14"}})})}),e.jsx(i,{xs:24,sm:12,md:6,children:e.jsx(a,{size:"small",children:e.jsx(h,{title:"Xếp hạng hiện tại",value:x.rank,prefix:e.jsx(j,{}),suffix:`/ ${x.totalParticipants}`,valueStyle:{color:"#722ed1"}})})})]}),e.jsx(k,{message:"Thử thách nổi bật: Thách thức doanh số tháng 7",description:"Còn 10 ngày nữa để hoàn thành thử thách. Hiện tại bạn đã đạt 65% mục tiêu!",type:"info",showIcon:!0,icon:e.jsx(se,{}),action:e.jsx(d,{size:"small",type:"primary",onClick:()=>$(z[0]),children:"Xem chi tiết"}),style:{marginBottom:16}}),e.jsxs(H,{activeKey:c,onChange:U,tabPosition:"top",children:[e.jsx(l,{tab:e.jsx("span",{children:"Tất cả"})},"all"),e.jsx(l,{tab:e.jsx("span",{children:"Đang diễn ra"})},"active"),e.jsx(l,{tab:e.jsx("span",{children:"Đã hoàn thành"})},"completed"),e.jsx(l,{tab:e.jsx("span",{children:"Sắp diễn ra"})},"upcoming"),e.jsx(l,{tab:e.jsx("span",{children:"Bán hàng"})},"sales"),e.jsx(l,{tab:e.jsx("span",{children:"Dịch vụ khách hàng"})},"customer_service"),e.jsx(l,{tab:e.jsx("span",{children:"Kiến thức"})},"knowledge"),e.jsx(l,{tab:e.jsx("span",{children:"Làm việc nhóm"})},"teamwork")]}),e.jsx(r,{grid:{gutter:16,xs:1,sm:1,md:2,lg:2,xl:3,xxl:3},dataSource:Q,locale:{emptyText:e.jsx(w,{description:"Không có thử thách nào"})},renderItem:s=>e.jsx(r.Item,{children:e.jsxs(a,{hoverable:!0,onClick:()=>$(s),className:`challenge-card ${s.status}`,style:{opacity:s.status==="upcoming"?.8:1,cursor:"pointer"},actions:[e.jsx(M,{title:"Xem chi tiết",children:e.jsx(d,{type:"link",icon:e.jsx(N,{}),children:"Chi tiết"})}),e.jsx(M,{title:"Xem bảng xếp hạng",children:e.jsx(d,{type:"link",icon:e.jsx(j,{}),onClick:n=>F(n,s),disabled:s.status==="upcoming",children:"Xếp hạng"})})],children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:16},children:[e.jsx(m,{size:48,icon:s.icon,style:{backgroundColor:"#fff",border:"2px solid #1890ff"}}),e.jsxs("div",{style:{marginLeft:16},children:[e.jsx(p,{strong:!0,children:s.title}),e.jsx("div",{children:e.jsxs(f,{children:[R(s.status),A(s.difficulty)]})})]})]}),e.jsx(I,{type:"secondary",ellipsis:{rows:2},children:s.description}),e.jsx(b,{percent:s.progress,size:"small",status:s.status==="completed"?"success":s.status==="upcoming"?"normal":"active"}),e.jsxs(y,{gutter:8,style:{marginTop:16},children:[e.jsx(i,{span:12,children:e.jsxs(p,{type:"secondary",style:{fontSize:"12px"},children:[e.jsx(v,{})," ",u(s.startDate)," - ",u(s.endDate)]})}),e.jsx(i,{span:12,style:{textAlign:"right"},children:e.jsxs(p,{type:"secondary",style:{fontSize:"12px"},children:[e.jsx(V,{})," ",s.participants," người tham gia"]})})]}),e.jsx(te,{style:{margin:"12px 0"}}),e.jsxs("div",{children:[e.jsx(p,{strong:!0,children:"Phần thưởng:"}),e.jsx("div",{children:e.jsxs(f,{children:[e.jsxs(g,{color:"#108ee9",children:[e.jsx(S,{})," ",s.reward.points," điểm"]}),s.reward.badges.map((n,L)=>e.jsxs(g,{color:"#722ed1",children:[e.jsx(j,{})," ",n]},L))]})})]})]})})}),e.jsx(E,{title:t?.title||"Chi tiết thử thách",open:J,onCancel:()=>C(!1),footer:[e.jsx(d,{onClick:()=>C(!1),children:"Đóng"},"close"),t?.status==="upcoming"&&e.jsx(d,{type:"primary",children:"Đăng ký tham gia"},"register")],width:700,children:t&&e.jsxs("div",{children:[e.jsxs(y,{gutter:16,align:"middle",style:{marginBottom:16},children:[e.jsx(i,{span:4,children:e.jsx(m,{size:64,icon:t.icon,style:{backgroundColor:"#fff",border:"3px solid #1890ff"}})}),e.jsxs(i,{span:20,children:[e.jsx("div",{style:{marginBottom:8},children:e.jsxs(f,{children:[R(t.status),A(t.difficulty),e.jsxs(g,{color:"#108ee9",children:[t.category==="sales"&&"Bán hàng",t.category==="customer_service"&&"Dịch vụ khách hàng",t.category==="knowledge"&&"Kiến thức",t.category==="teamwork"&&"Làm việc nhóm"]})]})}),e.jsx(I,{children:t.description})]})]}),e.jsxs(a,{size:"small",style:{marginBottom:16},children:[e.jsxs(y,{gutter:16,children:[e.jsx(i,{span:12,children:e.jsx(h,{title:"Thời gian bắt đầu",value:u(t.startDate),prefix:e.jsx(v,{}),valueStyle:{fontSize:"14px"}})}),e.jsx(i,{span:12,children:e.jsx(h,{title:"Thời gian kết thúc",value:u(t.endDate),prefix:e.jsx(v,{}),valueStyle:{fontSize:"14px"}})})]}),t.status==="in_progress"&&e.jsx("div",{style:{marginTop:16},children:e.jsx(h,{title:"Thời gian còn lại",value:`${Y(t.endDate)} ngày`,prefix:e.jsx(P,{}),valueStyle:{color:"#faad14",fontSize:"14px"}})})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx(p,{strong:!0,children:"Tiến trình của bạn:"}),e.jsx(b,{percent:t.progress,status:t.status==="completed"?"success":t.status==="upcoming"?"normal":"active"})]}),e.jsx(a,{title:"Phần thưởng",size:"small",style:{marginBottom:16},children:e.jsx(r,{itemLayout:"horizontal",dataSource:[{title:"Điểm thưởng",description:`${t.reward.points} điểm`,icon:e.jsx(S,{style:{color:"#faad14"}})},{title:"Huy hiệu",description:t.reward.badges.join(", "),icon:e.jsx(j,{style:{color:"#722ed1"}})},...t.reward.other?[{title:"Phần thưởng khác",description:t.reward.other,icon:e.jsx(ne,{style:{color:"#52c41a"}})}]:[]],renderItem:s=>e.jsx(r.Item,{children:e.jsx(r.Item.Meta,{avatar:e.jsx(m,{icon:s.icon}),title:s.title,description:s.description})})})}),t.status==="in_progress"&&e.jsxs(a,{title:"Bảng xếp hạng hàng đầu",size:"small",style:{marginBottom:16},children:[t.leaderboard.length>0?e.jsx(r,{itemLayout:"horizontal",dataSource:t.leaderboard.slice(0,3),renderItem:(s,n)=>e.jsxs(r.Item,{children:[e.jsx(r.Item.Meta,{avatar:e.jsx(m,{style:{backgroundColor:n===0?"#FFD700":n===1?"#C0C0C0":"#CD7F32",color:"#fff"},children:n+1}),title:s.name,description:`Tiến độ: ${s.progress}%`}),e.jsx(b,{percent:s.progress,size:"small",showInfo:!1,style:{width:100}})]})}):e.jsx(w,{description:"Chưa có dữ liệu xếp hạng"}),e.jsx("div",{style:{textAlign:"right",marginTop:8},children:e.jsx(d,{size:"small",onClick:s=>F(s,t),children:"Xem đầy đủ"})})]}),t.status==="in_progress"&&e.jsx(a,{title:"Mẹo hoàn thành thử thách",size:"small",children:e.jsxs("ul",{children:[e.jsx("li",{children:"Theo dõi tiến độ hàng ngày"}),e.jsx("li",{children:"Tập trung vào các mục tiêu nhỏ"}),e.jsx("li",{children:"Tham khảo kinh nghiệm từ đồng nghiệp"}),e.jsx("li",{children:"Sử dụng các tài liệu đào tạo liên quan"})]})}),t.status==="completed"&&e.jsx(k,{message:"Thử thách đã hoàn thành!",description:`Chúc mừng! Bạn đã hoàn thành thử thách này và nhận được ${t.reward.points} điểm thưởng.`,type:"success",showIcon:!0,icon:e.jsx(_,{}),style:{marginBottom:16}})]})}),e.jsx(E,{title:`Bảng xếp hạng: ${t?.title||""}`,open:O,onCancel:()=>D(!1),footer:[e.jsx(d,{onClick:()=>D(!1),children:"Đóng"},"close")],width:500,children:t&&e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs(p,{type:"secondary",children:[e.jsx(v,{})," ",u(t.startDate)," - ",u(t.endDate)]}),e.jsx("br",{}),e.jsxs(p,{type:"secondary",children:[e.jsx(V,{})," ",t.participants," người tham gia"]})]}),t.leaderboard.length>0?e.jsx(r,{itemLayout:"horizontal",dataSource:t.leaderboard,renderItem:(s,n)=>e.jsxs(r.Item,{children:[e.jsx(r.Item.Meta,{avatar:e.jsx(m,{style:{backgroundColor:n===0?"#FFD700":n===1?"#C0C0C0":n===2?"#CD7F32":"#1890FF",color:"#fff"},children:n+1}),title:e.jsxs(f,{children:[e.jsx("span",{children:s.name}),n===0&&e.jsx(j,{style:{color:"#FFD700"}})]}),description:`Tiến độ: ${s.progress}%`}),e.jsx(b,{percent:s.progress,size:"small",showInfo:!1,style:{width:100}})]})}):e.jsx(w,{description:"Chưa có dữ liệu xếp hạng"}),t.status==="in_progress"&&e.jsx(k,{message:"Cập nhật hàng ngày",description:"Bảng xếp hạng được cập nhật vào cuối mỗi ngày làm việc.",type:"info",showIcon:!0,style:{marginTop:16}})]})})]})})};export{je as default};
