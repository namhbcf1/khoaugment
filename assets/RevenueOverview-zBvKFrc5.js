import{j as e}from"./index-DPVYnWcF.js";import{r as l}from"./vendor-DD54NZMZ.js";import{z as r,f as o,e as c,C as s,T as Y,$ as I,a0 as Q,B as j,R as z,m as f,a9 as h,aa as u,q as B,n as E,aB as w,l as K,J as k,N as J,d as W,a8 as X,y as H,u as R,a6 as D,A as U}from"./antd-pmzi8FkM.js";import{m as Z,P as S}from"./index-J5Y8oacM.js";import"./utils-Db1EesZb.js";import"./defaultLocale-Baf4yPCw.js";var _=Z("Area");const{Title:ee,Text:te}=Y,{RangePicker:ae}=Q,{Option:d}=I,{TabPane:T}=R,de=()=>{const[n,x]=l.useState(!0),[g,v]=l.useState("month"),[b,i]=l.useState([r().subtract(30,"days"),r()]),[a,M]=l.useState({summary:{},revenueData:[],productCategoryData:[],topSellingProducts:[],paymentMethodData:[]});l.useEffect(()=>{x(!0),setTimeout(()=>{M({summary:{totalRevenue:75645e4,orderCount:245,avgOrderValue:3087551,revenueGrowth:12.5,orderCountGrowth:8.3,avgOrderValueGrowth:4.2},revenueData:P(),productCategoryData:[{category:"Laptop",revenue:3205e5,percentage:42.4},{category:"PC",revenue:15675e4,percentage:20.7},{category:"Màn hình",revenue:958e5,percentage:12.7},{category:"Linh kiện",revenue:752e5,percentage:9.9},{category:"Phụ kiện",revenue:682e5,percentage:9},{category:"Âm thanh",revenue:4e7,percentage:5.3}],topSellingProducts:G(),paymentMethodData:[{method:"Tiền mặt",value:45.2},{method:"Thẻ tín dụng",value:25.3},{method:"Chuyển khoản",value:15.8},{method:"Ví điện tử",value:13.7}]}),x(!1)},1500)},[g,b]);const P=()=>{const t=[],y=r().subtract(30,"days"),q=["Laptop","PC","Màn hình","Linh kiện","Phụ kiện","Âm thanh"];for(let p=0;p<30;p++){const C={date:y.clone().add(p,"days").format("YYYY-MM-DD"),revenue:Math.floor(Math.random()*3e7)+1e7};q.forEach(A=>{C[A]=Math.floor(Math.random()*8e6)+1e6}),t.push(C)}return t},G=()=>[{id:1,name:"Laptop Dell Inspiron 15",category:"Laptop",soldQuantity:32,revenue:48e7,growth:15.2},{id:2,name:'Màn hình Dell 24"',category:"Màn hình",soldQuantity:45,revenue:1575e5,growth:8.7},{id:3,name:"Chuột không dây Logitech",category:"Phụ kiện",soldQuantity:78,revenue:351e5,growth:22.5},{id:4,name:"Laptop Acer Nitro 5",category:"Laptop",soldQuantity:22,revenue:484e6,growth:-3.1},{id:5,name:"Ổ cứng SSD Samsung 1TB",category:"Linh kiện",soldQuantity:60,revenue:168e6,growth:12.4}],N={data:a.revenueData,xField:"date",yField:"revenue",seriesField:void 0,xAxis:{type:"time",tickCount:10},yAxis:{label:{formatter:t=>`${(t/1e6).toFixed(0)}tr`}},areaStyle:{fill:"l(270) 0:#ffffff 0.5:#7ec2f3 1:#1890ff"},smooth:!0,tooltip:{formatter:t=>({name:"Doanh thu",value:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.revenue)})}},V={data:a.productCategoryData,angleField:"revenue",colorField:"category",radius:.9,label:{type:"spider",content:`{name}
{percentage}`},interactions:[{type:"element-active"}],tooltip:{formatter:t=>({name:t.category,value:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t.revenue)})}};a.topSellingProducts.slice().sort((t,y)=>y.revenue-t.revenue);const F={data:a.paymentMethodData,angleField:"value",colorField:"method",radius:.8,label:{type:"outer",content:"{name} {percentage}"},interactions:[{type:"element-active"}]},m=t=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t),L=t=>{switch(v(t),t){case"week":i([r().subtract(7,"days"),r()]);break;case"month":i([r().subtract(30,"days"),r()]);break;case"quarter":i([r().subtract(90,"days"),r()]);break;case"year":i([r().subtract(365,"days"),r()]);break;default:i([r().subtract(30,"days"),r()])}},$=t=>{t&&t.length===2&&(i(t),v("custom"))},O=[{title:"Sản phẩm",dataIndex:"name",key:"name"},{title:"Danh mục",dataIndex:"category",key:"category"},{title:"Số lượng bán",dataIndex:"soldQuantity",key:"soldQuantity",align:"right"},{title:"Doanh thu",dataIndex:"revenue",key:"revenue",align:"right",render:t=>m(t)},{title:"So với kỳ trước",dataIndex:"growth",key:"growth",align:"right",render:t=>e.jsxs("span",{style:{color:t>=0?"#52c41a":"#f5222d"},children:[t>=0?e.jsx(h,{}):e.jsx(u,{})," ",Math.abs(t),"%"]})}];return e.jsxs("div",{className:"revenue-overview",children:[e.jsx(o,{bordered:!1,className:"header-card",children:e.jsxs(c,{justify:"space-between",align:"middle",gutter:[24,24],children:[e.jsxs(s,{xs:24,sm:12,children:[e.jsx(ee,{level:3,children:"Tổng quan doanh thu"}),e.jsx(te,{type:"secondary",children:"Thống kê doanh thu và đơn hàng trong khoảng thời gian đã chọn"})]}),e.jsx(s,{xs:24,sm:12,children:e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px",flexWrap:"wrap"},children:[e.jsxs(I,{style:{width:120},value:g,onChange:L,loading:n,children:[e.jsx(d,{value:"week",children:"7 ngày qua"}),e.jsx(d,{value:"month",children:"30 ngày qua"}),e.jsx(d,{value:"quarter",children:"90 ngày qua"}),e.jsx(d,{value:"year",children:"365 ngày qua"}),g==="custom"&&e.jsx(d,{value:"custom",children:"Tùy chỉnh"})]}),e.jsx(ae,{value:b,onChange:$,format:"DD/MM/YYYY",allowClear:!1,disabled:n}),e.jsx(j,{icon:e.jsx(z,{}),onClick:()=>x(!0),loading:n,children:"Làm mới"})]})})]})}),e.jsxs(c,{gutter:[24,24],style:{marginTop:"24px"},children:[e.jsx(s,{xs:24,sm:8,children:e.jsx(o,{bordered:!1,loading:n,children:e.jsx(f,{title:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(B,{}),e.jsx("span",{children:"Tổng doanh thu"})]}),value:a.summary.totalRevenue,precision:0,formatter:t=>m(t),suffix:e.jsxs("div",{style:{fontSize:"14px",color:a.summary.revenueGrowth>=0?"#52c41a":"#f5222d"},children:[a.summary.revenueGrowth>=0?e.jsx(h,{}):e.jsx(u,{})," ",Math.abs(a.summary.revenueGrowth),"%"]})})})}),e.jsx(s,{xs:24,sm:8,children:e.jsx(o,{bordered:!1,loading:n,children:e.jsx(f,{title:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(E,{}),e.jsx("span",{children:"Số đơn hàng"})]}),value:a.summary.orderCount,suffix:e.jsxs("div",{style:{fontSize:"14px",color:a.summary.orderCountGrowth>=0?"#52c41a":"#f5222d"},children:[a.summary.orderCountGrowth>=0?e.jsx(h,{}):e.jsx(u,{})," ",Math.abs(a.summary.orderCountGrowth),"%"]})})})}),e.jsx(s,{xs:24,sm:8,children:e.jsx(o,{bordered:!1,loading:n,children:e.jsx(f,{title:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(w,{}),e.jsx("span",{children:"Giá trị đơn hàng trung bình"})]}),value:a.summary.avgOrderValue,precision:0,formatter:t=>m(t),suffix:e.jsxs("div",{style:{fontSize:"14px",color:a.summary.avgOrderValueGrowth>=0?"#52c41a":"#f5222d"},children:[a.summary.avgOrderValueGrowth>=0?e.jsx(h,{}):e.jsx(u,{})," ",Math.abs(a.summary.avgOrderValueGrowth),"%"]})})})})]}),e.jsx(c,{gutter:[24,24],style:{marginTop:"24px"},children:e.jsx(s,{xs:24,children:e.jsx(o,{title:e.jsxs("span",{children:[e.jsx(X,{})," Biểu đồ doanh thu theo thời gian"]}),bordered:!1,loading:n,extra:e.jsxs(K,{children:[e.jsx(k,{title:"Xuất báo cáo",children:e.jsx(j,{icon:e.jsx(J,{})})}),e.jsx(k,{title:"Thông tin",children:e.jsx(j,{icon:e.jsx(W,{})})})]}),children:e.jsx(_,{...N,height:300})})})}),e.jsxs(c,{gutter:[24,24],style:{marginTop:"24px"},children:[e.jsx(s,{xs:24,lg:16,children:e.jsx(o,{title:e.jsxs("span",{children:[e.jsx(w,{})," Top sản phẩm bán chạy"]}),bordered:!1,loading:n,children:e.jsx(H,{dataSource:a.topSellingProducts,columns:O,rowKey:"id",pagination:!1,size:"middle"})})}),e.jsx(s,{xs:24,lg:8,children:e.jsxs(R,{defaultActiveKey:"categories",type:"card",children:[e.jsx(T,{tab:e.jsxs("span",{children:[e.jsx(D,{})," Theo danh mục"]}),children:e.jsx(o,{bordered:!1,loading:n,bodyStyle:{padding:"12px"},children:e.jsx(S,{...V,height:300})})},"categories"),e.jsx(T,{tab:e.jsxs("span",{children:[e.jsx(D,{})," Thanh toán"]}),children:e.jsx(o,{bordered:!1,loading:n,bodyStyle:{padding:"12px"},children:e.jsx(S,{...F,height:300})})},"payments")]})})]}),e.jsx(c,{gutter:[24,24],style:{marginTop:"24px"},children:e.jsx(s,{xs:24,children:e.jsx(U,{message:"Chú ý",description:"Số liệu thống kê được tổng hợp từ các giao dịch thực tế. Có thể có sự khác biệt nhỏ so với báo cáo tài chính chính thức do thời điểm ghi nhận doanh thu.",type:"info",showIcon:!0,closable:!0})})})]})};export{de as default};
