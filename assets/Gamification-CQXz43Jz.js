import{r as e,j as r}from"./react-vendor-BmR3b86j.js";import{u as t}from"./pos-pages-BmovolHy.js";import{e as s}from"./ai-features-yNCjlmo5.js";import{R as n,a as o,T as i,g as a,C as d,l,P as c,e as p,w as m,d as j,L as v,S as x,c as h,F as g,j as y}from"./antd-core-DmtdYCMe.js";import{q as u,i as f,ai as w,V as S,ae as b,ag as T}from"./antd-icons-CM8WQBCd.js";import"./vendor-remix-run-router-UjR1oCxX.js";import"./vendor-prop-types-Dp9apc73.js";import"./vendor-fast-equals-51KNnk-7.js";import"./vendor-dnd-core-B9A4u1lA.js";import"./vendor-redux-DjMjAQeN.js";import"./vendor-react-dnd-invariant-3ejajjRq.js";import"./vendor-react-dnd-asap-CbVDrjlw.js";import"./vendor-react-dnd-shallowequal-DKwLR6sW.js";import"./vendor-fast-deep-equal-SV0NKViY.js";import"./vendor-scheduler-Dmo4AZZp.js";import"./common-components-BnkJgGUk.js";import"./http-ztdpVPaQ.js";import"./i18n-Bumj-RJR.js";import"./vendor-i18next-browser-languagedetector-F0gxWJsw.js";import"./datetime-nPpyZAU3.js";import"./vendor-qrcode.react-BMI5h2mo.js";import"./admin-pages-T52mFZfb.js";import"./vendor-ant-design-plots-CEgIUyml.js";import"./utils-_V6CLdQs.js";import"./vendor-ant-design-charts-util-DoMFui2T.js";import"./vendor-antv-event-emitter-B_sETjLv.js";import"./vendor-antv-g2-extension-plot-HatJstJX.js";import"./vendor-antv-util-BIOdtugi.js";import"./vendor-tslib-BRpNZtt8.js";import"./charts-B2tExK65.js";import"./vendor-internmap-B8oPgqVZ.js";import"./vendor-clsx-BeLtu-UY.js";import"./vendor-decimal.js-light-DxGkYd4s.js";import"./vendor-tiny-invariant-BM5KeS_Z.js";import"./vendor-victory-vendor-Cs7Uu0Fm.js";import"./vendor-antv-g2-FUOAUpfS.js";import"./vendor-antv-g-camera-api-D5IlTOkC.js";import"./vendor-antv-g-lite-BsxRpwbw.js";import"./polyfills-BjGv5uaK.js";import"./vendor-eventemitter3-Daq7nTyN.js";import"./vendor-gl-matrix-DC4KmxQg.js";import"./vendor-antv-g-math-B2LDBClw.js";import"./vendor-antv-g-web-animations-api-BYFD-Sr5.js";import"./vendor-antv-g-canvas-BHDYY-MA.js";import"./vendor-antv-g-plugin-canvas-path-generator-DQ8Nkyg4.js";import"./vendor-antv-g-plugin-canvas-picker-ZcTkb3Op.js";import"./vendor-antv-g-plugin-canvas-renderer-CkntbpzN.js";import"./vendor-antv-g-plugin-image-loader-Dw6KHXGs.js";import"./vendor-antv-g-plugin-dom-interaction-IMQMND9X.js";import"./vendor-antv-g-plugin-html-renderer-Dt8n5LoT.js";import"./vendor-antv-g-plugin-dragndrop-CIRgTyo-.js";import"./vendor-antv-expr-DNWszLhl.js";import"./vendor-antv-scale-BQ7XIs6N.js";import"./vendor-fecha-eoCYq76Q.js";import"./vendor-color-string-33gc4E2X.js";import"./vendor-color-name-BQ5IbGbl.js";import"./vendor-simple-swizzle-CbuEe9Q8.js";import"./vendor-is-arrayish-CLsR9Wfx.js";import"./vendor-antv-component-CxktFfan.js";import"./vendor-antv-vendor-kzajL3ev.js";import"./vendor-antv-coord-rb_qKOjH.js";import"./vendor-flru-frKw_lgq.js";import"./vendor-pdfast-Cn2ZNGKT.js";import"./vendor-crypto-js-CZIvCF31.js";import"./vendor-rc-util-BHji-2jX.js";import"./vendor-ant-design-cssinjs-RSk1WLIv.js";import"./vendor-emotion-hash-DFFAhID7.js";import"./vendor-emotion-unitless-BWzHn38B.js";import"./vendor-stylis-C44NkLFc.js";import"./vendor-ant-design-cssinjs-utils-KNX4yuou.js";import"./vendor-classnames-C5kUp1Wf.js";import"./vendor-rc-resize-observer-Df-ZO_xb.js";import"./vendor-resize-observer-polyfill-C7U_o75s.js";import"./vendor-rc-motion-CaU78TtA.js";import"./vendor-rc-collapse-X_6nvYAe.js";import"./vendor-rc-component-color-picker-DywpPlcl.js";import"./vendor-ant-design-fast-color-BI9NtLgU.js";import"./vendor-rc-overflow-_omzXgx6.js";import"./vendor-rc-picker-oW30Pt-z.js";import"./vendor-rc-component-trigger-Clh6FLZv.js";import"./vendor-rc-component-portal-CGhEkAl8.js";import"./vendor-rc-tabs-BSS5PSMs.js";import"./vendor-rc-dropdown-ClcowrvR.js";import"./vendor-rc-menu-q8B1I2LI.js";import"./vendor-rc-select-yW1KbidU.js";import"./vendor-rc-virtual-list-Cb6ihmEe.js";import"./vendor-rc-segmented-Kz9ef3ZJ.js";import"./vendor-rc-input-number-CrZX1RUJ.js";import"./vendor-rc-component-mini-decimal-Du2PlijH.js";import"./vendor-rc-input-C0NGlOsD.js";import"./vendor-rc-slider-CRXusmLy.js";import"./vendor-rc-drawer-Cf7TOOps.js";import"./vendor-rc-field-form-CaplThNG.js";import"./vendor-rc-component-async-validator-DGV7Fhtr.js";import"./vendor-rc-image-CDEZ_vG2.js";import"./vendor-rc-dialog-De0Vi9S0.js";import"./vendor-rc-notification-Br82O98f.js";import"./vendor-rc-tooltip-DXxpebpT.js";import"./vendor-rc-component-qrcode-oiWrSzyX.js";import"./vendor-rc-rate-Jwj_XLln.js";import"./vendor-rc-steps-CU52MQfw.js";import"./vendor-rc-switch-DjR0DW1P.js";import"./vendor-rc-table--DoxRHF8.js";import"./vendor-rc-component-context-BcojcIzo.js";import"./vendor-rc-tree-B77pEmuR.js";import"./vendor-rc-checkbox-BOIJJXqu.js";import"./vendor-scroll-into-view-if-needed-BuydUqPn.js";import"./vendor-compute-scroll-into-view-Cfyw3hb3.js";import"./vendor-rc-pagination-C87a0Wqf.js";import"./vendor-throttle-debounce-w9OM8Bxz.js";import"./vendor-ant-design-colors-DN3VXH_K.js";import"./vendor-rc-textarea-DsgvVlkU.js";import"./vendor-copy-to-clipboard-yCUkwk6b.js";import"./vendor-toggle-selection-v3K3UlSB.js";import"./vendor-rc-upload-CBejdnUr.js";import"./vendor-rc-progress-BrSuq5cg.js";const{Title:k,Text:z}=i,{TabPane:C}=a,A=()=>{const{user:i}=t(),[A,D]=e.useState(!1),[N,P]=e.useState({}),[I,L]=e.useState([]),[R,B]=e.useState([]),[V,q]=e.useState([]),[H,X]=e.useState([]),[K,$]=e.useState(!1),[F,M]=e.useState(null);e.useEffect(()=>{E()},[]);const E=async()=>{D(!0);try{await Promise.all([G(),O(),W(),_(),J()])}catch(e){}finally{D(!1)}},G=async()=>{try{const e=await s.get(`/gamification/stats/${i.id}`);e.data.success&&P(e.data.data)}catch(e){P({level:8,xp:1250,xpToNext:1500,totalSales:25e5,totalOrders:125,rank:2,badges:12,streak:7,completedChallenges:15})}},O=async()=>{try{const e=await s.get(`/gamification/achievements/${i.id}`);e.data.success&&L(e.data.data)}catch(e){L([{id:1,name:"First Sale",description:"Complete your first sale",icon:"üéØ",completed:!0,completedAt:"2024-01-15",xpReward:100,category:"sales"},{id:2,name:"Sales Master",description:"Complete 100 sales",icon:"üëë",completed:!0,completedAt:"2024-02-20",xpReward:1e3,category:"sales"},{id:3,name:"Customer Champion",description:"Serve 50 different customers",icon:"ü§ù",completed:!0,completedAt:"2024-03-10",xpReward:500,category:"customer"},{id:4,name:"Speed Demon",description:"Process 10 orders in 1 hour",icon:"‚ö°",completed:!1,progress:70,xpReward:300,category:"efficiency"},{id:5,name:"Revenue King",description:"Achieve 5M VND in sales",icon:"üí∞",completed:!1,progress:50,xpReward:2e3,category:"sales"}])}},W=async()=>{try{const e=await s.get("/gamification/leaderboard");e.data.success&&B(e.data.data)}catch(e){B([{id:1,name:"Nguy·ªÖn VƒÉn A",level:10,xp:2500,sales:35e5,avatar:null,rank:1},{id:2,name:i.name,level:8,xp:1250,sales:25e5,avatar:null,rank:2},{id:3,name:"Tr·∫ßn Th·ªã B",level:7,xp:1100,sales:22e5,avatar:null,rank:3},{id:4,name:"L√™ VƒÉn C",level:6,xp:990,sales:198e4,avatar:null,rank:4},{id:5,name:"Ph·∫°m Th·ªã D",level:6,xp:870,sales:175e4,avatar:null,rank:5}])}},_=async()=>{try{const e=await s.get("/gamification/challenges");e.data.success&&q(e.data.data)}catch(e){q([{id:1,name:"Daily Sales Target",description:"Achieve 500K VND in sales today",type:"daily",target:5e5,current:32e4,reward:50,expiresAt:"2024-12-31T23:59:59",status:"active"},{id:2,name:"Customer Satisfaction",description:"Get 5-star rating from 10 customers",type:"weekly",target:10,current:7,reward:200,expiresAt:"2024-12-31T23:59:59",status:"active"},{id:3,name:"Upselling Champion",description:"Successfully upsell 20 customers",type:"monthly",target:20,current:12,reward:500,expiresAt:"2024-12-31T23:59:59",status:"active"}])}},J=async()=>{try{const e=await s.get(`/gamification/activities/${i.id}`);e.data.success&&X(e.data.data)}catch(e){X([{id:1,type:"achievement",description:'Earned "Customer Champion" badge',xp:500,timestamp:"2024-03-10T10:30:00"},{id:2,type:"level_up",description:"Reached Level 8!",xp:0,timestamp:"2024-03-09T15:45:00"},{id:3,type:"challenge",description:"Completed Daily Sales Target",xp:50,timestamp:"2024-03-08T18:20:00"},{id:4,type:"sale",description:"Processed order #ORD-1234",xp:10,timestamp:"2024-03-08T14:15:00"}])}},Q=e=>e>=10?"#ff4d4f":e>=7?"#faad14":e>=4?"#52c41a":"#1890ff",U=e=>{switch(e){case 1:return r.jsx(b,{style:{color:"#faad14"}});case 2:return r.jsx(u,{style:{color:"#c0c0c0"}});case 3:return r.jsx(u,{style:{color:"#cd7f32"}});default:return r.jsxs("span",{style:{fontWeight:"bold"},children:["#",e]})}},Y=e=>{switch(e){case"achievement":return r.jsx(u,{style:{color:"#faad14"}});case"level_up":return r.jsx(T,{style:{color:"#52c41a"}});case"challenge":return r.jsx(w,{style:{color:"#1890ff"}});case"sale":return r.jsx(f,{style:{color:"#ff4d4f"}});default:return r.jsx(S,{})}},Z=e=>{switch(e){case"daily":return"blue";case"weekly":return"green";case"monthly":return"purple";default:return"default"}};return r.jsxs("div",{style:{padding:"24px"},children:[r.jsx(n,{justify:"space-between",align:"middle",style:{marginBottom:24},children:r.jsxs(o,{children:[r.jsxs(k,{level:2,style:{margin:0},children:[r.jsx(u,{})," Gamification"]}),r.jsx(z,{type:"secondary",children:"H·ªá th·ªëng th√†nh t√≠ch v√† th·ª≠ th√°ch"})]})}),r.jsxs(a,{defaultActiveKey:"overview",children:[r.jsxs(C,{tab:"T·ªïng quan",children:[r.jsxs(n,{gutter:[16,16],style:{marginBottom:24},children:[r.jsx(o,{xs:24,lg:8,children:r.jsx(d,{children:r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx(l,{size:80,style:{backgroundColor:Q(N.level),fontSize:"24px"},children:N.level}),r.jsxs(k,{level:4,style:{marginTop:16,marginBottom:8},children:["Level ",N.level]}),r.jsx(c,{percent:N.xp/N.xpToNext*100,showInfo:!1,strokeColor:Q(N.level)}),r.jsxs(z,{type:"secondary",children:[N.xp," / ",N.xpToNext," XP"]})]})})}),r.jsx(o,{xs:24,lg:16,children:r.jsxs(n,{gutter:[16,16],children:[r.jsx(o,{xs:12,sm:6,children:r.jsx(d,{size:"small",children:r.jsx(p,{title:"X·∫øp h·∫°ng",value:N.rank,prefix:U(N.rank)})})}),r.jsx(o,{xs:12,sm:6,children:r.jsx(d,{size:"small",children:r.jsx(p,{title:"Huy hi·ªáu",value:N.badges,prefix:r.jsx(u,{style:{color:"#faad14"}})})})}),r.jsx(o,{xs:12,sm:6,children:r.jsx(d,{size:"small",children:r.jsx(p,{title:"Streak",value:N.streak,suffix:"ng√†y",prefix:r.jsx(f,{style:{color:"#ff4d4f"}})})})}),r.jsx(o,{xs:12,sm:6,children:r.jsx(d,{size:"small",children:r.jsx(p,{title:"Th·ª≠ th√°ch",value:N.completedChallenges,prefix:r.jsx(w,{style:{color:"#52c41a"}})})})})]})})]}),r.jsxs(n,{gutter:[16,16],children:[r.jsx(o,{xs:24,lg:12,children:r.jsx(d,{title:"Ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y",loading:A,children:r.jsx(m,{children:H.map(e=>r.jsx(m.Item,{dot:Y(e.type),children:r.jsxs("div",{children:[r.jsx(z,{children:e.description}),e.xp>0&&r.jsxs(j,{color:"blue",style:{marginLeft:8},children:["+",e.xp," XP"]}),r.jsx("div",{children:r.jsx(z,{type:"secondary",style:{fontSize:"12px"},children:new Date(e.timestamp).toLocaleString("vi-VN")})})]})},e.id))})})}),r.jsx(o,{xs:24,lg:12,children:r.jsx(d,{title:"Th·ª≠ th√°ch hi·ªán t·∫°i",loading:A,children:r.jsx(v,{dataSource:V,renderItem:e=>r.jsx(v.Item,{children:r.jsx(v.Item.Meta,{avatar:r.jsx(w,{style:{fontSize:"20px",color:"#1890ff"}}),title:r.jsxs(x,{children:[e.name,r.jsx(j,{color:Z(e.type),children:e.type})]}),description:r.jsxs("div",{children:[r.jsx(z,{type:"secondary",children:e.description}),r.jsx(c,{percent:e.current/e.target*100,size:"small",format:()=>`${e.current}/${e.target}`,style:{marginTop:8}}),r.jsx("div",{style:{marginTop:4},children:r.jsxs(z,{type:"secondary",children:["Ph·∫ßn th∆∞·ªüng: ",r.jsxs(z,{strong:!0,children:["+",e.reward," XP"]})]})})]})})})})})})]})]},"overview"),r.jsx(C,{tab:"Th√†nh t√≠ch",children:r.jsx(n,{gutter:[16,16],children:I.map(e=>r.jsx(o,{xs:24,sm:12,lg:8,xl:6,children:r.jsx(d,{hoverable:!0,onClick:()=>{M(e),$(!0)},style:{opacity:e.completed?1:.6,border:e.completed?"2px solid #52c41a":"1px solid #d9d9d9"},children:r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"48px",marginBottom:16},children:e.icon}),r.jsx(k,{level:5,style:{marginBottom:8},children:e.name}),r.jsx(z,{type:"secondary",style:{fontSize:"12px"},children:e.description}),e.completed?r.jsxs("div",{style:{marginTop:12},children:[r.jsx(h,{status:"success",text:"Ho√†n th√†nh"}),r.jsx("div",{children:r.jsx(z,{type:"secondary",style:{fontSize:"12px"},children:new Date(e.completedAt).toLocaleDateString("vi-VN")})})]}):r.jsxs("div",{style:{marginTop:12},children:[r.jsx(c,{percent:e.progress||0,size:"small",showInfo:!1}),r.jsxs(z,{type:"secondary",style:{fontSize:"12px"},children:[e.progress||0,"% ho√†n th√†nh"]})]}),r.jsx("div",{style:{marginTop:8},children:r.jsxs(j,{color:"blue",children:["+",e.xpReward," XP"]})})]})})},e.id))})},"achievements"),r.jsx(C,{tab:"B·∫£ng x·∫øp h·∫°ng",children:r.jsx(d,{title:"Top nh√¢n vi√™n xu·∫•t s·∫Øc",loading:A,children:r.jsx(g,{dataSource:R,rowKey:"id",pagination:!1,columns:[{title:"H·∫°ng",dataIndex:"rank",key:"rank",width:80,render:e=>r.jsx("div",{style:{textAlign:"center",fontSize:"18px"},children:U(e)})},{title:"Nh√¢n vi√™n",dataIndex:"name",key:"name",render:(e,t)=>r.jsxs(x,{children:[r.jsx(l,{style:{backgroundColor:Q(t.level)},children:t.level}),r.jsxs("div",{children:[r.jsxs("div",{style:{fontWeight:t.name===i.name?"bold":"normal"},children:[e," ",t.name===i.name&&r.jsx(z,{type:"secondary",children:"(B·∫°n)"})]}),r.jsxs(z,{type:"secondary",children:["Level ",t.level]})]})]})},{title:"XP",dataIndex:"xp",key:"xp",render:e=>r.jsxs(x,{children:[r.jsx(S,{style:{color:"#faad14"}}),e.toLocaleString()]})},{title:"Doanh thu",dataIndex:"sales",key:"sales",render:e=>{return r=e,new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(r);var r}}],rowClassName:e=>e.name===i.name?"highlight-row":""})})},"leaderboard")]}),r.jsx(y,{title:F?.name,open:K,onCancel:()=>$(!1),footer:null,width:400,children:F&&r.jsxs("div",{style:{textAlign:"center"},children:[r.jsx("div",{style:{fontSize:"64px",marginBottom:16},children:F.icon}),r.jsx(k,{level:4,children:F.name}),r.jsx(z,{type:"secondary",children:F.description}),r.jsx("div",{style:{marginTop:16},children:r.jsxs(j,{color:"blue",style:{fontSize:"14px",padding:"4px 12px"},children:["+",F.xpReward," XP"]})}),F.completed?r.jsxs("div",{style:{marginTop:16},children:[r.jsx(h,{status:"success",text:"ƒê√£ ho√†n th√†nh"}),r.jsx("div",{style:{marginTop:8},children:r.jsxs(z,{type:"secondary",children:["Ho√†n th√†nh v√†o: ",new Date(F.completedAt).toLocaleDateString("vi-VN")]})})]}):r.jsxs("div",{style:{marginTop:16},children:[r.jsx(c,{percent:F.progress||0,strokeColor:"#1890ff"}),r.jsxs(z,{type:"secondary",children:[F.progress||0,"% ho√†n th√†nh"]})]})]})}),r.jsx("style",{jsx:!0,global:!0,children:"\n        .highlight-row {\n          background-color: #e6f7ff !important;\n        }\n      "})]})};export{A as default};
