import{u as V,j as e}from"./index-D0cJwDsb.js";import{u as q,r as a,L as l,f as se}from"./vendor-DD54NZMZ.js";import{a as n,g as I,b2 as E,bp as _,T as R,B as v,am as O,L as w,bF as ne,bG as te,I as re,ah as D,b6 as U,a5 as X,D as G,s as A,$ as ie,e as z,C as u,l as B,bq as le,v as ce,aI as Q,aR as ae,bH as oe,bI as de,bJ as he,bK as xe,k as je,bL as pe,aN as K,bM as ue,bN as me,bE as ge,aX as fe,aL as ye,bx as be,p as ve,Q as Ie,ba as Re,aK as ke,aS as Ne,aO as $e,aB as Se,r as Te,n as Ce,ab as Oe,bn as we}from"./antd-pmzi8FkM.js";const{Header:Le}=w,{Search:P}=re,{Text:m}=R,{Option:Pe}=ie,Fe=({collapsed:i,onCollapse:o,title:g="Trường Phát POS",showSearch:k=!0,showNotifications:h=!0})=>{const d=q(),{user:x,logout:c}=V(),[Y,J]=a.useState(!1),[j,f]=a.useState(!1),p=[{id:1,title:"Đơn hàng mới",message:"Đơn hàng #123456 vừa được tạo",time:"5 phút trước",read:!1},{id:2,title:"Sản phẩm sắp hết hàng",message:"Laptop Dell XPS 13 sắp hết hàng (còn 2)",time:"30 phút trước",read:!1},{id:3,title:"Cập nhật hệ thống",message:"Hệ thống sẽ bảo trì lúc 22:00 tối nay",time:"2 giờ trước",read:!0}],N=async()=>{try{await c(),A.success("Đăng xuất thành công"),d("/login")}catch(s){console.error("Logout error:",s),A.error("Có lỗi xảy ra khi đăng xuất")}},y=e.jsxs(n,{children:[e.jsx(n.Item,{icon:e.jsx(I,{}),onClick:()=>d("/profile"),children:"Thông tin cá nhân"},"profile"),e.jsx(n.Item,{icon:e.jsx(E,{}),onClick:()=>d("/settings"),children:"Cài đặt"},"settings"),e.jsx(n.Divider,{}),e.jsx(n.Item,{icon:e.jsx(_,{}),onClick:N,danger:!0,children:"Đăng xuất"},"logout")]}),b=e.jsxs(n,{style:{width:320},children:[e.jsx(n.Item,{disabled:!0,style:{cursor:"default"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(m,{strong:!0,children:"Thông báo"}),e.jsx(v,{type:"link",size:"small",children:"Đánh dấu tất cả đã đọc"})]})},"header"),e.jsx(n.Divider,{}),p.length>0?p.map(s=>e.jsx(n.Item,{style:{opacity:s.read?.7:1},children:e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[!s.read&&e.jsx(O,{color:"blue",style:{marginRight:8}}),e.jsx(m,{strong:!0,children:s.title})]}),e.jsx("div",{style:{marginTop:4},children:e.jsx(m,{type:"secondary",children:s.message})}),e.jsx("div",{style:{marginTop:4},children:e.jsx(m,{type:"secondary",style:{fontSize:"12px"},children:s.time})})]})},s.id)):e.jsx(n.Item,{children:e.jsx("div",{style:{textAlign:"center",padding:"10px"},children:e.jsx(m,{type:"secondary",children:"Không có thông báo mới"})})},"empty"),e.jsx(n.Divider,{}),e.jsx(n.Item,{children:e.jsx("div",{style:{textAlign:"center"},children:e.jsx(v,{type:"link",onClick:()=>d("/notifications"),children:"Xem tất cả"})})},"footer")]});return e.jsxs(Le,{className:"app-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx(v,{type:"text",icon:i?e.jsx(ne,{}):e.jsx(te,{}),onClick:()=>o(!i),style:{fontSize:"16px",width:64,height:64}}),e.jsx("div",{className:"logo-title",children:e.jsx(l,{to:"/",children:e.jsx("h1",{children:g})})})]}),e.jsxs("div",{className:"header-right",children:[k&&e.jsx("div",{className:"header-search",children:e.jsx(P,{placeholder:"Tìm kiếm...",allowClear:!0,onSearch:s=>console.log(s),style:{width:250}})}),e.jsxs("div",{className:"header-actions",children:[h&&e.jsx(D,{overlay:b,trigger:["click"],placement:"bottomRight",arrow:{pointAtCenter:!0},children:e.jsx(O,{count:p.filter(s=>!s.read).length,size:"small",children:e.jsx(v,{type:"text",icon:e.jsx(U,{}),style:{fontSize:"16px"}})})}),e.jsx(D,{overlay:y,trigger:["click"],placement:"bottomRight",children:e.jsxs("div",{className:"user-profile",children:[e.jsx(X,{icon:e.jsx(I,{}),src:x?.avatar,style:{cursor:"pointer"}}),e.jsx("span",{className:"username",children:x?.name||"User"})]})})]})]}),e.jsx(G,{title:"Tìm kiếm",placement:"top",onClose:()=>f(!1),visible:j,height:120,children:e.jsx(P,{placeholder:"Tìm kiếm...",allowClear:!0,enterButton:!0,onSearch:s=>{console.log(s),f(!1)},size:"large"})})]})},{Footer:F}=w,{Title:T,Text:C,Link:Me}=R,He=({minimal:i=!1})=>{const o=new Date().getFullYear();return i?e.jsx(F,{className:"app-footer minimal",children:e.jsx("div",{className:"copyright",children:e.jsxs(C,{type:"secondary",children:["© ",o," Trường Phát Computer. Tất cả quyền được bảo lưu."]})})}):e.jsxs(F,{className:"app-footer",children:[e.jsx("div",{className:"footer-content",children:e.jsxs(z,{gutter:[32,24],children:[e.jsx(u,{xs:24,sm:24,md:8,lg:8,children:e.jsxs("div",{className:"company-info",children:[e.jsx(T,{level:4,children:"Trường Phát Computer"}),e.jsxs(B,{direction:"vertical",size:"small",children:[e.jsxs("div",{className:"contact-item",children:[e.jsx(le,{})," Hòa Bình, Việt Nam"]}),e.jsxs("div",{className:"contact-item",children:[e.jsx(ce,{})," 0836.768.597"]}),e.jsxs("div",{className:"contact-item",children:[e.jsx(Q,{})," contact@truongphat.com"]}),e.jsxs("div",{className:"contact-item",children:[e.jsx(ae,{})," www.truongphat.com"]})]}),e.jsxs(B,{className:"social-links",size:"middle",children:[e.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",children:e.jsx(oe,{})}),e.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",children:e.jsx(de,{})}),e.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",children:e.jsx(he,{})}),e.jsx("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer",children:e.jsx(xe,{})})]})]})}),e.jsxs(u,{xs:12,sm:12,md:8,lg:8,children:[e.jsx(T,{level:4,children:"Liên kết"}),e.jsxs(z,{gutter:[16,8],children:[e.jsx(u,{span:12,children:e.jsxs("ul",{className:"footer-links",children:[e.jsx("li",{children:e.jsx(l,{to:"/about",children:"Về chúng tôi"})}),e.jsx("li",{children:e.jsx(l,{to:"/products",children:"Sản phẩm"})}),e.jsx("li",{children:e.jsx(l,{to:"/services",children:"Dịch vụ"})}),e.jsx("li",{children:e.jsx(l,{to:"/contact",children:"Liên hệ"})})]})}),e.jsx(u,{span:12,children:e.jsxs("ul",{className:"footer-links",children:[e.jsx("li",{children:e.jsx(l,{to:"/faq",children:"FAQ"})}),e.jsx("li",{children:e.jsx(l,{to:"/terms",children:"Điều khoản"})}),e.jsx("li",{children:e.jsx(l,{to:"/privacy",children:"Chính sách"})}),e.jsx("li",{children:e.jsx(l,{to:"/sitemap",children:"Sitemap"})})]})})]})]}),e.jsxs(u,{xs:12,sm:12,md:8,lg:8,children:[e.jsx(T,{level:4,children:"Giờ làm việc"}),e.jsxs("ul",{className:"business-hours",children:[e.jsxs("li",{children:[e.jsx("span",{children:"Thứ 2 - Thứ 6:"}),e.jsx("span",{children:"8:00 - 20:00"})]}),e.jsxs("li",{children:[e.jsx("span",{children:"Thứ 7:"}),e.jsx("span",{children:"8:00 - 18:00"})]}),e.jsxs("li",{children:[e.jsx("span",{children:"Chủ nhật:"}),e.jsx("span",{children:"9:00 - 17:00"})]}),e.jsxs("li",{className:"note",children:[e.jsx("span",{children:"Lễ tết:"}),e.jsx("span",{children:"Vui lòng liên hệ"})]})]})]})]})}),e.jsx(je,{style:{margin:"24px 0 16px"}}),e.jsxs("div",{className:"footer-bottom",children:[e.jsx("div",{className:"copyright",children:e.jsxs(C,{type:"secondary",children:["© ",o," Trường Phát Computer. Tất cả quyền được bảo lưu."]})}),e.jsx("div",{className:"powered-by",children:e.jsxs(C,{type:"secondary",children:["Phát triển bởi ",e.jsx(Me,{href:"https://truongphat.com",children:"Trường Phát"})," với ",e.jsx(pe,{style:{color:"#ff4d4f"}})]})})]})]})},{Sider:De}=w,{SubMenu:Ae}=n,{Text:H}=R,Ve=({collapsed:i,onCollapse:o,isMobile:g=!1,visible:k,onClose:h})=>{const d=q(),x=se(),{user:c,hasRole:Y,hasPermission:J,getAccessibleMenus:j}=V(),[f,p]=a.useState([]),[N,y]=a.useState([]),[b,s]=a.useState([]);a.useEffect(()=>{const r=x.pathname.split("/").filter(S=>S),t="/"+r.join("/");p([t]),r.length>1&&y(S=>{const ee=[`/${r[0]}`];return[...new Set([...S,...ee])]})},[x.pathname]),a.useEffect(()=>{const r=j?j():[];s(r)},[c,j]);const W=r=>{d(r.key),g&&h&&h()},L=r=>({DashboardOutlined:e.jsx(we,{}),ShoppingOutlined:e.jsx(Oe,{}),ShoppingCartOutlined:e.jsx(Ce,{}),UserOutlined:e.jsx(I,{}),TeamOutlined:e.jsx(Te,{}),BarChartOutlined:e.jsx(Se,{}),SettingOutlined:e.jsx(E,{}),ShopOutlined:e.jsx($e,{}),MobileOutlined:e.jsx(Ne,{}),AppstoreOutlined:e.jsx(K,{}),FileTextOutlined:e.jsx(ke,{}),BankOutlined:e.jsx(Re,{}),ClockCircleOutlined:e.jsx(Ie,{}),TrophyOutlined:e.jsx(ve,{}),BookOutlined:e.jsx(be,{}),MailOutlined:e.jsx(Q,{}),BellOutlined:e.jsx(U,{}),CalendarOutlined:e.jsx(ye,{}),LogoutOutlined:e.jsx(_,{}),HomeOutlined:e.jsx(fe,{}),RollbackOutlined:e.jsx(ge,{}),LaptopOutlined:e.jsx(me,{}),DesktopOutlined:e.jsx(ue,{})})[r]||e.jsx(K,{}),$=r=>r.map(t=>t.children?e.jsx(Ae,{icon:L(t.icon),title:t.label,children:$(t.children)},t.key):e.jsxs(n.Item,{icon:L(t.icon),children:[t.label,t.badge&&e.jsx(O,{count:t.badge,size:"small",offset:[10,0]})]},t.path)),Z=[{key:"home",label:"Trang chủ",path:"/",icon:"HomeOutlined"}],M=e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"logo",children:!i&&e.jsx(R.Title,{level:4,style:{margin:0,color:"#fff"},children:"Trường Phát"})}),e.jsxs("div",{className:"sidebar-user",children:[e.jsx(X,{size:i?"default":"large",icon:e.jsx(I,{}),src:c?.avatar}),!i&&e.jsxs("div",{className:"user-info",children:[e.jsx(H,{strong:!0,style:{color:"#fff"},children:c?.name||"Người dùng"}),e.jsx(H,{type:"secondary",style:{fontSize:"12px"},children:c?.role?c.role.charAt(0).toUpperCase()+c.role.slice(1):"Khách"})]})]}),e.jsxs(n,{theme:"dark",mode:"inline",selectedKeys:f,openKeys:N,onOpenChange:y,onClick:W,children:[$(Z),b.length>0&&e.jsx(n.Divider,{}),$(b)]})]});return g?e.jsx(G,{placement:"left",closable:!0,onClose:h,open:k,className:"sidebar-drawer",width:256,bodyStyle:{padding:0,backgroundColor:"#001529"},children:M}):e.jsx(De,{collapsible:!0,collapsed:i,onCollapse:o,width:256,className:"app-sidebar",children:M})};export{Fe as A,Ve as S,He as a};
