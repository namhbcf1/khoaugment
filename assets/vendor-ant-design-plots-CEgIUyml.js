import{A as t}from"./utils-_V6CLdQs.js";import{c as n,E as e,C as r}from"./vendor-ant-design-charts-util-DoMFui2T.js";import{r as o,R as i}from"./react-vendor-BmR3b86j.js";import{E as a}from"./vendor-antv-event-emitter-B_sETjLv.js";import{p as c}from"./vendor-antv-g2-extension-plot-HatJstJX.js";import{e as u,s as p,R as l,C as s,r as f}from"./vendor-antv-g2-FUOAUpfS.js";import"./vendor-antv-g-camera-api-D5IlTOkC.js";import{T as y,P as d,C as h}from"./vendor-antv-g-lite-BsxRpwbw.js";import"./vendor-antv-g-web-animations-api-BYFD-Sr5.js";var v=function(){return v=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},v.apply(this,arguments)};var g=function(){return g=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},g.apply(this,arguments)},O=u(l,g(g({},p()),c())),_=function(){return _=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},_.apply(this,arguments)},m=function(n){var e=x(n),r=e.children,o=void 0===r?[]:r,i=t.omit(e,[].concat(k,R.map(function(t){return t.key}))),a=function(t,n,e){var r=function(t){var n;return null===(n=L.find(function(n){return n.key===t}))||void 0===n?void 0:n.callback}(n);r?r(t,n,e):t[n]=P({},t[n],e)},c=function(n){Object.keys(n).forEach(function(e){if(n[e]){var r=R.find(function(t){return t.key===e});if(r){var i=r.type,a=r.extendedProperties,c=r.defaultShapeConfig,p=void 0===c?{}:c;if(i){var l=n[e].tooltip;o.push(u(P({},t.pick(n,a),p,{type:i},n[e],{tooltip:l||!1})))}else t.isArray(n[e])&&n[e].forEach(function(t){o.push(u(_({data:[],tooltip:!1},t)))})}}})},u=function(n){return c(n),Object.keys(B).forEach(function(e){var r=B[e];if(!t.isUndefined(n[e]))if(t.isObject(r)){var o=r.value,i=r.target,c=o(n[e]);a(n,i,c)}else t.set(n,r,n[e])}),n};return o.forEach(function(t){var n=P({},i,t);u(P(t,n))}),c(e),w(e),n},b=function(t,n,e){if(e||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return t.concat(r||Array.prototype.slice.call(n))},w=function(t){var n=t.children,e=void 0===n?[]:n,r=Object.keys(B).concat(R.map(function(t){return t.key}));return r.forEach(function(n){delete t[n]}),e.forEach(function(t){Object.keys(t).forEach(function(n){r.includes(n)&&delete t[n]})}),Object.keys(t).forEach(function(n){b(b([],k,!0),I.map(function(t){return t.key}),!0).includes(n)||delete t[n]}),t},x=function(n){var e=n.options,r=e.children;return(void 0===r?[]:r).forEach(function(n){Object.keys(n).forEach(function(e){t.isArray(n[e])&&"data"!==e&&(n[e]=n[e].filter(function(t){return!t[C]}))})}),e},j=function(t,n,e){if(e||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return t.concat(r||Array.prototype.slice.call(n))},A=function(n,e){if(t.isArray(e))return e},P=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t.mergeWith.apply(void 0,j(j([],n,!1),[A],!1))};function D(n){switch(typeof n){case"function":return n;case"string":return function(e){return t.get(e,[n])};default:return function(){return n}}}var S=function(n){var e=n.options,r=e.data;return t.get(r,"value")||"fetch"!==t.get(r,"type")&&t.isPlainObject(r)&&t.set(e,"data.value",r),n},F=function(){return F=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},F.apply(this,arguments)},E=["renderer"],k=["width","height","autoFit","theme","inset","insetLeft","insetRight","insetTop","insetBottom","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","depth","title","clip","children","type","data","direction"],C="__transform__",T=function(n,e){return t.isBoolean(e)?{type:n,available:e}:F({type:n},e)},B={xField:"encode.x",yField:"encode.y",colorField:"encode.color",angleField:"encode.y",keyField:"encode.key",y1Field:"encode.y1",sizeField:"encode.size",setsField:"encode.sets",shapeField:"encode.shape",seriesField:"encode.series",positionField:"encode.position",textField:"encode.text",valueField:"encode.value",binField:"encode.x",srcField:"encode.src",linkColorField:"encode.linkColor",fontSizeField:"encode.fontSize",coordinateType:"coordinate.type",radius:"coordinate.outerRadius",innerRadius:"coordinate.innerRadius",startAngle:"coordinate.startAngle",endAngle:"coordinate.endAngle",focusX:"coordinate.focusX",focusY:"coordinate.focusY",distortionX:"coordinate.distortionX",distortionY:"coordinate.distortionY",visual:"coordinate.visual",stack:{target:"transform",value:function(t){return T("stackY",t)}},normalize:{target:"transform",value:function(t){return T("normalizeY",t)}},percent:{target:"transform",value:function(t){return T("normalizeY",t)}},group:{target:"transform",value:function(t){return T("dodgeX",t)}},sort:{target:"transform",value:function(t){return T("sortX",t)}},symmetry:{target:"transform",value:function(t){return T("symmetryY",t)}},diff:{target:"transform",value:function(t){return T("diffY",t)}},meta:{target:"scale",value:function(t){return t}},label:{target:"labels",value:function(t){return t}},shape:"style.shape",connectNulls:{target:"style",value:function(n){return t.isBoolean(n)?{connect:n}:n}},transpose:{target:"transpose",value:function(t){return T("transpose",t)}}},z=["xField","yField","seriesField","colorField","shapeField","keyField","positionField","meta","tooltip","animate","stack","normalize","percent","group","sort","symmetry","diff"],R=[{key:"annotations",extendedProperties:[]},{key:"line",type:"line",extendedProperties:z},{key:"connector",type:"connector",extendedProperties:[]},{key:"point",type:"point",extendedProperties:z,defaultShapeConfig:{shapeField:"circle"}},{key:"area",type:"area",extendedProperties:z}],L=[{key:"transform",callback:function(t,n,e){var r;t[n]=t[n]||[];var o=e.available,i=void 0===o||o,a=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]])}return e}(e,["available"]);if(i)t[n].push(F(((r={})[C]=!0,r),a));else{var c=t[n].indexOf(function(t){return t.type===e.type});-1!==c&&t[n].splice(c,1)}}},{key:"labels",callback:function(n,e,r){var o;r&&!t.isArray(r)?(r.text||(r.text=n.yField),n[e]=n[e]||[],n[e].push(F(((o={})[C]=!0,o),r))):n[e]=r||[]}},{key:"transpose",callback:function(t,n,e){var r;e.available?t.coordinate={transform:[F((r={},r[C]=!0,r),e)]}:t.coordinate={}}}],I=[{key:"conversionTag",shape:"ConversionTag"},{key:"axisText",shape:"BidirectionalBarAxisText"}],N=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),q=function(){return q=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},q.apply(this,arguments)},M=function(t){function n(n){void 0===n&&(n={});var e=n.style,r=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]])}return e}(n,["style"]);return t.call(this,q({style:q({text:"",fontSize:12,textBaseline:"middle",textAlign:"center",fill:"#000",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1},e)},r))||this}return N(n,t),n}(y),W=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Y=function(){return Y=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},Y.apply(this,arguments)},H=function(t){function n(n){void 0===n&&(n={});var e=n.style,r=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]])}return e}(n,["style"]);return t.call(this,Y({style:Y({fill:"#eee"},e)},r))||this}return W(n,t),n}(d),X=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),G=function(t){function n(n,e,r){var o=t.call(this,{style:P(r,e)})||this;return o.chart=n,o}return X(n,t),n.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this)},n.prototype.disconnectedCallback=function(){},n.prototype.attributeChangedCallback=function(t){},n.prototype.update=function(t,n){var e;return this.attr(P({},this.attributes,t||{})),null===(e=this.render)||void 0===e?void 0:e.call(this,this.attributes,this,n)},n.prototype.clear=function(){this.removeChildren()},n.prototype.getElementsLayout=function(){var t=this.chart.getContext().canvas.document.getElementsByClassName("element"),n=[];return t.forEach(function(t){var e=t.getBBox(),r=e.x,o=e.y,i=e.width,a=e.height,c=t.__data__;n.push({bbox:e,x:r,y:o,width:i,height:a,key:c.key,data:c})}),n},n.prototype.bindEvents=function(t,n){},n}(h),Z=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),U=function(){return U=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},U.apply(this,arguments)},V=function(n){function e(t,r){return n.call(this,t,r,{type:e.tag})||this}return Z(e,n),e.prototype.getConversionTagLayout=function(){var n="vertical"===this.direction,e=this.getElementsLayout(),r=e[0],o=r.x,i=r.y,a=r.height,c=r.width,u=r.data,p=["items",0,"value"],l=t.get(u,p),s=n?e[1].y-i-a:e[1].x-o-c,f=[],y=this.attributes,d=y.size,h=void 0===d?40:d,v=y.arrowSize,g=void 0===v?20:v,O=y.spacing,_=void 0===O?4:O;return e.forEach(function(e,r){if(r>0){var o=e.x,i=e.y,a=e.height,c=e.width,u=e.data,y=e.key,d=t.get(u,p),v=h/2;if(n){var O=o+c/2,m=i;f.push({points:[[O+v,m-s+_],[O+v,m-g-_],[O,m-_],[O-v,m-g-_],[O-v,m-s+_]],center:[O,m-s/2-_],width:s,value:[l,d],key:y})}else{O=o,m=i+a/2;f.push({points:[[o-s+_,m-v],[o-g-_,m-v],[O-_,m],[o-g-_,m+v],[o-s+_,m+v]],center:[O-s/2-_,m],width:s,value:[l,d],key:y})}l=d}}),f},e.prototype.render=function(){this.setDirection(),this.drawConversionTag()},e.prototype.setDirection=function(){var n=this.chart.getCoordinate(),e=t.get(n,"options.transformations"),r="horizontal";e.forEach(function(t){t.includes("transpose")&&(r="vertical")}),this.direction=r},e.prototype.drawConversionTag=function(){var n=this,e=this.getConversionTagLayout(),r=this.attributes,o=r.style,i=r.text,a=i.style,c=i.formatter;e.forEach(function(e){var r=e.points,i=e.center,u=e.value,p=e.key,l=u[0],s=u[1],f=i[0],y=i[1],d=new H({style:U({points:r,fill:"#eee"},o),id:"polygon-".concat(p)}),h=new M({style:U({x:f,y:y,text:t.isFunction(c)?c(l,s):(s/l*100).toFixed(2)+"%"},a),id:"text-".concat(p)});n.appendChild(d),n.appendChild(h)})},e.prototype.update=function(){var t=this;this.getConversionTagLayout().forEach(function(n){var e=n.points,r=n.center,o=n.key,i=r[0],a=r[1],c=t.getElementById("polygon-".concat(o)),u=t.getElementById("text-".concat(o));c.setAttribute("points",e),u.setAttribute("x",i),u.setAttribute("y",a)})},e.tag="ConversionTag",e}(G),K=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$=function(){return $=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},$.apply(this,arguments)},J={ConversionTag:V,BidirectionalBarAxisText:function(n){function e(t,r){return n.call(this,t,r,{type:e.tag})||this}return K(e,n),e.prototype.render=function(){this.drawText()},e.prototype.getBidirectionalBarAxisTextLayout=function(){var n="vertical"===this.attributes.layout,e=this.getElementsLayout(),r=n?t.uniqBy(e,"x"):t.uniqBy(e,"y"),o=["title"],i=[],a=this.chart.getContext().views,c=t.get(a,[0,"layout"]),u=c.width,p=c.height;return r.forEach(function(e){var r=e.x,a=e.y,c=e.height,l=e.width,s=e.data,f=e.key,y=t.get(s,o);n?i.push({x:r+l/2,y:p,text:y,key:f}):i.push({x:u,y:a+c/2,text:y,key:f})}),t.uniqBy(i,"text").length!==i.length&&(i=Object.values(t.groupBy(i,"text")).map(function(t){var e,r=t.reduce(function(t,e){return t+(n?e.x:e.y)},0);return $($({},t[0]),((e={})[n?"x":"y"]=r/t.length,e))})),i},e.prototype.transformLabelStyle=function(t){var n={},e=/^label[A-Z]/;return Object.keys(t).forEach(function(r){e.test(r)&&(n[r.replace("label","").replace(/^[A-Z]/,function(t){return t.toLowerCase()})]=t[r])}),n},e.prototype.drawText=function(){var n=this,e=this.getBidirectionalBarAxisTextLayout(),r=this.attributes,o=r.layout,i=r.labelFormatter,a=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]])}return e}(r,["layout","labelFormatter"]);e.forEach(function(e){var r=e.x,c=e.y,u=e.text,p=e.key,l=new M({style:$({x:r,y:c,text:t.isFunction(i)?i(u):u,wordWrap:!0,wordWrapWidth:"horizontal"===o?64:120,maxLines:2,textOverflow:"ellipsis"},n.transformLabelStyle(a)),id:"text-".concat(p)});n.appendChild(l)})},e.prototype.destroy=function(){this.clear()},e.prototype.update=function(){this.destroy(),this.drawText()},e.tag="BidirectionalBarAxisText",e}(G)},Q=function(){function t(t,n){this.container=new Map,this.chart=t,this.config=n,this.init()}return t.prototype.init=function(){var t=this;I.forEach(function(n){var e,r=n.key,o=n.shape,i=t.config[r];if(i){var a=new J[o](t.chart,i);t.chart.getContext().canvas.appendChild(a),t.container.set(r,a)}else null===(e=t.container.get(r))||void 0===e||e.clear()})},t.prototype.update=function(){var t=this;this.container.size&&I.forEach(function(n){var e=n.key,r=t.container.get(e);null==r||r.update()})},t}(),tt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),nt=function(){return nt=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},nt.apply(this,arguments)},et="data-chart-source-type",rt=function(n){function e(t,e){var r=n.call(this)||this;return r.container="string"==typeof t?document.getElementById(t):t,r.options=r.mergeOption(e),r.createG2(),r.bindEvents(),r}return tt(e,n),e.prototype.getChartOptions=function(){return nt(nt({},t.pick(this.options,E)),{container:this.container})},e.prototype.getSpecOptions=function(){return"base"===this.type||this.__skipDelCustomKeys__?nt(nt({},this.options),this.getChartOptions()):this.options},e.prototype.createG2=function(){if(!this.container)throw Error("The container is not initialized!");this.chart=new O(this.getChartOptions()),this.container.setAttribute(et,"Ant Design Charts")},e.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",function(n){(null==n?void 0:n.type)&&t.emit(n.type,n)})},e.prototype.getBaseOptions=function(){return{type:"view",autoFit:!0}},e.prototype.getDefaultOptions=function(){},e.prototype.render=function(){var t=this;"base"!==this.type&&this.execAdaptor(),this.chart.options(this.getSpecOptions()),this.chart.render().then(function(){t.annotation=new Q(t.chart,t.options)}),this.bindSizeSensor()},e.prototype.update=function(t){this.options=this.mergeOption(t)},e.prototype.mergeOption=function(t){return P({},this.getBaseOptions(),this.getDefaultOptions(),t)},e.prototype.changeData=function(t){this.chart.changeData(t)},e.prototype.changeSize=function(t,n){this.chart.changeSize(t,n)},e.prototype.destroy=function(){this.chart.destroy(),this.off(),this.container.removeAttribute(et)},e.prototype.execAdaptor=function(){this.getSchemaAdaptor()({chart:this.chart,options:this.options})},e.prototype.triggerResize=function(){this.chart.forceFit()},e.prototype.bindSizeSensor=function(){var t=this,n=this.options.autoFit;(void 0===n||n)&&this.chart.on(s.AFTER_CHANGE_SIZE,function(){t.annotation.update()})},e}(a),ot=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),it=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="base",n}return ot(n,t),n.getDefaultOptions=function(){return{type:"view",children:[{type:"line"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return function(t){return t}},n}(rt),at=function(){return at=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},at.apply(this,arguments)};function ct(n){var e=n.options,r=e.stack,o=e.tooltip,i=e.xField;if(!r)return n;var a=R.map(function(t){return t.type}).filter(function(t){return!!t}),c=!1;return a.forEach(function(n){e[n]&&(c=!0,t.set(e,[n,"stack"],at({y1:"y"},"object"==typeof r?r:{})))}),!c||t.isBoolean(o)||o||t.set(e,"tooltip",{title:i,items:[{channel:"y"}]}),n}function ut(n){return t.flow(ct)(n)}function pt(t){!function(t){var n=t.options.layout,e=void 0===n?"horizontal":n;t.options.coordinate.transform="horizontal"!==e?void 0:[{type:"transpose"}]}(t);var n=t.options.layout,e=void 0===n?"horizontal":n;return t.options.children.forEach(function(t){var n;(null===(n=null==t?void 0:t.coordinate)||void 0===n?void 0:n.transform)&&(t.coordinate.transform="horizontal"!==e?void 0:[{type:"transpose"}])}),t}function lt(n){return t.flow(ut,m)(n)}var st=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ft=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="area",n}return st(n,t),n.getDefaultOptions=function(){return{type:"view",children:[{type:"area"}],scale:{y:{nice:!0}},axis:{y:{title:!1},x:{title:!1}},interaction:{tooltip:{shared:!0}}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return lt},n}(rt),yt=function(){return yt=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},yt.apply(this,arguments)};function dt(n){return t.flow(function(n){var e=n.options;t.get(e,"children.length")>1&&t.set(e,"children",[{type:"interval"}]);var r=e.scale,o=e.markBackground,i=e.data,a=e.children,c=e.yField,u=t.get(r,"y.domain",[]);if(o&&u.length&&t.isArray(i)){var p="domainMax",l=i.map(function(n){var e;return yt(yt({originData:yt({},n)},t.omit(n,c)),((e={})[p]=u[u.length-1],e))});a.unshift(yt({type:"interval",data:l,yField:p,tooltip:!1,style:{fill:"#eee"},label:!1},o))}return n},ut,m)(n)}var ht=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();f("shape.interval.bar25D",function(t,n){return function(e){var r=t.fill,o=void 0===r?"#2888FF":r,i=t.stroke,a=t.fillOpacity,c=void 0===a?1:a,u=t.strokeOpacity,p=void 0===u?.2:u,l=t.pitch,s=void 0===l?8:l,f=e[0],y=e[1],d=e[2],h=e[3],v=(y[1]-f[1])/2,g=n.document,O=g.createElement("g",{}),_=g.createElement("polygon",{style:{points:[f,[f[0]-s,f[1]+v],[d[0]-s,f[1]+v],h],fill:o,fillOpacity:c,stroke:i,strokeOpacity:p,inset:30}}),m=g.createElement("polygon",{style:{points:[[f[0]-s,f[1]+v],y,d,[d[0]-s,f[1]+v]],fill:o,fillOpacity:c,stroke:i,strokeOpacity:p}}),b=g.createElement("polygon",{style:{points:[f,[f[0]-s,f[1]+v],y,[f[0]+s,f[1]+v]],fill:o,fillOpacity:c-.2}});return O.appendChild(_),O.appendChild(m),O.appendChild(b),O}});var vt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="Bar",n}return ht(n,t),n.getDefaultOptions=function(){return{type:"view",coordinate:{transform:[{type:"transpose"}]},children:[{type:"interval"}],scale:{y:{nice:!0}},axis:{y:{title:!1},x:{title:!1}},interaction:{tooltip:{shared:!0},elementHighlight:{background:!0}}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return dt},n}(rt),gt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();f("shape.interval.column25D",function(t,n){return function(e){var r=t.fill,o=void 0===r?"#2888FF":r,i=t.stroke,a=t.fillOpacity,c=void 0===a?1:a,u=t.strokeOpacity,p=void 0===u?.2:u,l=t.pitch,s=void 0===l?8:l,f=(e[1][0]-e[0][0])/2+e[0][0],y=n.document,d=y.createElement("g",{}),h=y.createElement("polygon",{style:{points:[[e[0][0],e[0][1]],[f,e[1][1]+s],[f,e[3][1]+s],[e[3][0],e[3][1]]],fill:o,fillOpacity:c,stroke:i,strokeOpacity:p,inset:30}}),v=y.createElement("polygon",{style:{points:[[f,e[1][1]+s],[e[1][0],e[1][1]],[e[2][0],e[2][1]],[f,e[2][1]+s]],fill:o,fillOpacity:c,stroke:i,strokeOpacity:p}}),g=y.createElement("polygon",{style:{points:[[e[0][0],e[0][1]],[f,e[1][1]-s],[e[1][0],e[1][1]],[f,e[1][1]+s]],fill:o,fillOpacity:c-.2}});return d.appendChild(v),d.appendChild(h),d.appendChild(g),d}});var Ot=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="column",n}return gt(n,t),n.getDefaultOptions=function(){return{type:"view",scale:{y:{nice:!0}},interaction:{tooltip:{shared:!0},elementHighlight:{background:!0}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"interval"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return dt},n}(rt);function _t(n){return t.flow(function(n){var e=n.options,r=e.children,o=void 0===r?[]:r;return e.legend?(o.forEach(function(n){if(!t.get(n,"colorField")){var e=t.get(n,"yField");t.set(n,"colorField",function(){return e})}}),n):n},function(n){var e=n.options,r=e.annotations,o=void 0===r?[]:r,i=e.children,a=void 0===i?[]:i,c=e.scale,u=!1;return t.get(c,"y.key")||a.forEach(function(n,e){if(!t.get(n,"scale.y.key")){var r="child".concat(e,"Scale");t.set(n,"scale.y.key",r);var i=n.annotations,a=void 0===i?[]:i;a.length>0&&(t.set(n,"scale.y.independent",!1),a.forEach(function(n){t.set(n,"scale.y.key",r)})),!u&&o.length>0&&void 0===t.get(n,"scale.y.independent")&&(u=!0,t.set(n,"scale.y.independent",!1),o.forEach(function(n){t.set(n,"scale.y.key",r)}))}}),n},ut,m)(n)}var mt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="DualAxes",n}return mt(n,t),n.getDefaultOptions=function(){return{type:"view",axis:{y:{title:!1,tick:!1},x:{title:!1}},scale:{y:{independent:!0,nice:!0}}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return _t},n}(rt);function wt(n){return t.flow(function(n){var e=n.options,r=e.xField;return e.colorField||t.set(e,"colorField",r),n},function(n){var e=n.options,r=e.compareField,o=e.transform,i=e.isTransposed,a=void 0===i||i,c=e.coordinate;return o||(r?t.set(e,"transform",[]):t.set(e,"transform",[{type:"symmetryY"}])),!c&&a&&t.set(e,"coordinate",{transform:[{type:"transpose"}]}),n},function(n){var e=n.options,r=e.compareField,o=e.seriesField,i=e.data,a=e.children,c=e.yField,u=e.isTransposed,p=void 0===u||u;if(r||o){var l=Object.values(t.groupBy(i,function(t){return t[r||o]}));a[0].data=l[0],a.push({type:"interval",data:l[1],yField:function(t){return-t[c]}}),delete e.compareField,delete e.data}return o&&(t.set(e,"type","spaceFlex"),t.set(e,"ratio",[1,1]),t.set(e,"direction",p?"row":"col"),delete e.seriesField),n},function(n){var e=n.options,r=e.tooltip,o=e.xField,i=e.yField;return r||t.set(e,"tooltip",{title:!1,items:[function(t){return{name:t[o],value:t[i]}}]}),n},ut,m)(n)}var xt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),jt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="column",n}return xt(n,t),n.getDefaultOptions=function(){return{type:"view",scale:{x:{padding:0}},animate:{enter:{type:"fadeIn"}},axis:!1,shapeField:"funnel",label:{position:"inside",transform:[{type:"contrastReverse"}]},children:[{type:"interval"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return wt},n}(rt);function At(n){return t.flow(ut,m)(n)}var Pt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="line",n}return Pt(n,t),n.getDefaultOptions=function(){return{type:"view",scale:{y:{nice:!0}},interaction:{tooltip:{shared:!0}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"line"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return At},n}(rt),St=function(){return St=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},St.apply(this,arguments)};function Ft(n){return t.flow(function(n){var e=n.options,r=e.angleField,o=e.data,i=e.label,a=e.tooltip,c=e.colorField,u=D(c);if(t.isArray(o)&&o.length>0&&0===o.reduce(function(t,n){return t+n[r]},0)){var p=o.map(function(t){var n;return St(St({},t),((n={})[r]=1,n))});if(t.set(e,"data",p),i){var l=c===t.get(i,"text");t.set(e,"label",St(St({},i),l?{}:{formatter:function(){return 0}}))}!1!==a&&(t.isFunction(a)?t.set(e,"tooltip",function(t,n,e){var o;return a(St(St({},t),((o={})[r]=0,o)),n,e.map(function(t){var n;return St(St({},t),((n={})[r]=0,n))}))}):t.set(e,"tooltip",St(St({},a),{items:[function(t,n,e){return{name:u(t,n,e),value:0}}]})))}return n},m)(n)}var Et=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),kt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="pie",n}return Et(n,t),n.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"theta"},transform:[{type:"stackY",reverse:!0}],animate:{enter:{type:"waveIn"}}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return Ft},n}(rt);function Ct(n){return t.flow(ut,m)(n)}var Tt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Bt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="scatter",n}return Tt(n,t),n.getDefaultOptions=function(){return{axis:{y:{title:!1},x:{title:!1}},legend:{size:!1},children:[{type:"point"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return Ct},n}(rt);function zt(n){return t.flow(function(n){return t.set(n,"options.coordinate",{type:t.get(n,"options.coordinateType","polar")}),n},m)(n)}var Rt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="radar",n}return Rt(n,t),n.getDefaultOptions=function(){return{axis:{x:{grid:!0,line:!0},y:{zIndex:1,title:!1,line:!0,nice:!0}},meta:{x:{padding:.5,align:0}},interaction:{tooltip:{style:{crosshairsLineDash:[4,4]}}},children:[{type:"line"}],coordinateType:"polar"}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return zt},n}(rt);function It(n){return t.flow(function(n){var e=n.options,r=e.yField,o=e.children,i=e.style,a=void 0===i?{}:i,c=e.lineStyle,u=void 0===c?{}:c,p=r[0],l=r[1],s=r[2],f=r[3];return t.set(o,[0,"yField"],[s,f]),t.set(o,[0,"style"],u),t.set(o,[1,"yField"],[p,l]),t.set(o,[1,"style"],a),delete e.yField,delete e.lineStyle,delete e.style,n},m)(n)}var Nt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),qt=["#26a69a","#999999","#ef5350"],Mt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="stock",n}return Nt(n,t),n.getDefaultOptions=function(){return{type:"view",scale:{color:{domain:[-1,0,1],range:qt},y:{nice:!0}},children:[{type:"link"},{type:"interval"}],axis:{x:{title:!1,grid:!1},y:{title:!1,grid:!0,gridLineDash:null}},animate:{enter:{type:"scaleInY"}},interaction:{tooltip:{shared:!0,marker:!1,groupName:!1,crosshairs:!0}}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return It},n}(rt);function Wt(n){return t.flow(ut,m)(n)}var Yt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ht=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="TinyLine",n}return Yt(n,t),n.getDefaultOptions=function(){return{type:"view",children:[{type:"line",axis:!1}],animate:{enter:{type:"growInX",duration:500}},padding:0,margin:0,tooltip:!1}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return Wt},n}(rt);function Xt(n){return t.flow(ut,m)(n)}var Gt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="TinyArea",n}return Gt(n,t),n.getDefaultOptions=function(){return{type:"view",animate:{enter:{type:"growInX",duration:500}},children:[{type:"area",axis:!1}],padding:0,margin:0,tooltip:!1}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return Xt},n}(rt);function Ut(n){return t.flow(ut,m)(n)}var Vt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="TinyColumn",n}return Vt(n,t),n.getDefaultOptions=function(){return{type:"view",children:[{type:"interval",axis:!1}],padding:0,margin:0,tooltip:!1}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return Ut},n}(rt),$t=function(){return $t=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},$t.apply(this,arguments)};function Jt(n){return t.flow(function(t){var n=t.options,e=n.percent,r=n.color,o=void 0===r?[]:r;if(!e)return t;var i={scale:{color:{range:o.length?o:[]}},data:[1,e]};return Object.assign(n,$t({},i)),t},ut,m)(n)}var Qt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),tn=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="TinyProgress",n}return Qt(n,t),n.getDefaultOptions=function(){return{type:"view",data:[],margin:0,padding:0,tooltip:!1,children:[{interaction:{tooltip:!1},coordinate:{transform:[{type:"transpose"}]},type:"interval",axis:!1,legend:!1,encode:{y:function(t){return t},color:function(t,n){return n}}}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return Jt},n}(rt),nn=function(){return nn=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},nn.apply(this,arguments)};function en(n){return t.flow(function(n){var e=n.options.radius,r=void 0===e?.8:e;return t.set(n,"options.coordinate.innerRadius",r),n},function(t){var n=t.options,e=n.percent,r=n.color,o=void 0===r?[]:r;if(!e)return t;var i={scale:{color:{range:o.length?o:[]}},data:[1,e]};return Object.assign(n,nn({},i)),t},ut,m)(n)}var rn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),on=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="TinyRing",n}return rn(n,t),n.getDefaultOptions=function(){return{type:"view",data:[],margin:0,padding:0,coordinate:{type:"theta"},animate:{enter:{type:"waveIn"}},interaction:{tooltip:!1},tooltip:!1,children:[{type:"interval",axis:!1,legend:!1,encode:{y:function(t){return t},color:function(t,n){return n}}}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return en},n}(rt);function an(n){return t.flow(m)(n)}var cn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),un=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="rose",n}return cn(n,t),n.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"polar"},animate:{enter:{type:"waveIn"}}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return an},n}(rt),pn="__start__",ln="__end__",sn="__waterfall_value__",fn=function(){return fn=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},fn.apply(this,arguments)};function yn(n){return t.flow(function(t){var n=t.options,e=n.data,r=void 0===e?[]:e,o=n.yField;return r.length?(r.reduce(function(t,n,e){var i,a=D(o),c=a(n,e,r);if(0===e||n.isTotal)n[pn]=0,n[ln]=c,n[sn]=c;else{var u=null!==(i=t[ln])&&void 0!==i?i:a(t,e,r);n[pn]=u,n[ln]=u+c,n[sn]=t[ln]}return n},[]),Object.assign(n,{yField:[pn,ln]}),t):t},function(t){var n=t.options,e=n.data,r=void 0===e?[]:e,o=n.xField,i=n.children,a=n.linkStyle,c=function(t,n,e){if(e||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return t.concat(r||Array.prototype.slice.call(n))}([],r,!0);return c.reduce(function(t,n,e){return e>0&&(n.x1=t[o],n.x2=n[o],n.y1=t[ln]),n},[]),c.shift(),i.push({type:"link",xField:["x1","x2"],yField:"y1",zIndex:-1,data:c,style:fn({stroke:"#697474"},a),label:!1,tooltip:!1}),t},ut,function(n){var e=n.options,r=e.data,o=void 0===r?[]:r,i=e.connector;return i?(t.set(e,"connector",fn({xField:i.reverse?["x2","x1"]:["x1","x2"],yField:i.reverse?["y2","y1"]:["y1","y2"],data:[{x1:o[0].x,y1:o[0][ln],x2:o[o.length-1].x,y2:o[o.length-1][ln]}]},t.isObject(i)?i:{})),n):n},m)(n)}var dn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),hn=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="waterfall",n}return dn(n,t),n.getDefaultOptions=function(){return{type:"view",legend:null,tooltip:{field:sn,valueFormatter:"~s",name:"value"},axis:{y:{title:null,labelFormatter:"~s"},x:{title:null}},children:[{type:"interval",interaction:{elementHighlight:{background:!0}}}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return yn},n}(rt);function vn(n){return t.flow(function(n){var e=n.options,r=e.data,o=e.binNumber,i=e.binWidth,a=e.children,c=e.channel,u=void 0===c?"count":c,p=t.get(a,"[0].transform[0]",{});return t.isNumber(i)?(t.assign(p,{thresholds:t.ceil(t.divide(r.length,i)),y:u}),n):t.isNumber(o)?(t.assign(p,{thresholds:o,y:u}),n):n},ut,m)(n)}var gn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),On=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="Histogram",n}return gn(n,t),n.getDefaultOptions=function(){return{type:"view",autoFit:!0,axis:{y:{title:!1},x:{title:!1}},children:[{type:"rect",transform:[{type:"binX",y:"count"}],interaction:{elementHighlight:{background:!0}}}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return vn},n}(rt);function _n(n){return t.flow(function(t){var n=t.options,e=n.tooltip,r=void 0===e?{}:e,o=n.colorField,i=n.sizeField;return r&&!r.field&&(r.field=o||i),t},function(t){var n=t.options,e=n.mark,r=n.children;return e&&(r[0].type=e),t},ut,m)(n)}var mn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),bn=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="heatmap",n}return mn(n,t),n.getDefaultOptions=function(){return{type:"view",legend:null,tooltip:{valueFormatter:"~s"},axis:{y:{title:null,grid:!0},x:{title:null,grid:!0}},children:[{type:"point"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return _n},n}(rt);function wn(n){return t.flow(function(t){var n=t.options.boxType,e=void 0===n?"box":n;return t.options.children[0].type=e,t},ut,m)(n)}var xn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),jn=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="box",n}return xn(n,t),n.getDefaultOptions=function(){return{type:"view",children:[{type:"box"}],axis:{y:{title:!1},x:{title:!1}},tooltip:{items:[{name:"min",channel:"y"},{name:"q1",channel:"y1"},{name:"q2",channel:"y2"},{name:"q3",channel:"y3"},{name:"max",channel:"y4"}]}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return wn},n}(rt),An=function(n){var e=n.options,r=e.data,o=[{type:"custom",callback:function(t){return{links:t}}}];if(t.isArray(r))r.length>0?t.set(e,"data",{value:r,transform:o}):delete e.children;else if("fetch"===t.get(r,"type")&&t.get(r,"value")){var i=t.get(r,"transform");t.isArray(i)||t.set(r,"transform",o)}return n};function Pn(n){return t.flow(S,An,ut,m)(n)}var Dn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sn=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="sankey",n}return Dn(n,t),n.getDefaultOptions=function(){return{type:"view",children:[{type:"sankey"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return Pn},n}(rt),Fn=function(){return Fn=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},Fn.apply(this,arguments)},En=["#f0efff","#5B8FF9","#3D76DD"];function kn(n,e,r,o){void 0===o&&(o=!0);var i=0,a=!1,c=t.map(n,function(n){var c,u,p=t.get(n,[e]);if(t.isNil(p))return[];if(t.isString(p)){var l=Number(p);return isNaN(l)?[]:((c={})[r]=n[r],c[e]=l,c)}return t.isArray(p)?(a=!0,i=Math.max(i,p.length),t.map(o?p.sort(function(t,n){return n-t}):p,function(t,o){var i;return(i={})[r]=n[r],i[e]=t,i.index=o,i})):(i=Math.max(1,i),(u={})[r]=n[r],u[e]=p,u)}).flat();return a?[c.map(function(t){return Fn({index:0},t)}),i]:[c,i]}function Cn(n,e){return new Array(n).fill("").map(function(n,r){return t.isArray(e)?e[r%e.length]:e})}function Tn(n){return t.flow(function(n){var e=n.options,r=e.color,o=e.rangeField,i=void 0===o?"ranges":o,a=e.measureField,c=void 0===a?"measures":a,u=e.targetField,p=void 0===u?"targets":u,l=e.xField,s=void 0===l?"title":l,f=e.mapField,y=e.data,d=kn(y,i,s),h=d[0],v=d[1],g=kn(y,c,s,!1),O=g[0],_=g[1],m=kn(y,p,s,!1),b=m[0],w=m[1],x=t.get(r,[i],En[0]),j=t.get(r,[c],En[1]),A=t.get(r,[p],En[2]),P=[Cn(v,x),Cn(_,j),Cn(w,A)].flat();return e.children=t.map(e.children,function(n,e){var r=[h,O,b][e],o=[i,c,p][e];return Fn(Fn({},n),{data:r,encode:Fn(Fn({},n.encode||{}),{x:s,y:o,color:function(n){var e=n.index,r=t.isNumber(e)?"".concat(o,"_").concat(e):o;return f?t.get(f,[o,e],r):r}})})}),t.set(e,"scale.color.range",P),e.legend.color.itemMarker=function(n){return f&&t.includes(null==f?void 0:f[p],n)||(null==n?void 0:n.replace(/\_\d$/,""))===p?"line":"square"},n},function(n){var e=n.options.transpose;return void 0===e||e||t.set(n,"options.children[2].shapeField","hyphen"),n},function(t){var n=t.options,e=n.range,r=void 0===e?{}:e,o=n.measure,i=void 0===o?{}:o,a=n.target,c=void 0===a?{}:a,u=n.children;return n.children=[r,i,c].map(function(t,n){return P(u[n],t)}),t},pt,m)(n)}var Bn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),zn=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="bullet",n}return Bn(n,t),n.getDefaultOptions=function(){return{type:"view",scale:{color:{range:En}},legend:{color:{itemMarker:function(t){return"targets"===t?"line":"square"}}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"interval",style:{maxWidth:30,zIndex:-2},axis:{y:{grid:!0,gridLineWidth:2}}},{type:"interval",style:{maxWidth:20,zIndex:-1},transform:[{type:"stackY"}]},{type:"point",encode:{size:8,shape:"line"}}],interaction:{tooltip:{shared:!0}},coordinate:{transform:[{type:"transpose"}]}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return Tn},n}(rt);function Rn(n){return t.flow(function(t){var n=t.options.data;return t.options.data={value:n},t},ut,m)(n)}var Ln=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),In=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="Gauge",n}return Ln(n,t),n.getDefaultOptions=function(){return{type:"view",legend:!1,children:[{type:"gauge"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return Rn},n}(rt);function Nn(n){return t.flow(function(n){var e=n.options.percent;return t.isNumber(e)&&(t.set(n,"options.data",e),delete n.options.percent),n},ut,m)(n)}var qn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mn=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="Liquid",n}return qn(n,t),n.getDefaultOptions=function(){return{type:"view",children:[{type:"liquid"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return Nn},n}(rt);function Wn(n){return t.flow(ut,m)(n)}var Yn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Hn=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="WordCloud",n}return Yn(n,t),n.getDefaultOptions=function(){return{type:"view",legend:!1,children:[{type:"wordCloud"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return Wn},n}(rt);function Xn(n){return t.flow(S,ut,m)(n)}var Gn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zn=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="treemap",n}return Gn(n,t),n.getDefaultOptions=function(){return{type:"view",children:[{type:"treemap"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return Xn},n}(rt),Un=function(){return Un=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},Un.apply(this,arguments)};function Vn(n){return t.flow(function(n){var e=n.options,r=e.startAngle,o=e.maxAngle,i=e.coordinate,a=t.isNumber(r)?r/(2*Math.PI)*360:-90,c=t.isNumber(o)?(Number(o)+a)/180*Math.PI:Math.PI;return t.set(n,["options","coordinate"],Un(Un({},i),{endAngle:c,startAngle:null!=r?r:-Math.PI/2})),n},function(n){var e=n.options,r=e.tooltip,o=e.xField,i=e.yField,a=D(o),c=D(i);return r||t.set(e,"tooltip",{title:!1,items:[function(t,n,e){return{name:a(t,n,e),value:c(t,n,e)}}]}),n},function(n){var e=n.options,r=e.markBackground,o=e.children,i=e.scale,a=e.coordinate,c=e.xField,u=t.get(i,"y.domain",[]);if(r){var p=r.style,l=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]])}return e}(r,["style"]);o.unshift(Un({type:"interval",xField:c,yField:u[u.length-1],style:Un({fillOpacity:.4,fill:"#e0e4ee"},p),coordinate:Un(Un({},a),{startAngle:-Math.PI/2,endAngle:1.5*Math.PI}),animate:!1},l))}return n},ut,m)(n)}var Kn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),$n=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="radial",n}return Kn(n,t),n.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"radial",innerRadius:.1,outerRadius:1,endAngle:Math.PI},animate:{enter:{type:"waveIn",duration:800}},axis:{y:{nice:!0,labelAutoHide:!0,labelAutoRotate:!1},x:{title:!1,nice:!0,labelAutoRotate:!1,labelAutoHide:{type:"equidistance",cfg:{minGap:6}}}}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return Vn},n}(rt);function Jn(n){return t.flow(S,m)(n)}var Qn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),te=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="CirclePacking",n}return Qn(n,t),n.getDefaultOptions=function(){return{legend:!1,type:"view",children:[{type:"pack",encode:{color:"depth"}}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return Jn},n}(rt),ne=function(){return ne=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},ne.apply(this,arguments)};function ee(t,n){return t||n}function re(n){return t.flow(function(n){var e=n.options,r=e.xField,o=e.yField,i=e.colorField,a=e.seriesField,c=e.children,u=null==c?void 0:c.map(function(t){return ne(ne({},t),{xField:r,yField:o,seriesField:ee(a,i),colorField:ee(i,a),data:"density"===t.type?{transform:[{type:"kde",field:o,groupBy:[r,ee(a,i)]}]}:t.data})}).filter(function(t){return e.box||"density"===t.type});return t.set(e,"children",u),delete e.box,n},ut,m)(n)}var oe=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ie=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="violin",n}return oe(n,t),n.getDefaultOptions=function(){return{type:"view",children:[{type:"density",sizeField:"size",tooltip:!1},{type:"boxplot",shapeField:"violin",style:{opacity:.5,point:!1}}],animate:{enter:{type:"fadeIn"}}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return re},n}(rt),ae=function(){return ae=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},ae.apply(this,arguments)};function ce(n){return t.flow(function(n){var e=n.options,r=e.yField;return e.children.forEach(function(n,e){t.set(n,"yField",r[e])}),n},function(n){var e=n.options,r=e.yField,o=e.children,i=e.data;if(t.isPlainObject(i))return n;var a=t.isArray(t.get(i,[0]))?i:[i,i];return o.forEach(function(n,e){t.set(n,"data",function(t,n,e){if(e||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return t.concat(r||Array.prototype.slice.call(n))}([],a[e].map(function(t){return ae({groupKey:r[e]},t)}),!0))}),n},function(n){var e=n.options,r=e.yField,o=r[0],i=r[1];return e.tooltip||t.set(e,"tooltip",{items:[{field:o,value:o},{field:i,value:i}]}),n},function(n){var e=n.options,r=e.children,o=e.layout,i=e.coordinate.transform,a=e.paddingBottom,c=void 0===a?48:a,u=e.paddingLeft,p=void 0===u?48:u,l=e.axis;t.set(e,"axisText",ae(ae({},(null==l?void 0:l.x)||{}),{layout:o}));var s=r[0],f=r[1];if("vertical"===o)t.set(e,"direction","col"),t.set(e,"paddingLeft",p),t.set(e,"coordinate.transform",i.filter(function(t){return"transpose"!==t.type})),t.set(s,"paddingBottom",16),t.set(f,"paddingTop",16),t.set(f,"axis.x.position","top"),t.set(f,"scale.y.range",[0,1]);else{t.set(e,"paddingBottom",c),t.set(s,"scale.y.range",[0,1]);var y=s.paddingRight,d=void 0===y?32:y,h=f.paddingLeft,v=void 0===h?32:h;t.set(s,"paddingRight",d),t.set(s,"axis.x.position","right"),t.set(f,"paddingLeft",v)}return n},ut,m)(n)}var ue,pe,le=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),se=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="BidirectionalBar",n}return le(n,t),n.getDefaultOptions=function(){return{type:"spaceFlex",coordinate:{transform:[{type:"transpose"}]},scale:{y:{nice:!0}},direction:"row",layout:"horizontal",legend:!1,axis:{y:{title:!1},x:{title:!1,label:!1}},children:[{type:"interval"},{type:"interval"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return ce},n}(rt);function fe(n){return t.flow(function(n){var e=n.options,r=e.data,o=e.setsField,i=e.sizeField;return t.isArray(r)&&(t.set(e,"data",{type:"inline",value:r,transform:[{type:"venn",sets:o,size:i,as:[ue.color,ue.d]}]}),t.set(e,"colorField",ue.color),t.set(e,["children","0","encode","d"],ue.d)),n},m)(n)}(pe=ue||(ue={})).color="key",pe.d="path";var ye=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),de=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="venn",n}return ye(n,t),n.getDefaultOptions=function(){return{type:"view",children:[{type:"path"}],legend:{color:{itemMarker:"circle"}},encode:{color:ue.color,d:ue.d}}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return fe},n}(rt);function he(n){return t.flow(S,m)(n)}var ve=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])})(n,e)};return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ge={Base:it,Line:Dt,Column:Ot,Pie:kt,Area:ft,Bar:vt,DualAxes:bt,Funnel:jt,Scatter:Bt,Radar:Lt,Rose:un,Stock:Mt,TinyLine:Ht,TinyArea:Zt,TinyColumn:Kt,TinyProgress:tn,TinyRing:on,Waterfall:hn,Histogram:On,Heatmap:bn,Box:jn,Sankey:Sn,Bullet:zn,Gauge:In,Liquid:Mn,WordCloud:Hn,Treemap:Zn,RadialBar:$n,CirclePacking:te,Violin:ie,BidirectionalBar:se,Venn:de,Mix:bt,Sunburst:function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="Sunburst",n}return ve(n,t),n.getDefaultOptions=function(){return{type:"view",children:[{type:"sunburst"}]}},n.prototype.getDefaultOptions=function(){return n.getDefaultOptions()},n.prototype.getSchemaAdaptor=function(){return he},n}(rt)},Oe=function(){return Oe=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},Oe.apply(this,arguments)},_e=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]])}return e},me=o.forwardRef(function(a,c){var u=a.chartType,p=void 0===u?"Base":u,l=_e(a,["chartType"]),s=l.containerStyle,f=void 0===s?{height:"inherit",flex:1}:s,y=l.containerAttributes,d=void 0===y?{}:y,h=l.className,g=l.loading,O=l.loadingTemplate,_=l.errorTemplate,m=l.onReady,b=_e(l,["containerStyle","containerAttributes","className","loading","loadingTemplate","errorTemplate","onReady"]),w=function(e,r){var i=o.useRef(null),a=o.useRef(null),c=o.useRef(null),u=r.onReady,p=r.onEvent,l=function(t,n){var e;void 0===t&&(t="image/png");var r=null===(e=c.current)||void 0===e?void 0:e.getElementsByTagName("canvas")[0];return null==r?void 0:r.toDataURL(t,n)},s=function(t,n,e){void 0===t&&(t="download"),void 0===n&&(n="image/png");var r=t;-1===t.indexOf(".")&&(r="".concat(t,".").concat(n.split("/")[1]));var o=l(n,e),i=document.createElement("a");return i.href=o,i.download=r,document.body.appendChild(i),i.click(),document.body.removeChild(i),i=null,r},f=function(e,r){void 0===r&&(r=!1);var o=Object.keys(e),i=r;o.forEach(function(o){var a,c=e[o];"tooltip"===o&&(i=!0),t.isFunction(c)&&(a="".concat(c),/react|\.jsx|children:\[\(|return\s+[A-Za-z0-9].createElement\((?!['"][g|circle|ellipse|image|rect|line|polyline|polygon|text|path|html|mesh]['"])([^\)])*,/i.test(a))?e[o]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n(c.apply(void 0,t),i)}:t.isArray(c)?c.forEach(function(t){f(t,i)}):t.isObject(c)?f(c,i):i=r})};return o.useEffect(function(){i.current&&!t.isEqual(a.current,r)&&(a.current=t.cloneDeep(r),f(r),i.current.update(r),i.current.render())},[r]),o.useEffect(function(){if(!c.current)return function(){return null};a.current||(a.current=t.cloneDeep(r)),f(r);var n=new e(c.current,v({},r));n.toDataURL=l,n.downloadImage=s,n.render(),i.current=n,u&&u(n);var o=function(t){p&&p(n,t)};return n.on("*",o),function(){i.current&&(i.current.destroy(),i.current.off("*",o),i.current=void 0)}},[]),{chart:i,container:c}}(ge[p],Oe(Oe({},b),{onReady:function(t){c&&("function"==typeof c?c(t):c.current=t),null==m||m(t)}})),x=w.container;return i.createElement(e,{errorTemplate:_},g&&i.createElement(r,{loadingTemplate:O,theme:l.theme,loading:g}),i.createElement("div",Oe({className:h,style:f,ref:x},d)))}),be=o.createContext({});var we=function(){return we=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t},we.apply(this,arguments)};function xe(t){var n=t.charAt(0).toLowerCase()+t.slice(1);return o.forwardRef(function(e,r){var a=o.useContext(be);return i.createElement(me,we({},a.common,a[n],e,{chartType:t,ref:r}))})}var je=xe("Area"),Ae=xe("Column"),Pe=xe("Line"),De=xe("Pie");export{je as A,Ae as C,Pe as L,De as P};
