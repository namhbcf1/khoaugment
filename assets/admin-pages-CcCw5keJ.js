import{r as e,j as t,u as n,a as s,D as a,H as i,b as r,c as l}from"./react-vendor-D_ybsntB.js";import{s as o,C as c,R as d,a as h,T as u,S as m,b as x,B as p,L as g,c as j,F as y,d as v,D as f,e as b,f as S,g as k,A as w,h as C,P as I,M as T,I as P,i as D,j as A,k as M,l as R,m as _,n as N,o as F,p as B,q as O,U as V,r as E,E as L,t as z,u as q,v as K,w as $,x as H,y as Y,z as G,G as U,H as W,J as X,K as Q}from"./antd-core-DVlmEpkB.js";import{R as J,a as Z,b as ee,c as te,d as ne,e as se,f as ae,g as ie,h as re,i as le,j as oe,k as ce,l as de,m as he,n as ue,o as me,p as xe,q as pe,r as ge,s as je,t as ye,u as ve,v as fe,w as be,x as Se,y as ke,z as we,A as Ce,B as Ie,C as Te,D as Pe,E as De,F as Ae,G as Me,H as Re,I as _e,J as Ne,K as Fe,L as Be,M as Oe,N as Ve,O as Ee,P as Le,Q as ze,S as qe,T as Ke,U as $e,V as He,W as Ye,X as Ge,Y as Ue,Z as We,_ as Xe,$ as Qe,a0 as Je,a1 as Ze,a2 as et,a3 as tt,a4 as nt,a5 as st,a6 as at,a7 as it,a8 as rt,a9 as lt,aa as ot,ab as ct,ac as dt,ad as ht,ae as ut,af as mt,ag as xt,ah as pt,ai as gt,aj as jt,ak as yt,al as vt,am as ft,an as bt,ao as St,ap as kt,aq as wt,ar as Ct,as as It,at as Tt,au as Pt,av as Dt,aw as At,ax as Mt,ay as Rt,az as _t,aA as Nt,aB as Ft,aC as Bt,aD as Ot,aE as Vt,aF as Et,aG as Lt}from"./antd-icons-DMCzxaTm.js";import{A as zt,P as qt,C as Kt,L as $t}from"./vendor-ant-design-plots-DP6i501V.js";import{d as Ht}from"./datetime-CZsEG1Fw.js";import{R as Yt,C as Gt,a as Ut,X as Wt,Y as Xt,T as Qt,L as Jt,B as Zt,b as en,c as tn,d as nn,A as sn,P as an,e as rn,f as ln}from"./charts-BOmscTYX.js";import{P as on}from"./common-components-Cl8eBnCL.js";import{C as cn}from"./vendor-crypto-js-DSoR22t1.js";const dn={ENCRYPTION_KEY:{}.REACT_APP_ENCRYPTION_KEY||"khoaugment-default-key-32-chars!!",IV_LENGTH:16,SESSION_TIMEOUT:18e5,MAX_LOGIN_ATTEMPTS:5,LOCKOUT_DURATION:9e5,PASSWORD_MIN_LENGTH:8,PASSWORD_REQUIRE_UPPERCASE:!0,PASSWORD_REQUIRE_LOWERCASE:!0,PASSWORD_REQUIRE_NUMBERS:!0,PASSWORD_REQUIRE_SPECIAL:!0,SECURITY_HEADERS:{"X-Content-Type-Options":"nosniff","X-Frame-Options":"DENY","X-XSS-Protection":"1; mode=block","Strict-Transport-Security":"max-age=31536000; includeSubDomains","Content-Security-Policy":"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:;"}};const hn=new class{constructor(){this.loginAttempts=new Map,this.sessionData=new Map,this.securityEvents=[],this.initializeSecurity()}initializeSecurity(){this.setupSessionMonitoring(),this.setupSecurityHeaders(),this.setupInputSanitization(),this.setupCSRFProtection(),this.setupSecurityMonitoring()}encrypt(e){try{const t=cn.lib.WordArray.random(dn.IV_LENGTH);return{encrypted:cn.AES.encrypt(JSON.stringify(e),dn.ENCRYPTION_KEY,{iv:t}).toString(),iv:t.toString()}}catch(t){throw new Error("Failed to encrypt data")}}decrypt(e,t){try{const n=cn.AES.decrypt(e,dn.ENCRYPTION_KEY,{iv:cn.enc.Hex.parse(t)});return JSON.parse(n.toString(cn.enc.Utf8))}catch(n){throw new Error("Failed to decrypt data")}}hashPassword(e,t=null){t||(t=cn.lib.WordArray.random(16).toString());return{hash:cn.PBKDF2(e,t,{keySize:8,iterations:1e4}).toString(),salt:t}}verifyPassword(e,t,n){return this.hashPassword(e,n).hash===t}validatePassword(e){const t=[];return e.length<dn.PASSWORD_MIN_LENGTH&&t.push(`Mật khẩu phải có ít nhất ${dn.PASSWORD_MIN_LENGTH} ký tự`),/[A-Z]/.test(e)||t.push("Mật khẩu phải có ít nhất 1 chữ hoa"),/[a-z]/.test(e)||t.push("Mật khẩu phải có ít nhất 1 chữ thường"),/\d/.test(e)||t.push("Mật khẩu phải có ít nhất 1 số"),/[!@#$%^&*(),.?":{}|<>]/.test(e)||t.push("Mật khẩu phải có ít nhất 1 ký tự đặc biệt"),{isValid:0===t.length,errors:t,strength:this.calculatePasswordStrength(e)}}calculatePasswordStrength(e){let t=0;return t+=Math.min(2*e.length,20),/[a-z]/.test(e)&&(t+=5),/[A-Z]/.test(e)&&(t+=5),/\d/.test(e)&&(t+=5),/[!@#$%^&*(),.?":{}|<>]/.test(e)&&(t+=10),/(.)\1{2,}/.test(e)&&(t-=10),/123|abc|qwe/i.test(e)&&(t-=10),t<30?"weak":t<60?"medium":t<80?"strong":"very-strong"}sanitizeInput(e){return"string"!=typeof e?e:e.replace(/[<>]/g,"").replace(/javascript:/gi,"").replace(/on\w+=/gi,"").trim()}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}checkLoginAttempts(e){const t=this.loginAttempts.get(e)||{count:0,lastAttempt:0},n=Date.now();if(n-t.lastAttempt>dn.LOCKOUT_DURATION&&(t.count=0),t.count>=dn.MAX_LOGIN_ATTEMPTS){const e=dn.LOCKOUT_DURATION-(n-t.lastAttempt);if(e>0)throw new Error(`Tài khoản bị khóa. Thử lại sau ${Math.ceil(e/6e4)} phút`)}return!0}recordFailedLogin(e){const t=this.loginAttempts.get(e)||{count:0,lastAttempt:0};t.count+=1,t.lastAttempt=Date.now(),this.loginAttempts.set(e,t),this.logSecurityEvent("failed_login",{identifier:e,attempts:t.count})}clearLoginAttempts(e){this.loginAttempts.delete(e)}generateSessionToken(){return cn.lib.WordArray.random(32).toString()}createSession(e,t){const n=this.generateSessionToken(),s={userId:e,userData:t,createdAt:Date.now(),lastActivity:Date.now(),ipAddress:this.getClientIP(),userAgent:navigator.userAgent};return this.sessionData.set(n,s),setTimeout(()=>{this.destroySession(n)},dn.SESSION_TIMEOUT),n}validateSession(e){const t=this.sessionData.get(e);if(!t)throw new Error("Invalid session");const n=Date.now();if(n-t.lastActivity>dn.SESSION_TIMEOUT)throw this.destroySession(e),new Error("Session expired");return t.lastActivity=n,this.sessionData.set(e,t),t}destroySession(e){this.sessionData.delete(e)}getClientIP(){return"client-ip-unknown"}setupSessionMonitoring(){window.addEventListener("storage",e=>{"security_event"===e.key&&this.handleSecurityEvent(JSON.parse(e.newValue))}),document.addEventListener("visibilitychange",()=>{document.hidden?this.logSecurityEvent("page_hidden"):this.logSecurityEvent("page_visible")})}setupSecurityHeaders(){}setupInputSanitization(){document.addEventListener("input",e=>{if("INPUT"===e.target.tagName&&"text"===e.target.type){const t=this.sanitizeInput(e.target.value);t!==e.target.value&&(e.target.value=t,this.logSecurityEvent("input_sanitized",{element:e.target.name}))}})}setupCSRFProtection(){this.csrfToken=this.generateSessionToken(),document.addEventListener("submit",e=>{if("FORM"===e.target.tagName){const t=document.createElement("input");t.type="hidden",t.name="_csrf",t.value=this.csrfToken,e.target.appendChild(t)}})}setupSecurityMonitoring(){let e=0,t=0;document.addEventListener("click",()=>{const n=Date.now();n-t<100?(e++,e>10&&this.logSecurityEvent("suspicious_clicking",{count:e})):e=0,t=n})}logSecurityEvent(e,t={}){const n={type:e,timestamp:(new Date).toISOString(),data:t,userAgent:navigator.userAgent,url:window.location.href};this.securityEvents.push(n),this.securityEvents.length>100&&this.securityEvents.shift(),localStorage.setItem("security_events",JSON.stringify(this.securityEvents.slice(-10)))}handleSecurityEvent(e){switch(e.type){case"multiple_sessions":this.handleMultipleSessions();break;case"suspicious_activity":this.handleSuspiciousActivity(e.data)}}handleMultipleSessions(){window.confirm("Phát hiện đăng nhập từ thiết bị khác. Bạn có muốn tiếp tục phiên làm việc này không?")||this.logout()}handleSuspiciousActivity(e){this.logSecurityEvent("security_alert",e)}logout(){this.sessionData.clear(),localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),sessionStorage.clear(),window.location.href="/login"}getSecurityReport(){return{loginAttempts:this.loginAttempts.size,activeSessions:this.sessionData.size,securityEvents:this.securityEvents.length,lastEvents:this.securityEvents.slice(-5),securityConfig:{sessionTimeout:dn.SESSION_TIMEOUT,maxLoginAttempts:dn.MAX_LOGIN_ATTEMPTS,passwordRequirements:{minLength:dn.PASSWORD_MIN_LENGTH,requireUppercase:dn.PASSWORD_REQUIRE_UPPERCASE,requireLowercase:dn.PASSWORD_REQUIRE_LOWERCASE,requireNumbers:dn.PASSWORD_REQUIRE_NUMBERS,requireSpecial:dn.PASSWORD_REQUIRE_SPECIAL}}}}},{Title:un,Text:mn}=u,xn=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState(!1),[a,i]=e.useState("7d"),r=[{title:"Doanh thu hôm nay",value:2575e4,prefix:"₫",trend:15.8,icon:t.jsx(me,{}),color:"#52c41a",bgGradient:"linear-gradient(135deg, #52c41a 0%, #73d13d 100%)",description:"Tăng 15.8% so với hôm qua"},{title:"Đơn hàng hôm nay",value:234,trend:12.3,icon:t.jsx(oe,{}),color:"#1890ff",bgGradient:"linear-gradient(135deg, #1890ff 0%, #40a9ff 100%)",description:"Tăng 12.3% so với hôm qua"},{title:"Khách hàng mới",value:47,trend:8.5,icon:t.jsx(de,{}),color:"#722ed1",bgGradient:"linear-gradient(135deg, #722ed1 0%, #9254de 100%)",description:"Tăng 8.5% so với hôm qua"},{title:"Sản phẩm bán chạy",value:89,trend:15.3,icon:t.jsx(le,{}),color:"#faad14",bgGradient:"linear-gradient(135deg, #faad14 0%, #ffc53d 100%)",description:"Tăng 15.3% so với hôm qua"},{title:"Nhân viên hoạt động",value:12,trend:0,icon:t.jsx(xe,{}),color:"#13c2c2",bgGradient:"linear-gradient(135deg, #13c2c2 0%, #36cfc9 100%)",description:"Đang làm việc"},{title:"Tỷ lệ hoàn thành",value:94.5,suffix:"%",trend:2.1,icon:t.jsx(pe,{}),color:"#eb2f96",bgGradient:"linear-gradient(135deg, #eb2f96 0%, #f759ab 100%)",description:"Tăng 2.1% so với tuần trước"}],l=[{type:"warning",message:'Sản phẩm "Laptop HP Pavilion" sắp hết hàng (còn 5 chiếc)',time:"5 phút trước"},{type:"info",message:"Đồng bộ dữ liệu Shopee hoàn tất - 23 sản phẩm được cập nhật",time:"15 phút trước"},{type:"error",message:"Lỗi kết nối máy in nhiệt - vui lòng kiểm tra",time:"30 phút trước"},{type:"success",message:"Backup dữ liệu hàng ngày hoàn tất thành công",time:"1 giờ trước"}];e.useEffect(()=>{f()},[a]);const f=async()=>{s(!0);try{await new Promise(e=>setTimeout(e,1e3))}catch(e){o.error({message:"Lỗi tải dữ liệu",description:"Không thể tải dữ liệu dashboard"})}finally{s(!1)}},b=e=>{switch(e){case"completed":return"success";case"processing":return"processing";case"pending":return"warning";default:return"default"}},S=e=>{switch(e){case"completed":return"Hoàn thành";case"processing":return"Đang xử lý";case"pending":return"Chờ xử lý";default:return e}},k=e=>{switch(e){case"warning":return t.jsx(ae,{style:{color:"#faad14"}});case"error":return t.jsx(te,{style:{color:"#ff4d4f"}});case"success":return t.jsx(ee,{style:{color:"#52c41a"}});default:return t.jsx(ge,{style:{color:"#1890ff"}})}};return t.jsxs("div",{style:{background:"#f5f5f5",minHeight:"100vh"},children:[t.jsx(c,{bordered:!1,style:{borderRadius:0,marginBottom:24,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:t.jsxs(d,{justify:"space-between",align:"middle",children:[t.jsx(h,{children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[t.jsx("div",{style:{width:48,height:48,borderRadius:"12px",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:t.jsx(J,{})}),t.jsxs("div",{children:[t.jsx(un,{level:1,style:{margin:0,color:"white",fontSize:"28px"},children:"Dashboard Quản trị"}),t.jsx(mn,{style:{color:"rgba(255,255,255,0.8)",fontSize:"16px"},children:"Tổng quan hoạt động kinh doanh và hiệu suất hệ thống"})]})]})}),t.jsx(h,{children:t.jsxs(m,{size:16,children:[t.jsxs(x,{defaultValue:"7d",value:a,onChange:i,style:{width:140},size:"large",children:[t.jsx(x.Option,{value:"1d",children:"Hôm nay"}),t.jsx(x.Option,{value:"7d",children:"7 ngày"}),t.jsx(x.Option,{value:"30d",children:"30 ngày"}),t.jsx(x.Option,{value:"90d",children:"90 ngày"})]}),t.jsx(p,{size:"large",icon:t.jsx(Z,{}),onClick:f,loading:n,style:{background:"rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.3)",color:"white"},children:"Làm mới"})]})})]})}),t.jsxs("div",{style:{padding:"0 24px 24px"},children:[t.jsx(d,{gutter:[24,24],style:{marginBottom:32},children:r.slice(0,4).map((e,n)=>t.jsx(h,{xs:24,sm:12,lg:6,children:t.jsxs(c,{style:{borderRadius:"16px",border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.08)",overflow:"hidden",position:"relative",transition:"all 0.3s ease",cursor:"pointer"},bodyStyle:{padding:"24px"},hoverable:!0,children:[t.jsxs("div",{style:{position:"relative",zIndex:2},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:16},children:[t.jsx("div",{style:{width:56,height:56,borderRadius:"16px",background:`${e.color}15`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",color:e.color},children:e.icon}),0!==e.trend&&t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",borderRadius:"20px",background:e.trend>0?"#f6ffed":"#fff2f0",border:"1px solid "+(e.trend>0?"#b7eb8f":"#ffb3b3")},children:[e.trend>0?t.jsx(ee,{style:{color:"#52c41a",fontSize:"14px"}}):t.jsx(te,{style:{color:"#ff4d4f",fontSize:"14px"}}),t.jsxs("span",{style:{color:e.trend>0?"#52c41a":"#ff4d4f",fontSize:"13px",fontWeight:600},children:[Math.abs(e.trend),"%"]})]})]}),t.jsx("div",{style:{marginBottom:12},children:t.jsxs(u.Title,{level:2,style:{margin:0,color:"#262626",fontSize:"32px",fontWeight:700,lineHeight:1},children:[e.prefix&&t.jsx("span",{style:{fontSize:"22px",opacity:.8},children:e.prefix}),e.value.toLocaleString(),e.suffix&&t.jsx("span",{style:{fontSize:"18px",opacity:.8},children:e.suffix})]})}),t.jsxs("div",{children:[t.jsx(u.Text,{style:{color:"#8c8c8c",fontSize:"15px",fontWeight:500,display:"block",marginBottom:6},children:e.title}),t.jsx(u.Text,{style:{color:e.trend>0?"#52c41a":"#595959",fontSize:"13px",fontWeight:500},children:e.description})]})]}),t.jsx("div",{style:{position:"absolute",top:-30,right:-30,width:100,height:100,borderRadius:"50%",background:`${e.color}08`,zIndex:1}})]})},e.title))}),t.jsxs(d,{gutter:[24,24],style:{marginBottom:24},children:[t.jsx(h,{xs:24,lg:16,children:t.jsx(c,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[t.jsx(se,{style:{color:"#1890ff",fontSize:"18px"}}),t.jsx("span",{style:{fontSize:"16px",fontWeight:600},children:"Biểu đồ doanh thu 7 ngày"})]}),extra:t.jsx(p,{size:"small",icon:t.jsx(ne,{}),type:"link",style:{color:"#1890ff",fontWeight:500},children:"Chi tiết"}),style:{borderRadius:"16px",border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:t.jsx("div",{style:{height:320,display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(zt,{data:[{name:"T2",revenue:12e6,orders:45,customers:23},{name:"T3",revenue:15e6,orders:52,customers:28},{name:"T4",revenue:18e6,orders:61,customers:35},{name:"T5",revenue:22e6,orders:73,customers:42},{name:"T6",revenue:25e6,orders:85,customers:48},{name:"T7",revenue:28e6,orders:92,customers:55},{name:"CN",revenue:32e6,orders:108,customers:67}],xField:"name",yField:"revenue",height:280,smooth:!0,areaStyle:{fill:"l(270) 0:#ffffff 0.5:#1890ff 1:#1890ff",fillOpacity:.3},line:{color:"#1890ff",size:3},point:{size:6,shape:"circle",style:{fill:"#1890ff",stroke:"#ffffff",lineWidth:3}},tooltip:{formatter:e=>({name:"Doanh thu",value:`${e.revenue.toLocaleString()} ₫`})},xAxis:{grid:{line:{style:{stroke:"#f0f0f0",lineWidth:1}}}},yAxis:{grid:{line:{style:{stroke:"#f0f0f0",lineWidth:1}}},label:{formatter:e=>`${(e/1e6).toFixed(0)}M`}}})})})}),t.jsx(h,{xs:24,lg:8,children:t.jsx(c,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[t.jsx(ae,{style:{color:"#faad14",fontSize:"18px"}}),t.jsx("span",{style:{fontSize:"16px",fontWeight:600},children:"Cảnh báo hệ thống"})]}),extra:t.jsx(j,{count:l.length,style:{backgroundColor:"#faad14"}}),style:{borderRadius:"16px",border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:t.jsx(g,{size:"small",dataSource:l,renderItem:e=>t.jsx(g.Item,{style:{padding:"12px 0",borderBottom:"1px solid #f0f0f0"},children:t.jsx(g.Item.Meta,{avatar:k(e.type),title:t.jsx(mn,{style:{fontSize:13,fontWeight:500,color:"#262626",lineHeight:1.4},children:e.message}),description:t.jsx(mn,{type:"secondary",style:{fontSize:12},children:e.time})})})})})})]}),t.jsxs(d,{gutter:[24,24],style:{marginBottom:24},children:[t.jsx(h,{xs:24,lg:12,children:t.jsx(c,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[t.jsx(le,{style:{color:"#faad14",fontSize:"18px"}}),t.jsx("span",{style:{fontSize:"16px",fontWeight:600},children:"Sản phẩm bán chạy"})]}),extra:t.jsx(p,{size:"small",icon:t.jsx(ne,{}),type:"link",style:{color:"#1890ff",fontWeight:500},children:"Xem tất cả"}),style:{borderRadius:"16px",border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:t.jsx(y,{dataSource:[{id:1,name:"Laptop Dell XPS 13",sold:45,revenue:675e5,trend:"up"},{id:2,name:"iPhone 15 Pro Max",sold:38,revenue:95e6,trend:"up"},{id:3,name:"Samsung Galaxy S24",sold:32,revenue:64e6,trend:"down"},{id:4,name:"MacBook Air M3",sold:28,revenue:84e6,trend:"up"},{id:5,name:"iPad Pro 12.9",sold:25,revenue:625e5,trend:"up"}],pagination:!1,size:"middle",showHeader:!0,columns:[{title:"Sản phẩm",dataIndex:"name",key:"name",render:(e,n,s)=>t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[t.jsx("div",{style:{width:32,height:32,borderRadius:"8px",background:0===s?"#faad14":1===s?"#1890ff":"#52c41a",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"12px"},children:s+1}),t.jsx(mn,{strong:!0,style:{fontSize:"14px"},children:e})]})},{title:"Đã bán",dataIndex:"sold",key:"sold",width:80,render:e=>t.jsx(mn,{style:{fontSize:"13px",fontWeight:500},children:e})},{title:"Doanh thu",dataIndex:"revenue",key:"revenue",width:100,render:e=>t.jsxs(mn,{style:{fontSize:"13px",fontWeight:500,color:"#52c41a"},children:[(e/1e6).toFixed(1),"M"]})},{title:"Xu hướng",dataIndex:"trend",key:"trend",width:80,render:e=>"up"===e?t.jsx(ie,{style:{color:"#52c41a",fontSize:"16px"}}):t.jsx(re,{style:{color:"#ff4d4f",fontSize:"16px"}})}]})})}),t.jsx(h,{xs:24,lg:12,children:t.jsx(c,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[t.jsx(oe,{style:{color:"#1890ff",fontSize:"18px"}}),t.jsx("span",{style:{fontSize:"16px",fontWeight:600},children:"Đơn hàng gần đây"})]}),extra:t.jsx(p,{size:"small",icon:t.jsx(ne,{}),type:"link",style:{color:"#1890ff",fontWeight:500},children:"Xem tất cả"}),style:{borderRadius:"16px",border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:t.jsx(y,{dataSource:[{id:"ORD001",customer:"Nguyễn Văn A",amount:25e5,status:"completed",time:"10:30"},{id:"ORD002",customer:"Trần Thị B",amount:18e5,status:"processing",time:"10:25"},{id:"ORD003",customer:"Lê Văn C",amount:32e5,status:"pending",time:"10:20"},{id:"ORD004",customer:"Phạm Thị D",amount:95e4,status:"completed",time:"10:15"},{id:"ORD005",customer:"Hoàng Văn E",amount:41e5,status:"completed",time:"10:10"}],pagination:!1,size:"middle",showHeader:!0,columns:[{title:"Mã đơn",dataIndex:"id",key:"id",width:90,render:e=>t.jsx(mn,{code:!0,style:{fontSize:12,fontWeight:600,background:"#f0f0f0",padding:"2px 6px",borderRadius:"4px"},children:e})},{title:"Khách hàng",dataIndex:"customer",key:"customer",render:e=>t.jsx(mn,{style:{fontSize:13,fontWeight:500},children:e})},{title:"Số tiền",dataIndex:"amount",key:"amount",width:90,render:e=>t.jsxs(mn,{style:{fontSize:13,fontWeight:600,color:"#52c41a"},children:[(e/1e3).toFixed(0),"K"]})},{title:"Trạng thái",dataIndex:"status",key:"status",width:110,render:e=>t.jsx(v,{color:b(e),style:{fontSize:11,fontWeight:500,borderRadius:"12px",padding:"2px 8px"},children:S(e)})}]})})})]}),t.jsx(c,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[t.jsx(ue,{style:{color:"#722ed1",fontSize:"18px"}}),t.jsx("span",{style:{fontSize:"16px",fontWeight:600},children:"Thao tác nhanh"})]}),style:{borderRadius:"16px",border:"none",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"},children:t.jsxs(d,{gutter:[16,16],children:[t.jsx(h,{xs:12,sm:6,md:6,lg:3,children:t.jsx(p,{type:"primary",block:!0,size:"large",icon:t.jsx(oe,{}),style:{height:"60px",borderRadius:"12px",fontSize:"14px",fontWeight:600,background:"linear-gradient(135deg, #1890ff 0%, #40a9ff 100%)",border:"none",boxShadow:"0 4px 12px rgba(24, 144, 255, 0.3)"},children:"Tạo đơn hàng"})}),t.jsx(h,{xs:12,sm:6,md:6,lg:3,children:t.jsx(p,{block:!0,size:"large",icon:t.jsx(ce,{}),style:{height:"60px",borderRadius:"12px",fontSize:"14px",fontWeight:600,background:"linear-gradient(135deg, #52c41a 0%, #73d13d 100%)",border:"none",color:"white",boxShadow:"0 4px 12px rgba(82, 196, 26, 0.3)"},children:"Thêm sản phẩm"})}),t.jsx(h,{xs:12,sm:6,md:6,lg:3,children:t.jsx(p,{block:!0,size:"large",icon:t.jsx(de,{}),style:{height:"60px",borderRadius:"12px",fontSize:"14px",fontWeight:600,background:"linear-gradient(135deg, #722ed1 0%, #9254de 100%)",border:"none",color:"white",boxShadow:"0 4px 12px rgba(114, 46, 209, 0.3)"},children:"Thêm khách hàng"})}),t.jsx(h,{xs:12,sm:6,md:6,lg:3,children:t.jsx(p,{block:!0,size:"large",icon:t.jsx(he,{}),style:{height:"60px",borderRadius:"12px",fontSize:"14px",fontWeight:600,background:"linear-gradient(135deg, #faad14 0%, #ffc53d 100%)",border:"none",color:"white",boxShadow:"0 4px 12px rgba(250, 173, 20, 0.3)"},children:"Cài đặt"})})]})})]})]})}},Symbol.toStringTag,{value:"Module"})),{Title:pn,Text:gn}=u,{RangePicker:jn}=f,{Option:yn}=x,{TabPane:vn}=k,fn=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState(!0),[a,i]=e.useState("month"),[r,l]=e.useState([Ht().subtract(30,"days"),Ht()]),[o,u]=e.useState({summary:{},revenueData:[],productCategoryData:[],topSellingProducts:[],paymentMethodData:[]});e.useEffect(()=>{s(!0),setTimeout(()=>{u({summary:{totalRevenue:75645e4,orderCount:245,avgOrderValue:3087551,revenueGrowth:12.5,orderCountGrowth:8.3,avgOrderValueGrowth:4.2},revenueData:g(),productCategoryData:[{category:"Laptop",revenue:3205e5,percentage:42.4},{category:"PC",revenue:15675e4,percentage:20.7},{category:"Màn hình",revenue:958e5,percentage:12.7},{category:"Linh kiện",revenue:752e5,percentage:9.9},{category:"Phụ kiện",revenue:682e5,percentage:9},{category:"Âm thanh",revenue:4e7,percentage:5.3}],topSellingProducts:j(),paymentMethodData:[{method:"Tiền mặt",value:45.2},{method:"Thẻ tín dụng",value:25.3},{method:"Chuyển khoản",value:15.8},{method:"Ví điện tử",value:13.7}]}),s(!1)},1500)},[a,r]);const g=()=>{const e=[],t=Ht().subtract(30,"days"),n=["Laptop","PC","Màn hình","Linh kiện","Phụ kiện","Âm thanh"];for(let s=0;s<30;s++){const a={date:t.clone().add(s,"days").format("YYYY-MM-DD"),revenue:Math.floor(3e7*Math.random())+1e7};n.forEach(e=>{a[e]=Math.floor(8e6*Math.random())+1e6}),e.push(a)}return e},j=()=>[{id:1,name:"Laptop Dell Inspiron 15",category:"Laptop",soldQuantity:32,revenue:48e7,growth:15.2},{id:2,name:'Màn hình Dell 24"',category:"Màn hình",soldQuantity:45,revenue:1575e5,growth:8.7},{id:3,name:"Chuột không dây Logitech",category:"Phụ kiện",soldQuantity:78,revenue:351e5,growth:22.5},{id:4,name:"Laptop Acer Nitro 5",category:"Laptop",soldQuantity:22,revenue:484e6,growth:-3.1},{id:5,name:"Ổ cứng SSD Samsung 1TB",category:"Linh kiện",soldQuantity:60,revenue:168e6,growth:12.4}],v={data:o.revenueData,xField:"date",yField:"revenue",seriesField:void 0,xAxis:{type:"time",tickCount:10},yAxis:{label:{formatter:e=>`${(e/1e6).toFixed(0)}tr`}},areaStyle:{fill:"l(270) 0:#ffffff 0.5:#7ec2f3 1:#1890ff"},smooth:!0,tooltip:{formatter:e=>({name:"Doanh thu",value:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.revenue)})}},f={data:o.productCategoryData,angleField:"revenue",colorField:"category",radius:.9,label:{type:"spider",content:"{name}\n{percentage}"},interactions:[{type:"element-active"}],tooltip:{formatter:e=>({name:e.category,value:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.revenue)})}};o.topSellingProducts.slice().sort((e,t)=>t.revenue-e.revenue);const C={data:o.paymentMethodData,angleField:"value",colorField:"method",radius:.8,label:{type:"outer",content:"{name} {percentage}"},interactions:[{type:"element-active"}]},I=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),T=[{title:"Sản phẩm",dataIndex:"name",key:"name"},{title:"Danh mục",dataIndex:"category",key:"category"},{title:"Số lượng bán",dataIndex:"soldQuantity",key:"soldQuantity",align:"right"},{title:"Doanh thu",dataIndex:"revenue",key:"revenue",align:"right",render:e=>I(e)},{title:"So với kỳ trước",dataIndex:"growth",key:"growth",align:"right",render:e=>t.jsxs("span",{style:{color:e>=0?"#52c41a":"#f5222d"},children:[e>=0?t.jsx(je,{}):t.jsx(ye,{})," ",Math.abs(e),"%"]})}];return t.jsxs("div",{className:"revenue-overview",children:[t.jsx(c,{bordered:!1,className:"header-card",children:t.jsxs(d,{justify:"space-between",align:"middle",gutter:[24,24],children:[t.jsxs(h,{xs:24,sm:12,children:[t.jsx(pn,{level:3,children:"Tổng quan doanh thu"}),t.jsx(gn,{type:"secondary",children:"Thống kê doanh thu và đơn hàng trong khoảng thời gian đã chọn"})]}),t.jsx(h,{xs:24,sm:12,children:t.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px",flexWrap:"wrap"},children:[t.jsxs(x,{style:{width:120},value:a,onChange:e=>{switch(i(e),e){case"week":l([Ht().subtract(7,"days"),Ht()]);break;case"month":default:l([Ht().subtract(30,"days"),Ht()]);break;case"quarter":l([Ht().subtract(90,"days"),Ht()]);break;case"year":l([Ht().subtract(365,"days"),Ht()])}},loading:n,children:[t.jsx(yn,{value:"week",children:"7 ngày qua"}),t.jsx(yn,{value:"month",children:"30 ngày qua"}),t.jsx(yn,{value:"quarter",children:"90 ngày qua"}),t.jsx(yn,{value:"year",children:"365 ngày qua"}),"custom"===a&&t.jsx(yn,{value:"custom",children:"Tùy chỉnh"})]}),t.jsx(jn,{value:r,onChange:e=>{e&&2===e.length&&(l(e),i("custom"))},format:"DD/MM/YYYY",allowClear:!1,disabled:n}),t.jsx(p,{icon:t.jsx(Z,{}),onClick:()=>s(!0),loading:n,children:"Làm mới"})]})})]})}),t.jsxs(d,{gutter:[24,24],style:{marginTop:"24px"},children:[t.jsx(h,{xs:24,sm:8,children:t.jsx(c,{bordered:!1,loading:n,children:t.jsx(b,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx(me,{}),t.jsx("span",{children:"Tổng doanh thu"})]}),value:o.summary.totalRevenue,precision:0,formatter:e=>I(e),suffix:t.jsxs("div",{style:{fontSize:"14px",color:o.summary.revenueGrowth>=0?"#52c41a":"#f5222d"},children:[o.summary.revenueGrowth>=0?t.jsx(je,{}):t.jsx(ye,{})," ",Math.abs(o.summary.revenueGrowth),"%"]})})})}),t.jsx(h,{xs:24,sm:8,children:t.jsx(c,{bordered:!1,loading:n,children:t.jsx(b,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx(oe,{}),t.jsx("span",{children:"Số đơn hàng"})]}),value:o.summary.orderCount,suffix:t.jsxs("div",{style:{fontSize:"14px",color:o.summary.orderCountGrowth>=0?"#52c41a":"#f5222d"},children:[o.summary.orderCountGrowth>=0?t.jsx(je,{}):t.jsx(ye,{})," ",Math.abs(o.summary.orderCountGrowth),"%"]})})})}),t.jsx(h,{xs:24,sm:8,children:t.jsx(c,{bordered:!1,loading:n,children:t.jsx(b,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx(ve,{}),t.jsx("span",{children:"Giá trị đơn hàng trung bình"})]}),value:o.summary.avgOrderValue,precision:0,formatter:e=>I(e),suffix:t.jsxs("div",{style:{fontSize:"14px",color:o.summary.avgOrderValueGrowth>=0?"#52c41a":"#f5222d"},children:[o.summary.avgOrderValueGrowth>=0?t.jsx(je,{}):t.jsx(ye,{})," ",Math.abs(o.summary.avgOrderValueGrowth),"%"]})})})})]}),t.jsx(d,{gutter:[24,24],style:{marginTop:"24px"},children:t.jsx(h,{xs:24,children:t.jsx(c,{title:t.jsxs("span",{children:[t.jsx(se,{})," Biểu đồ doanh thu theo thời gian"]}),bordered:!1,loading:n,extra:t.jsxs(m,{children:[t.jsx(S,{title:"Xuất báo cáo",children:t.jsx(p,{icon:t.jsx(fe,{})})}),t.jsx(S,{title:"Thông tin",children:t.jsx(p,{icon:t.jsx(be,{})})})]}),children:t.jsx(zt,{...v,height:300})})})}),t.jsxs(d,{gutter:[24,24],style:{marginTop:"24px"},children:[t.jsx(h,{xs:24,lg:16,children:t.jsx(c,{title:t.jsxs("span",{children:[t.jsx(ve,{})," Top sản phẩm bán chạy"]}),bordered:!1,loading:n,children:t.jsx(y,{dataSource:o.topSellingProducts,columns:T,rowKey:"id",pagination:!1,size:"middle"})})}),t.jsx(h,{xs:24,lg:8,children:t.jsxs(k,{defaultActiveKey:"categories",type:"card",children:[t.jsx(vn,{tab:t.jsxs("span",{children:[t.jsx(Se,{})," Theo danh mục"]}),children:t.jsx(c,{bordered:!1,loading:n,bodyStyle:{padding:"12px"},children:t.jsx(qt,{...f,height:300})})},"categories"),t.jsx(vn,{tab:t.jsxs("span",{children:[t.jsx(Se,{})," Thanh toán"]}),children:t.jsx(c,{bordered:!1,loading:n,bodyStyle:{padding:"12px"},children:t.jsx(qt,{...C,height:300})})},"payments")]})})]}),t.jsx(d,{gutter:[24,24],style:{marginTop:"24px"},children:t.jsx(h,{xs:24,children:t.jsx(w,{message:"Chú ý",description:"Số liệu thống kê được tổng hợp từ các giao dịch thực tế. Có thể có sự khác biệt nhỏ so với báo cáo tài chính chính thức do thời điểm ghi nhận doanh thu.",type:"info",showIcon:!0,closable:!0})})})]})}},Symbol.toStringTag,{value:"Module"})),{Title:bn,Text:Sn,Paragraph:kn}=u,{Option:wn}=x,{RangePicker:Cn}=f,{TabPane:In}=k,Tn=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState(!0),[a,i]=e.useState("month"),[r,l]=e.useState("key-metrics"),[o,u]=e.useState(!1),j=[{name:"T1",revenue:285e6,profit:54e6,orders:1250,customers:980,conversion:2.8},{name:"T2",revenue:31e7,profit:68e6,orders:1320,customers:1050,conversion:3.1},{name:"T3",revenue:342e6,profit:74e6,orders:1410,customers:1180,conversion:3.3},{name:"T4",revenue:305e6,profit:65e6,orders:1350,customers:1080,conversion:2.9},{name:"T5",revenue:368e6,profit:82e6,orders:1580,customers:1260,conversion:3.6},{name:"T6",revenue:402e6,profit:94e6,orders:1690,customers:1380,conversion:3.8}],f=[{category:"Điện thoại",revenue:186e6,profit:42e6,growth:12.5,margin:22.6,inventory:85},{category:"Laptop",revenue:142e6,profit:32e6,growth:8.2,margin:22.5,inventory:72},{category:"Phụ kiện",revenue:76e6,profit:24e6,growth:15.8,margin:31.6,inventory:64},{category:"Màn hình",revenue:45e6,profit:11e6,growth:5.3,margin:24.4,inventory:78},{category:"Linh kiện",revenue:38e6,profit:85e5,growth:-2.1,margin:22.4,inventory:92},{category:"Khác",revenue:24e6,profit:52e5,growth:3.2,margin:21.7,inventory:80}],S=[{title:"Doanh thu",value:402e6,prevValue:368e6,changePercent:9.2,changeType:"increase",format:"currency",icon:t.jsx(me,{style:{color:"#52c41a"}}),color:"#52c41a"},{title:"Lợi nhuận",value:94e6,prevValue:82e6,changePercent:14.6,changeType:"increase",format:"currency",icon:t.jsx(me,{style:{color:"#1890ff"}}),color:"#1890ff"},{title:"Đơn hàng",value:1690,prevValue:1580,changePercent:7,changeType:"increase",format:"number",icon:t.jsx(we,{style:{color:"#722ed1"}}),color:"#722ed1"},{title:"Biên lợi nhuận",value:23.4,prevValue:22.3,changePercent:4.9,changeType:"increase",format:"percent",icon:t.jsx(Ce,{style:{color:"#fa8c16"}}),color:"#fa8c16"}];e.useEffect(()=>{setTimeout(()=>{s(!1)},1e3)},[]);const T=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(e),P=e=>`${e.toFixed(1)}%`,D=e=>e>0?t.jsxs(v,{color:"green",children:[t.jsx(je,{})," ",e,"%"]}):e<0?t.jsxs(v,{color:"red",children:[t.jsx(ye,{})," ",Math.abs(e),"%"]}):t.jsx(v,{color:"gray",children:"0%"}),A=[{title:"Danh mục",dataIndex:"category",key:"category"},{title:"Doanh thu",dataIndex:"revenue",key:"revenue",render:e=>T(e),sorter:(e,t)=>e.revenue-t.revenue},{title:"Lợi nhuận",dataIndex:"profit",key:"profit",render:e=>T(e),sorter:(e,t)=>e.profit-t.profit},{title:"Tăng trưởng",dataIndex:"growth",key:"growth",render:e=>D(e),sorter:(e,t)=>e.growth-t.growth},{title:"Biên LN",dataIndex:"margin",key:"margin",render:e=>`${e.toFixed(1)}%`,sorter:(e,t)=>e.margin-t.margin},{title:"Tồn kho",dataIndex:"inventory",key:"inventory",render:e=>t.jsx(I,{percent:e,size:"small",status:e>85?"exception":e<30?"active":"normal",style:{width:80}})}],M=[{title:"Cửa hàng",dataIndex:"store",key:"store"},{title:"Doanh thu",dataIndex:"revenue",key:"revenue",render:e=>T(e),sorter:(e,t)=>e.revenue-t.revenue},{title:"Lợi nhuận",dataIndex:"profit",key:"profit",render:e=>T(e),sorter:(e,t)=>e.profit-t.profit},{title:"Tăng trưởng",dataIndex:"growth",key:"growth",render:e=>D(e),sorter:(e,t)=>e.growth-t.growth},{title:"Khách hàng",dataIndex:"customers",key:"customers",sorter:(e,t)=>e.customers-t.customers},{title:"Đơn TB",dataIndex:"avgOrder",key:"avgOrder",render:e=>T(e),sorter:(e,t)=>e.avgOrder-t.avgOrder}],R=[{title:"Kênh bán hàng",dataIndex:"channel",key:"channel"},{title:"Doanh thu",dataIndex:"revenue",key:"revenue",render:e=>T(e),sorter:(e,t)=>e.revenue-t.revenue},{title:"Lợi nhuận",dataIndex:"profit",key:"profit",render:e=>T(e),sorter:(e,t)=>e.profit-t.profit},{title:"Khách hàng",dataIndex:"customers",key:"customers",sorter:(e,t)=>e.customers-t.customers},{title:"Tỷ lệ chuyển đổi",dataIndex:"conversion",key:"conversion",render:e=>`${e}%`,sorter:(e,t)=>e.conversion-t.conversion},{title:"Chi phí thu hút KH",dataIndex:"cac",key:"cac",render:e=>T(e),sorter:(e,t)=>e.cac-t.cac}];return t.jsxs("div",{children:[t.jsx(bn,{level:2,children:"Chỉ số hiệu suất kinh doanh (KPIs)"}),t.jsx(c,{style:{marginBottom:16},children:t.jsxs(m,{children:[t.jsxs(x,{value:a,onChange:i,style:{width:150},children:[t.jsx(wn,{value:"week",children:"Tuần này"}),t.jsx(wn,{value:"month",children:"Tháng này"}),t.jsx(wn,{value:"quarter",children:"Quý này"}),t.jsx(wn,{value:"year",children:"Năm nay"})]}),t.jsx(Cn,{}),t.jsx(p,{type:"primary",icon:t.jsx(ke,{}),children:"Xuất báo cáo"}),t.jsx(p,{icon:t.jsx(Z,{}),onClick:()=>{s(!0),setTimeout(()=>s(!1),800)},children:"Làm mới"})]})}),t.jsx(d,{gutter:[16,16],style:{marginBottom:16},children:S.map((e,n)=>t.jsx(h,{xs:24,sm:12,md:6,children:t.jsxs(c,{children:[t.jsx(b,{title:e.title,value:e.value,precision:"currency"===e.format?0:"percent"===e.format?1:0,valueStyle:{color:e.color},prefix:e.icon,suffix:"percent"===e.format?"%":null,formatter:t=>"currency"===e.format?new Intl.NumberFormat("vi-VN").format(t):t}),t.jsx("div",{style:{marginTop:"8px"},children:t.jsxs(m,{children:["increase"===e.changeType?t.jsx(je,{style:{color:"#52c41a"}}):t.jsx(ye,{style:{color:"#ff4d4f"}}),t.jsxs(Sn,{style:{color:"increase"===e.changeType?"#52c41a":"#ff4d4f",fontSize:"12px"},children:[e.changePercent,"% so với tháng trước"]})]})})]})},n))}),t.jsxs(k,{activeKey:r,onChange:l,children:[t.jsxs(In,{tab:"Chỉ số chính",children:[t.jsx(c,{title:"Xu hướng hiệu suất kinh doanh",className:"card-with-chart",children:t.jsx(Yt,{width:"100%",height:350,children:t.jsxs(Gt,{data:j,margin:{top:20,right:30,left:20,bottom:5},children:[t.jsx(Ut,{strokeDasharray:"3 3"}),t.jsx(Wt,{dataKey:"name"}),t.jsx(Xt,{yAxisId:"revenue",orientation:"left"}),t.jsx(Xt,{yAxisId:"profit",orientation:"right"}),t.jsx(Qt,{formatter:(e,t)=>"revenue"===t||"profit"===t?[T(e),"revenue"===t?"Doanh thu":"Lợi nhuận"]:[e,"orders"===t?"Đơn hàng":"customers"===t?"Khách hàng":"Tỷ lệ chuyển đổi (%)"]}),t.jsx(Jt,{}),t.jsx(Zt,{yAxisId:"revenue",dataKey:"revenue",name:"Doanh thu",fill:"#1890ff"}),t.jsx(Zt,{yAxisId:"profit",dataKey:"profit",name:"Lợi nhuận",fill:"#52c41a"}),t.jsx(en,{yAxisId:"profit",type:"monotone",dataKey:"conversion",name:"Tỷ lệ chuyển đổi",stroke:"#f5222d"})]})})}),t.jsx(C,{}),t.jsxs(d,{gutter:[16,16],children:[t.jsx(h,{xs:24,md:12,children:t.jsx(c,{title:"Tỷ lệ chi phí và doanh thu",children:t.jsx(g,{size:"small",bordered:!0,dataSource:[{name:"Chi phí vận hành / Doanh thu",value:"18.5%",status:"normal"},{name:"Chi phí nhân sự / Doanh thu",value:"22.4%",status:"warning"},{name:"Chi phí marketing / Doanh thu",value:"8.2%",status:"success"},{name:"Chi phí hàng hóa / Doanh thu",value:"52.8%",status:"normal"},{name:"Chi phí khấu hao / Doanh thu",value:"4.8%",status:"success"}],renderItem:e=>t.jsx(g.Item,{actions:[t.jsx(v,{color:"success"===e.status?"green":"warning"===e.status?"orange":"blue",children:e.value})],children:t.jsx(g.Item.Meta,{title:e.name})})})})}),t.jsx(h,{xs:24,md:12,children:t.jsx(c,{title:"Hiệu quả đầu tư (ROI)",children:t.jsx(g,{size:"small",bordered:!0,dataSource:[{name:"ROI Marketing",value:"320%",status:"success"},{name:"ROI Đầu tư hàng hóa",value:"185%",status:"normal"},{name:"ROI Nhân sự bán hàng",value:"210%",status:"success"},{name:"ROI Kho vận",value:"145%",status:"warning"},{name:"ROI Tổng thể",value:"220%",status:"success"}],renderItem:e=>t.jsx(g.Item,{actions:[t.jsx(v,{color:"success"===e.status?"green":"warning"===e.status?"orange":"blue",children:e.value})],children:t.jsx(g.Item.Meta,{title:e.name})})})})})]})]},"key-metrics"),t.jsxs(In,{tab:"Hiệu suất sản phẩm",children:[t.jsx(c,{title:"Hiệu suất theo danh mục sản phẩm",className:"card-with-chart",children:t.jsx(Yt,{width:"100%",height:350,children:t.jsxs(tn,{data:f,margin:{top:20,right:30,left:20,bottom:5},children:[t.jsx(Ut,{strokeDasharray:"3 3"}),t.jsx(Wt,{dataKey:"category"}),t.jsx(Xt,{yAxisId:"revenue",orientation:"left"}),t.jsx(Xt,{yAxisId:"margin",orientation:"right"}),t.jsx(Qt,{formatter:(e,t)=>"revenue"===t||"profit"===t?[T(e),"revenue"===t?"Doanh thu":"Lợi nhuận"]:"margin"===t?[P(e),"Biên lợi nhuận"]:[e,t]}),t.jsx(Jt,{}),t.jsx(Zt,{yAxisId:"revenue",dataKey:"revenue",name:"Doanh thu",fill:"#1890ff"}),t.jsx(Zt,{yAxisId:"revenue",dataKey:"profit",name:"Lợi nhuận",fill:"#52c41a"}),t.jsx(en,{yAxisId:"margin",type:"monotone",dataKey:"margin",name:"Biên lợi nhuận",stroke:"#fa8c16"})]})})}),t.jsx(c,{title:"Chi tiết danh mục sản phẩm",style:{marginTop:16},children:t.jsx(y,{dataSource:f,columns:A,rowKey:"category",loading:n,pagination:!1})}),t.jsx(d,{gutter:[16,16],style:{marginTop:16},children:t.jsx(h,{span:24,children:t.jsx(w,{message:"Gợi ý tối ưu danh mục sản phẩm",description:t.jsxs("ul",{children:[t.jsxs("li",{children:["Danh mục ",t.jsx("strong",{children:"Phụ kiện"})," có biên lợi nhuận cao nhất (31.6%). Cân nhắc mở rộng danh mục này."]}),t.jsxs("li",{children:["Danh mục ",t.jsx("strong",{children:"Linh kiện"})," đang có tăng trưởng âm (-2.1%). Cần xem xét lại chiến lược tiếp thị."]}),t.jsxs("li",{children:["Tồn kho danh mục ",t.jsx("strong",{children:"Linh kiện"})," đang cao (92%). Cần có chương trình khuyến mãi để giảm tồn."]})]}),type:"info",showIcon:!0})})})]},"product-metrics"),t.jsxs(In,{tab:"Hiệu suất cửa hàng",children:[t.jsx(c,{title:"Chi tiết hiệu suất cửa hàng",children:t.jsx(y,{dataSource:[{store:"Cửa hàng Quận 1",revenue:125e6,profit:28e6,growth:8.5,customers:850,avgOrder:12e5},{store:"Cửa hàng Quận 3",revenue:98e6,profit:205e5,growth:5.2,customers:720,avgOrder:95e4},{store:"Cửa hàng Quận 7",revenue:105e6,profit:22e6,growth:10.8,customers:780,avgOrder:105e4},{store:"Cửa hàng Gò Vấp",revenue:86e6,profit:185e5,growth:-1.2,customers:650,avgOrder:88e4},{store:"Cửa hàng Thủ Đức",revenue:94e6,profit:198e5,growth:7.3,customers:710,avgOrder:92e4}],columns:M,rowKey:"store",loading:n,pagination:!1})}),t.jsx(d,{gutter:[16,16],style:{marginTop:16},children:t.jsx(h,{span:24,children:t.jsx(w,{message:"Gợi ý tối ưu hoạt động cửa hàng",description:t.jsxs("ul",{children:[t.jsxs("li",{children:["Cửa hàng ",t.jsx("strong",{children:"Quận 7"})," có tăng trưởng cao nhất (10.8%). Nghiên cứu và áp dụng các chiến lược thành công cho các cửa hàng khác."]}),t.jsxs("li",{children:["Cửa hàng ",t.jsx("strong",{children:"Gò Vấp"})," đang có tăng trưởng âm (-1.2%). Cần xem xét lại chiến lược vận hành và sản phẩm."]}),t.jsxs("li",{children:["Cửa hàng ",t.jsx("strong",{children:"Quận 1"})," có giá trị đơn hàng trung bình cao nhất. Tập trung vào upselling và cross-selling."]})]}),type:"info",showIcon:!0})})})]},"store-metrics"),t.jsxs(In,{tab:"Hiệu suất kênh bán hàng",children:[t.jsx(c,{title:"Chi tiết hiệu suất kênh bán hàng",children:t.jsx(y,{dataSource:[{channel:"Cửa hàng vật lý",revenue:21e7,profit:46e6,customers:1800,conversion:32.5,cac:85e3},{channel:"Website",revenue:124e6,profit:32e6,customers:2400,conversion:3.8,cac:12e4},{channel:"Ứng dụng di động",revenue:86e6,profit:22e6,customers:1500,conversion:4.2,cac:95e3},{channel:"Sàn TMĐT",revenue:145e6,profit:28e6,customers:2800,conversion:2.9,cac:135e3},{channel:"Đại lý",revenue:68e6,profit:15e6,customers:320,conversion:18.5,cac:65e3}],columns:R,rowKey:"channel",loading:n,pagination:!1})}),t.jsx(d,{gutter:[16,16],style:{marginTop:16},children:t.jsx(h,{span:24,children:t.jsx(w,{message:"Gợi ý tối ưu kênh bán hàng",description:t.jsxs("ul",{children:[t.jsxs("li",{children:["Kênh ",t.jsx("strong",{children:"Ứng dụng di động"})," có tỷ lệ chuyển đổi cao nhất (4.2%). Cân nhắc tăng đầu tư marketing cho kênh này."]}),t.jsxs("li",{children:["Kênh ",t.jsx("strong",{children:"Đại lý"})," có chi phí thu hút khách hàng thấp nhất. Đánh giá khả năng mở rộng kênh này."]}),t.jsxs("li",{children:["Kênh ",t.jsx("strong",{children:"Sàn TMĐT"})," có tỷ lệ chuyển đổi thấp (2.9%) với chi phí thu hút cao. Cần tối ưu hóa hiệu suất."]})]}),type:"info",showIcon:!0})})})]},"channel-metrics")]})]})}},Symbol.toStringTag,{value:"Module"})),{Title:Pn,Text:Dn}=u,{Option:An}=x,Mn=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const s=n(),[a,i]=e.useState(!0),[r,l]=e.useState([]),[o,u]=e.useState(""),[g,f]=e.useState([]),[S,k]=e.useState([]),[w,C]=e.useState("all"),[I,_]=e.useState("all"),[N,F]=e.useState("table"),[B,O]=e.useState("name"),[V,E]=e.useState("ascend"),[L,z]=e.useState(!1),[q,K]=e.useState(null),$=[{id:1,name:"Laptop Dell Inspiron 15",sku:"DELL-INS-15",category:"Laptop",price:15e6,stock:25,status:"active",image:"https://via.placeholder.com/150",description:"Laptop Dell Inspiron 15 với cấu hình mạnh mẽ",createdAt:"2023-01-15",updatedAt:"2023-06-20"},{id:2,name:'Màn hình Dell 24"',sku:"DELL-MON-24",category:"Màn hình",price:35e5,stock:42,status:"active",image:"https://via.placeholder.com/150",description:"Màn hình Dell 24 inch độ phân giải Full HD",createdAt:"2023-02-10",updatedAt:"2023-05-15"},{id:3,name:"Chuột không dây Logitech",sku:"LOG-MOUSE-01",category:"Phụ kiện",price:45e4,stock:78,status:"active",image:"https://via.placeholder.com/150",description:"Chuột không dây Logitech với độ chính xác cao",createdAt:"2023-03-05",updatedAt:"2023-04-20"},{id:4,name:"Bàn phím cơ AKKO",sku:"AKKO-KB-01",category:"Phụ kiện",price:12e5,stock:15,status:"active",image:"https://via.placeholder.com/150",description:"Bàn phím cơ AKKO với switch Cherry MX Blue",createdAt:"2023-01-25",updatedAt:"2023-03-10"},{id:5,name:"Laptop Acer Nitro 5",sku:"ACER-NIT-5",category:"Laptop",price:22e6,stock:0,status:"out_of_stock",image:"https://via.placeholder.com/150",description:"Laptop gaming Acer Nitro 5 với card đồ họa NVIDIA",createdAt:"2023-02-05",updatedAt:"2023-04-15"},{id:6,name:"Tai nghe Sony WH-1000XM4",sku:"SONY-WH-1000",category:"Âm thanh",price:55e5,stock:8,status:"low_stock",image:"https://via.placeholder.com/150",description:"Tai nghe chống ồn Sony WH-1000XM4 cao cấp",createdAt:"2023-03-15",updatedAt:"2023-05-20"},{id:7,name:"Máy tính để bàn HP Pavilion",sku:"HP-PAV-01",category:"PC",price:18e6,stock:12,status:"active",image:"https://via.placeholder.com/150",description:"Máy tính để bàn HP Pavilion cấu hình mạnh mẽ",createdAt:"2023-01-10",updatedAt:"2023-03-25"},{id:8,name:"Ổ cứng SSD Samsung 1TB",sku:"SAM-SSD-1TB",category:"Linh kiện",price:28e5,stock:35,status:"active",image:"https://via.placeholder.com/150",description:"Ổ cứng SSD Samsung 1TB tốc độ cao",createdAt:"2023-02-20",updatedAt:"2023-04-05"},{id:9,name:"RAM Kingston 16GB DDR4",sku:"KING-RAM-16",category:"Linh kiện",price:15e5,stock:0,status:"out_of_stock",image:"https://via.placeholder.com/150",description:"Bộ nhớ RAM Kingston 16GB DDR4 3200MHz",createdAt:"2023-03-10",updatedAt:"2023-05-05"},{id:10,name:"Card đồ họa NVIDIA RTX 3060",sku:"NV-RTX-3060",category:"Linh kiện",price:95e5,stock:5,status:"low_stock",image:"https://via.placeholder.com/150",description:"Card đồ họa NVIDIA RTX 3060 12GB GDDR6",createdAt:"2023-01-05",updatedAt:"2023-06-10"}];e.useEffect(()=>{setTimeout(()=>{l($),f($),i(!1)},1e3)},[]),e.useEffect(()=>{let e=[...r];o&&(e=e.filter(e=>e.name.toLowerCase().includes(o.toLowerCase())||e.sku.toLowerCase().includes(o.toLowerCase())||e.category.toLowerCase().includes(o.toLowerCase()))),"all"!==w&&(e=e.filter(e=>e.category===w)),"all"!==I&&(e=e.filter(e=>e.status===I)),f(e)},[o,w,I,r]);const H=[...new Set(r.map(e=>e.category))],Y={selectedRowKeys:S,onChange:e=>k(e)},G=e=>t.jsxs(T,{children:[t.jsx(T.Item,{icon:t.jsx(ne,{}),onClick:()=>s(`/admin/products/view/${e.id}`),children:"Chi tiết"},"view"),t.jsx(T.Item,{icon:t.jsx(_e,{}),onClick:()=>s(`/admin/products/edit/${e.id}`),children:"Chỉnh sửa"},"edit"),t.jsx(T.Divider,{}),t.jsx(T.Item,{icon:"active"===e.status?t.jsx(Ie,{}):t.jsx(ee,{}),onClick:()=>(e=>{const t="active"===e.status?"inactive":"active",n=r.map(n=>n.id===e.id?{...n,status:t}:n);l(n),f(n.filter(e=>"all"===w||e.category===w)),M.success(`Đã ${"active"===t?"kích hoạt":"vô hiệu hoá"} sản phẩm ${e.name}`)})(e),children:"active"===e.status?"Ngừng bán":"Kích hoạt"},"toggle"),t.jsx(T.Item,{icon:t.jsx(Te,{}),danger:!0,onClick:()=>(K(e),void z(!0)),children:"Xoá"},"delete")]}),U=[{title:"Sản phẩm",dataIndex:"name",key:"name",render:(e,n)=>t.jsxs(m,{children:[t.jsx(R,{shape:"square",size:40,src:n.image,alt:e}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:500},children:e}),t.jsx("div",{style:{fontSize:"12px",color:"#888"},children:n.sku})]})]}),sorter:(e,t)=>e.name.localeCompare(t.name)},{title:"Danh mục",dataIndex:"category",key:"category",render:e=>t.jsx(v,{color:"blue",children:e}),filters:H.map(e=>({text:e,value:e})),onFilter:(e,t)=>t.category===e},{title:"Giá",dataIndex:"price",key:"price",render:e=>t.jsx("span",{children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)}),sorter:(e,t)=>e.price-t.price},{title:"Tồn kho",dataIndex:"stock",key:"stock",render:(e,n)=>{let s="green";return 0===e?s="red":e<10&&(s="orange"),t.jsx("span",{style:{color:s},children:e})},sorter:(e,t)=>e.stock-t.stock},{title:"Trạng thái",dataIndex:"status",key:"status",render:e=>(e=>{switch(e){case"active":return t.jsx(j,{status:"success",text:"Đang bán"});case"out_of_stock":return t.jsx(j,{status:"error",text:"Hết hàng"});case"low_stock":return t.jsx(j,{status:"warning",text:"Sắp hết hàng"});case"inactive":return t.jsx(j,{status:"default",text:"Ngừng bán"});default:return t.jsx(j,{status:"processing",text:e})}})(e),filters:[{text:"Đang bán",value:"active"},{text:"Hết hàng",value:"out_of_stock"},{text:"Sắp hết hàng",value:"low_stock"},{text:"Ngừng bán",value:"inactive"}],onFilter:(e,t)=>t.status===e},{title:"Cập nhật lần cuối",dataIndex:"updatedAt",key:"updatedAt",render:e=>Ht(e).format("DD/MM/YYYY"),sorter:(e,t)=>Ht(e.updatedAt).unix()-Ht(t.updatedAt).unix(),responsive:["lg"]},{title:"Hành động",key:"action",render:(e,n)=>t.jsxs(m,{size:"small",children:[t.jsx(p,{type:"primary",size:"small",icon:t.jsx(_e,{}),onClick:()=>s(`/admin/products/edit/${n.id}`),children:"Sửa"}),t.jsx(D,{overlay:G(n),trigger:["click"],children:t.jsx(p,{size:"small",icon:t.jsx(Ne,{})})})]})}],W=e=>{if(0!==S.length)switch(e){case"delete":A.confirm({title:"Xác nhận xóa hàng loạt",content:`Bạn có chắc chắn muốn xóa ${S.length} sản phẩm đã chọn?`,okText:"Xóa",okType:"danger",cancelText:"Hủy",onOk:()=>{const e=r.filter(e=>!S.includes(e.id));l(e),f(g.filter(e=>!S.includes(e.id))),k([]),M.success(`Đã xóa ${S.length} sản phẩm`)}});break;case"active":const e=r.map(e=>S.includes(e.id)?{...e,status:"active"}:e);l(e),f(e),M.success(`Đã kích hoạt ${S.length} sản phẩm`);break;case"inactive":const t=r.map(e=>S.includes(e.id)?{...e,status:"inactive"}:e);l(t),f(t),M.success(`Đã vô hiệu hoá ${S.length} sản phẩm`)}else M.warning("Vui lòng chọn sản phẩm")},X=t.jsxs(T,{children:[t.jsx(T.Item,{icon:t.jsx(ee,{}),onClick:()=>W("active"),children:"Kích hoạt đã chọn"},"active"),t.jsx(T.Item,{icon:t.jsx(Ie,{}),onClick:()=>W("inactive"),children:"Vô hiệu hoá đã chọn"},"inactive"),t.jsx(T.Divider,{}),t.jsx(T.Item,{icon:t.jsx(Te,{}),danger:!0,onClick:()=>W("delete"),children:"Xoá đã chọn"},"delete")]});return t.jsxs("div",{className:"product-management",children:[t.jsxs(d,{gutter:[16,16],style:{marginBottom:16},children:[t.jsx(h,{xs:24,sm:12,md:6,children:t.jsx(c,{children:t.jsx(b,{title:"Tổng sản phẩm",value:r.length,prefix:t.jsx(we,{}),valueStyle:{color:"#1890ff"}})})}),t.jsx(h,{xs:24,sm:12,md:6,children:t.jsx(c,{children:t.jsx(b,{title:"Sản phẩm hết hàng",value:r.filter(e=>0===e.stock).length,prefix:t.jsx(ae,{}),valueStyle:{color:"#ff4d4f"}})})}),t.jsx(h,{xs:24,sm:12,md:6,children:t.jsx(c,{children:t.jsx(b,{title:"Sắp hết hàng",value:r.filter(e=>e.stock>0&&e.stock<10).length,prefix:t.jsx(te,{}),valueStyle:{color:"#faad14"}})})}),t.jsx(h,{xs:24,sm:12,md:6,children:t.jsx(c,{children:t.jsx(b,{title:"Tổng giá trị kho",value:r.reduce((e,t)=>e+t.price*t.stock,0),prefix:t.jsx(me,{}),valueStyle:{color:"#52c41a"},formatter:e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(e)})})})]}),t.jsx(c,{style:{marginBottom:16},children:t.jsxs(d,{gutter:[16,16],align:"middle",children:[t.jsx(h,{xs:24,sm:12,md:8,lg:6,children:t.jsx(P,{placeholder:"Tìm kiếm sản phẩm...",value:o,onChange:e=>{const t=e.target.value;u(t)},prefix:t.jsx(Pe,{}),allowClear:!0})}),t.jsx(h,{xs:24,sm:12,md:8,lg:6,children:t.jsxs(x,{placeholder:"Lọc theo danh mục",style:{width:"100%"},value:w,onChange:e=>{C(e)},children:[t.jsx(An,{value:"all",children:"Tất cả danh mục"}),H.map(e=>t.jsx(An,{value:e,children:e},e))]})}),t.jsx(h,{xs:24,sm:12,md:8,lg:6,children:t.jsxs(x,{placeholder:"Lọc theo trạng thái",style:{width:"100%"},value:I,onChange:e=>{_(e)},children:[t.jsx(An,{value:"all",children:"Tất cả trạng thái"}),t.jsx(An,{value:"active",children:"Đang bán"}),t.jsx(An,{value:"out_of_stock",children:"Hết hàng"}),t.jsx(An,{value:"low_stock",children:"Sắp hết hàng"}),t.jsx(An,{value:"inactive",children:"Ngừng bán"})]})}),t.jsx(h,{xs:24,sm:12,md:24,lg:6,style:{textAlign:"right"},children:t.jsxs(m,{wrap:!0,children:[t.jsx(p,{icon:t.jsx(De,{}),onClick:()=>{u(""),C("all"),_("all")},children:"Xoá bộ lọc"}),t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>s("/admin/products/new"),children:"Thêm sản phẩm mới"})]})})]})}),t.jsxs(c,{children:[t.jsxs("div",{style:{marginBottom:16},children:[t.jsxs(m,{wrap:!0,children:[t.jsx(D,{overlay:X,disabled:0===S.length,children:t.jsxs(p,{children:["Thao tác hàng loạt ",t.jsx(Me,{})]})}),t.jsx(p,{icon:t.jsx(Re,{}),children:"Nhập Excel"}),t.jsx(p,{icon:t.jsx(ke,{}),children:"Xuất Excel"})]}),t.jsx("span",{style:{marginLeft:8},children:S.length>0&&t.jsxs("span",{children:["Đã chọn ",S.length," sản phẩm"]})})]}),t.jsx(y,{rowSelection:Y,columns:U,dataSource:g,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showTotal:e=>`Tổng ${e} sản phẩm`},loading:a})]}),t.jsx(A,{title:"Xác nhận xoá",visible:L,onOk:()=>{if(q){const e=r.filter(e=>e.id!==q.id);l(e),f(g.filter(e=>e.id!==q.id)),M.success(`Đã xóa sản phẩm "${q.name}"`)}z(!1),K(null)},onCancel:()=>z(!1),okText:"Xoá",cancelText:"Huỷ",okButtonProps:{danger:!0},children:q&&t.jsxs("p",{children:['Bạn có chắc chắn muốn xoá sản phẩm "',q.name,'" không?']})})]})}},Symbol.toStringTag,{value:"Module"})),{Title:Rn,Text:_n}=u,{Option:Nn}=x,{TabPane:Fn}=k,Bn=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const a=n(),{id:i}=s(),[r]=_.useForm(),[l,o]=e.useState(!1),[u,g]=e.useState([]),[j,y]=e.useState(""),[v,f]=e.useState(!1),[b,S]=e.useState(!1),[w,I]=e.useState(null),T={1:{name:"Laptop Dell Inspiron 15",sku:"DELL-INS-15",barcode:"8935236745123",category:"Laptop",brand:"Dell",supplier:"Dell",price:15e6,cost:13e6,stock:25,status:"active",images:[{uid:"-1",name:"dell-inspiron-15.jpg",status:"done",url:"https://via.placeholder.com/300"}],description:"Laptop Dell Inspiron 15 với cấu hình mạnh mẽ",specifications:{cpu:"Intel Core i5-11300H",ram:"8GB DDR4",storage:"512GB SSD",display:'15.6" Full HD',graphics:"NVIDIA GeForce MX350 2GB",os:"Windows 11 Home",weight:"1.8 kg"},tax:10,warranty:12,featured:!0,notes:"Sản phẩm bán chạy",meta:{title:"Laptop Dell Inspiron 15 - Trường Phát Computer",description:"Laptop Dell Inspiron 15 với cấu hình mạnh mẽ, giá tốt tại Trường Phát Computer",keywords:"dell, inspiron, laptop, dell inspiron 15"}}};e.useEffect(()=>{i&&(S(!0),o(!0),setTimeout(()=>{const e=T[i];e?(I(e),r.setFieldsValue({...e,specifications:JSON.stringify(e.specifications,null,2),meta:{title:e.meta.title,description:e.meta.description,keywords:e.meta.keywords}}),g(e.images||[])):(M.error("Không tìm thấy sản phẩm"),a("/admin/products")),o(!1)},1e3))},[i,r,a]);const D=e=>new Promise((t,n)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=()=>t(s.result),s.onerror=e=>n(e)}),R=t.jsxs("div",{children:[t.jsx(Ae,{}),t.jsx("div",{style:{marginTop:8},children:"Tải lên"})]});return t.jsxs("div",{children:[t.jsxs(c,{children:[t.jsx("div",{style:{marginBottom:16},children:t.jsxs(d,{justify:"space-between",align:"middle",children:[t.jsx(h,{children:t.jsxs(m,{direction:"vertical",size:"small",children:[t.jsx(N,{items:[{title:t.jsx("a",{onClick:()=>a("/admin/products"),children:"Sản phẩm"})},{title:b?"Chỉnh sửa sản phẩm":"Thêm sản phẩm mới"}]}),t.jsx(Rn,{level:2,children:b?"Chỉnh sửa sản phẩm":"Thêm sản phẩm mới"}),t.jsx(_n,{type:"secondary",children:b?"Cập nhật thông tin sản phẩm":"Nhập thông tin chi tiết cho sản phẩm mới"})]})}),t.jsx(h,{children:t.jsxs(m,{children:[t.jsx(p,{icon:t.jsx(Fe,{}),onClick:()=>a("/admin/products"),children:"Quay lại"}),t.jsx(p,{type:"primary",icon:t.jsx(Be,{}),loading:l,onClick:()=>r.submit(),children:b?"Cập nhật":"Lưu sản phẩm"})]})})]})}),t.jsx(_,{form:r,layout:"vertical",onFinish:async e=>{o(!0);try{e.specifications&&JSON.parse(e.specifications);await new Promise(e=>setTimeout(e,1e3)),M.success(b?`Sản phẩm "${e.name}" đã được cập nhật`:`Sản phẩm "${e.name}" đã được tạo`),a("/admin/products")}catch(t){M.error("Có lỗi xảy ra khi lưu sản phẩm")}finally{o(!1)}},initialValues:{status:"active",featured:!1,tax:10,warranty:12},children:t.jsxs(k,{defaultActiveKey:"basic",children:[t.jsx(Fn,{tab:"Thông tin cơ bản",children:t.jsxs(d,{gutter:24,children:[t.jsxs(h,{span:16,children:[t.jsx(c,{title:"Thông tin sản phẩm",bordered:!1,children:t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:24,children:t.jsx(_.Item,{name:"name",label:"Tên sản phẩm",rules:[{required:!0,message:"Vui lòng nhập tên sản phẩm"}],children:t.jsx(P,{placeholder:"Nhập tên sản phẩm"})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"sku",label:"Mã SKU",rules:[{required:!0,message:"Vui lòng nhập mã SKU"}],children:t.jsx(P,{placeholder:"Nhập mã SKU"})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"barcode",label:"Mã vạch",children:t.jsx(P,{placeholder:"Nhập mã vạch"})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"category",label:"Danh mục",rules:[{required:!0,message:"Vui lòng chọn danh mục"}],children:t.jsx(x,{placeholder:"Chọn danh mục",showSearch:!0,allowClear:!0,dropdownRender:e=>t.jsxs(t.Fragment,{children:[e,t.jsx(C,{style:{margin:"8px 0"}}),t.jsx(p,{type:"text",icon:t.jsx(Ae,{}),block:!0,onClick:()=>M.info("Chức năng thêm danh mục đang được phát triển"),children:"Thêm danh mục mới"})]}),children:["Laptop","PC","Màn hình","Linh kiện","Phụ kiện","Âm thanh","Thiết bị mạng","Thiết bị văn phòng","Phần mềm"].map(e=>t.jsx(Nn,{value:e,children:e},e))})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"brand",label:"Thương hiệu",children:t.jsx(x,{placeholder:"Chọn thương hiệu",showSearch:!0,allowClear:!0,children:["Dell","HP","Asus","Acer","Lenovo","Apple","Samsung","LG","Sony","Logitech","Kingston","Corsair","Microsoft","Intel","AMD","NVIDIA"].map(e=>t.jsx(Nn,{value:e,children:e},e))})})}),t.jsx(h,{span:24,children:t.jsx(_.Item,{name:"description",label:"Mô tả",children:t.jsx(F,{rows:4,placeholder:"Nhập mô tả sản phẩm"})})})]})}),t.jsx(c,{title:"Thông tin giá",bordered:!1,style:{marginTop:16},children:t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"price",label:"Giá bán",rules:[{required:!0,message:"Vui lòng nhập giá bán"}],children:t.jsx(B,{style:{width:"100%"},formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>e.replace(/\$\s?|(,*)/g,""),placeholder:"Nhập giá bán",addonAfter:"VNĐ"})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"cost",label:"Giá nhập",children:t.jsx(B,{style:{width:"100%"},formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>e.replace(/\$\s?|(,*)/g,""),placeholder:"Nhập giá nhập",addonAfter:"VNĐ"})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"tax",label:"Thuế (%)",children:t.jsx(B,{style:{width:"100%"},min:0,max:100,placeholder:"Nhập % thuế",addonAfter:"%"})})})]})}),t.jsx(c,{title:"Thông tin kho hàng",bordered:!1,style:{marginTop:16},children:t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"stock",label:"Số lượng tồn kho",rules:[{required:!0,message:"Vui lòng nhập số lượng tồn kho"}],children:t.jsx(B,{style:{width:"100%"},min:0,placeholder:"Nhập số lượng"})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"supplier",label:"Nhà cung cấp",children:t.jsx(x,{placeholder:"Chọn nhà cung cấp",showSearch:!0,allowClear:!0,children:["Dell","HP","Asus","Acer","Lenovo","Apple","Samsung","LG","Sony","Logitech"].map(e=>t.jsx(Nn,{value:e,children:e},e))})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"warranty",label:"Bảo hành (tháng)",children:t.jsx(B,{style:{width:"100%"},min:0,placeholder:"Số tháng bảo hành"})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"status",label:"Trạng thái",children:t.jsxs(x,{placeholder:"Chọn trạng thái",children:[t.jsx(Nn,{value:"active",children:"Còn hàng"}),t.jsx(Nn,{value:"out_of_stock",children:"Hết hàng"}),t.jsx(Nn,{value:"low_stock",children:"Sắp hết"}),t.jsx(Nn,{value:"discontinued",children:"Ngừng kinh doanh"})]})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"featured",label:"Sản phẩm nổi bật",valuePropName:"checked",children:t.jsx(O,{})})})]})})]}),t.jsxs(h,{span:8,children:[t.jsxs(c,{title:"Hình ảnh sản phẩm",bordered:!1,children:[t.jsx(_.Item,{name:"images",label:"Hình ảnh",children:t.jsx(V,{listType:"picture-card",fileList:u,onPreview:async e=>{e.url||e.preview||(e.preview=await D(e.originFileObj)),y(e.url||e.preview),f(!0)},onChange:({fileList:e})=>{g(e)},beforeUpload:()=>!1,multiple:!0,children:u.length>=5?null:R})}),t.jsx(_n,{type:"secondary",children:"Tải lên tối đa 5 hình ảnh. Kích thước tối đa: 2MB mỗi ảnh."})]}),t.jsx(c,{title:"Ghi chú",bordered:!1,style:{marginTop:16},children:t.jsx(_.Item,{name:"notes",label:"Ghi chú nội bộ",children:t.jsx(F,{rows:4,placeholder:"Nhập ghi chú nội bộ về sản phẩm"})})})]})]})},"basic"),t.jsx(Fn,{tab:"Thông số kỹ thuật",children:t.jsx(c,{bordered:!1,children:t.jsx(_.Item,{name:"specifications",label:"Thông số kỹ thuật (JSON)",extra:"Nhập thông số kỹ thuật dưới dạng JSON",children:t.jsx(F,{rows:15,placeholder:'{\\n  "cpu": "Intel Core i5",\\n  "ram": "8GB DDR4",\\n  "storage": "512GB SSD"\\n}'})})})},"specifications"),t.jsx(Fn,{tab:"SEO & Meta",children:t.jsxs(c,{bordered:!1,children:[t.jsx(_.Item,{name:["meta","title"],label:"Meta Title",children:t.jsx(P,{placeholder:"Nhập tiêu đề SEO"})}),t.jsx(_.Item,{name:["meta","description"],label:"Meta Description",children:t.jsx(F,{rows:3,placeholder:"Nhập mô tả SEO"})}),t.jsx(_.Item,{name:["meta","keywords"],label:"Meta Keywords",children:t.jsx(P,{placeholder:"Nhập từ khóa SEO, cách nhau bởi dấu phẩy"})})]})},"seo")]})})]}),t.jsx(A,{open:v,title:"Xem trước hình ảnh",footer:null,onCancel:()=>f(!1),children:t.jsx("img",{alt:"Xem trước",style:{width:"100%"},src:j})})]})}},Symbol.toStringTag,{value:"Module"})),{Title:On,Text:Vn,Paragraph:En}=u,{TabPane:Ln}=k,{Option:zn}=x,{Dragger:qn}=V,{confirm:Kn}=A,$n=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const s=n(),[a,i]=e.useState([]),[r,l]=e.useState([]),[o,u]=e.useState(""),[g,j]=e.useState(0),[f,b]=e.useState([]),[T,D]=e.useState(!1),[R,N]=e.useState([]),[F]=_.useForm(),[O,V]=e.useState(!1),[E,L]=e.useState("upload"),z=[{title:"Sản phẩm",dataIndex:"name",key:"name"},{title:"SKU",dataIndex:"sku",key:"sku"},{title:"Danh mục",dataIndex:"category",key:"category",render:e=>t.jsx(v,{color:"blue",children:e})},{title:"Giá",dataIndex:"price",key:"price",render:e=>t.jsx("span",{children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)})},{title:"Tồn kho",dataIndex:"stock",key:"stock"},{title:"Trạng thái",dataIndex:"status",key:"status",render:e=>{let n,s;switch(e){case"active":n="green",s="Đang bán";break;case"out_of_stock":n="red",s="Hết hàng";break;case"inactive":n="default",s="Ngừng bán";break;default:n="default",s=e}return t.jsx(v,{color:n,children:s})}}],q=[{title:"Sản phẩm",dataIndex:"name",key:"name"},{title:"SKU",dataIndex:"sku",key:"sku"},{title:"Danh mục",dataIndex:"category",key:"category"},{title:"Giá",dataIndex:"price",key:"price"},{title:"Tồn kho",dataIndex:"stock",key:"stock"},{title:"Trạng thái",dataIndex:"status",key:"status"},{title:"Kết quả",dataIndex:"validationStatus",key:"validationStatus",render:(e,n)=>"success"===e?t.jsx(v,{icon:t.jsx(ee,{}),color:"success",children:"Hợp lệ"}):t.jsx(S,{title:n.errors.join(", "),children:t.jsx(v,{icon:t.jsx(Ie,{}),color:"error",children:"Lỗi"})})}],K={onChange:(e,t)=>{N(t)}};return t.jsx("div",{className:"bulk-operations",children:t.jsxs(c,{children:[t.jsx(On,{level:2,children:"Thao tác sản phẩm hàng loạt"}),t.jsx(En,{type:"secondary",children:"Quản lý nhiều sản phẩm cùng lúc: nhập khẩu, xuất khẩu, và chỉnh sửa hàng loạt."}),t.jsxs(k,{defaultActiveKey:"import",children:[t.jsx(Ln,{tab:t.jsxs("span",{children:[t.jsx(Ve,{})," Nhập hàng loạt"]}),children:t.jsxs(m,{direction:"vertical",style:{width:"100%"},children:["upload"===E&&t.jsxs(t.Fragment,{children:[t.jsx(w,{message:"Hướng dẫn nhập sản phẩm hàng loạt",description:t.jsxs("ol",{children:[t.jsx("li",{children:"Tải xuống file mẫu Excel hoặc CSV"}),t.jsx("li",{children:"Điền thông tin sản phẩm theo mẫu"}),t.jsx("li",{children:"Tải lên file đã điền thông tin"}),t.jsx("li",{children:"Kiểm tra và xác nhận nhập dữ liệu"})]}),type:"info",showIcon:!0}),t.jsx(p,{icon:t.jsx(fe,{}),onClick:()=>{M.success("Đang tải file mẫu nhập sản phẩm hàng loạt")},style:{marginBottom:16},children:"Tải file mẫu"}),t.jsxs(qn,{name:"file",multiple:!1,beforeUpload:e=>{u("uploading"),j(0);const t=setInterval(()=>{j(e=>{if(e>=100){clearInterval(t),u("done"),L("validate");const e=[{name:"Laptop HP Pavilion 15",sku:"HP-PAV-15",category:"Laptop",price:"13500000",stock:"10",status:"active",validationStatus:"success",errors:[]},{name:"Bàn phím Logitech G Pro",sku:"LOG-KB-PRO",category:"Phụ kiện",price:"2300000",stock:"15",status:"active",validationStatus:"success",errors:[]},{name:"Chuột Gaming MSI",sku:"",category:"Phụ kiện",price:"950000",stock:"20",status:"active",validationStatus:"error",errors:["SKU là trường bắt buộc"]},{name:"Màn hình Asus ROG",sku:"ASUS-MON-ROG",category:"Màn hình",price:"không phải số",stock:"8",status:"active",validationStatus:"error",errors:["Giá không hợp lệ"]},{name:"RAM Corsair 16GB",sku:"CORS-RAM-16",category:"Linh kiện",price:"1850000",stock:"-5",status:"active",validationStatus:"error",errors:["Số lượng tồn kho không được âm"]}];return i(e),b(e.filter(e=>"error"===e.validationStatus)),100}return e+10})},200);return!1},showUploadList:!1,accept:".xlsx,.xls,.csv",children:[t.jsx("p",{className:"ant-upload-drag-icon",children:t.jsx(Oe,{style:{fontSize:48,color:"#52c41a"}})}),t.jsx("p",{className:"ant-upload-text",children:"Nhấp hoặc kéo file vào khu vực này để tải lên"}),t.jsx("p",{className:"ant-upload-hint",children:"Hỗ trợ file Excel (.xlsx, .xls) hoặc CSV (.csv)"})]}),"uploading"===o&&t.jsx(I,{percent:g,status:"active"})]}),"validate"===E&&t.jsxs(t.Fragment,{children:[t.jsx(w,{message:`Đã tìm thấy ${a.length} sản phẩm trong file`,description:t.jsxs(t.Fragment,{children:[t.jsxs("p",{children:[t.jsx(ee,{style:{color:"#52c41a"}})," Hợp lệ: ",a.filter(e=>"success"===e.validationStatus).length," sản phẩm"]}),t.jsxs("p",{children:[t.jsx(Ie,{style:{color:"#ff4d4f"}})," Lỗi: ",f.length," sản phẩm"]})]}),type:"info",showIcon:!0}),t.jsx(y,{dataSource:a,columns:q,rowKey:"sku",pagination:{pageSize:5},style:{marginTop:16}}),t.jsxs(m,{style:{marginTop:16},children:[t.jsx(p,{onClick:()=>L("upload"),children:"Tải lại file khác"}),t.jsxs(p,{type:"primary",onClick:()=>{L("import"),j(0);const e=setInterval(()=>{j(t=>{if(t>=100){clearInterval(e);const t=a.filter(e=>"success"===e.validationStatus);return l(t),D(!0),M.success(`Đã nhập thành công ${t.length} sản phẩm`),100}return t+5})},100)},disabled:0===a.filter(e=>"success"===e.validationStatus).length,children:["Nhập ",a.filter(e=>"success"===e.validationStatus).length," sản phẩm hợp lệ"]})]})]}),"import"===E&&t.jsxs(t.Fragment,{children:[t.jsx(I,{percent:g,status:"active"}),T&&t.jsxs(t.Fragment,{children:[t.jsx(w,{message:"Nhập dữ liệu thành công",description:`Đã nhập thành công ${r.length} sản phẩm vào hệ thống`,type:"success",showIcon:!0,style:{marginTop:16,marginBottom:16}}),t.jsx(y,{dataSource:r,columns:q.slice(0,-1),rowKey:"sku",pagination:{pageSize:5}}),t.jsxs(m,{style:{marginTop:16},children:[t.jsx(p,{onClick:()=>L("upload"),children:"Nhập file khác"}),t.jsx(p,{type:"primary",onClick:()=>s("/admin/products"),children:"Xem tất cả sản phẩm"})]})]})]})]})},"import"),t.jsxs(Ln,{tab:t.jsxs("span",{children:[t.jsx(_e,{})," Chỉnh sửa hàng loạt"]}),children:[t.jsxs(m,{direction:"vertical",style:{width:"100%"},children:[t.jsx(w,{message:"Chỉnh sửa nhiều sản phẩm cùng lúc",description:"Chọn các sản phẩm bạn muốn chỉnh sửa, sau đó cập nhật thông tin cho tất cả sản phẩm đã chọn.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsx("div",{style:{marginBottom:16},children:t.jsxs(p,{type:"primary",onClick:()=>{0!==R.length?V(!0):M.warning("Vui lòng chọn ít nhất một sản phẩm để chỉnh sửa hàng loạt")},disabled:0===R.length,icon:t.jsx(_e,{}),children:["Chỉnh sửa ",R.length>0?R.length:""," sản phẩm đã chọn"]})}),t.jsx(y,{rowSelection:{type:"checkbox",...K},dataSource:[{key:"1",name:"Laptop Dell Inspiron 15",sku:"DELL-INS-15",category:"Laptop",price:15e6,stock:25,status:"active"},{key:"2",name:'Màn hình Dell 24"',sku:"DELL-MON-24",category:"Màn hình",price:35e5,stock:42,status:"active"},{key:"3",name:"Chuột không dây Logitech",sku:"LOG-MOUSE-01",category:"Phụ kiện",price:45e4,stock:78,status:"active"},{key:"4",name:"Bàn phím cơ AKKO",sku:"AKKO-KB-01",category:"Phụ kiện",price:12e5,stock:15,status:"active"},{key:"5",name:"Laptop Acer Nitro 5",sku:"ACER-NIT-5",category:"Laptop",price:22e6,stock:0,status:"out_of_stock"}],columns:z,rowKey:"key"})]}),t.jsxs(A,{title:`Chỉnh sửa hàng loạt (${R.length} sản phẩm)`,open:O,onCancel:()=>V(!1),footer:[t.jsx(p,{onClick:()=>V(!1),children:"Hủy"},"back"),t.jsx(p,{type:"primary",onClick:()=>F.submit(),children:"Cập nhật"},"submit")],width:700,children:[t.jsx(w,{message:"Lưu ý",description:"Chỉ các trường được điền thông tin mới được cập nhật cho các sản phẩm đã chọn.",type:"warning",showIcon:!0,style:{marginBottom:16}}),t.jsx(_,{form:F,layout:"vertical",onFinish:e=>{M.success(`Đã cập nhật ${R.length} sản phẩm`),V(!1),F.resetFields()},children:t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"category",label:"Danh mục",children:t.jsx(x,{placeholder:"Chọn danh mục mới",allowClear:!0,children:["Laptop","PC","Màn hình","Linh kiện","Phụ kiện","Âm thanh","Thiết bị mạng","Thiết bị văn phòng","Phần mềm"].map(e=>t.jsx(zn,{value:e,children:e},e))})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"status",label:"Trạng thái",children:t.jsxs(x,{placeholder:"Chọn trạng thái mới",allowClear:!0,children:[t.jsx(zn,{value:"active",children:"Đang bán"}),t.jsx(zn,{value:"inactive",children:"Ngừng bán"})]})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"supplier",label:"Nhà cung cấp",children:t.jsx(x,{placeholder:"Chọn nhà cung cấp",allowClear:!0,children:["Dell","HP","Asus","Acer","Lenovo","Apple","Samsung","LG"].map(e=>t.jsx(zn,{value:e,children:e},e))})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"tax",label:"Thuế (%)",children:t.jsx(B,{style:{width:"100%"},min:0,max:100,placeholder:"Nhập % thuế mới",addonAfter:"%"})})}),t.jsx(C,{}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"priceAdjustmentType",label:"Điều chỉnh giá",children:t.jsxs(x,{placeholder:"Chọn loại điều chỉnh",allowClear:!0,children:[t.jsx(zn,{value:"fixed",children:"Giá cố định"}),t.jsx(zn,{value:"increase_percentage",children:"Tăng theo %"}),t.jsx(zn,{value:"decrease_percentage",children:"Giảm theo %"}),t.jsx(zn,{value:"increase_amount",children:"Tăng theo giá trị"}),t.jsx(zn,{value:"decrease_amount",children:"Giảm theo giá trị"})]})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"priceAdjustmentValue",label:"Giá trị điều chỉnh",children:t.jsx(B,{style:{width:"100%"},placeholder:"Nhập giá trị"})})}),t.jsx(h,{span:24,children:t.jsx(_.Item,{name:"notes",label:"Ghi chú",children:t.jsx(P.TextArea,{rows:3,placeholder:"Ghi chú về sự thay đổi này"})})})]})})]})]},"bulkEdit"),t.jsx(Ln,{tab:t.jsxs("span",{children:[t.jsx(fe,{})," Xuất dữ liệu"]}),children:t.jsxs(m,{direction:"vertical",style:{width:"100%"},children:[t.jsx(w,{message:"Xuất dữ liệu sản phẩm",description:"Xuất dữ liệu sản phẩm sang Excel hoặc CSV để sử dụng với các phần mềm khác.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsx(c,{title:"Tùy chọn xuất dữ liệu",children:t.jsxs(_,{layout:"vertical",children:[t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{label:"Định dạng file",name:"exportFormat",initialValue:"excel",children:t.jsxs(x,{children:[t.jsx(zn,{value:"excel",children:"Excel (.xlsx)"}),t.jsx(zn,{value:"csv",children:"CSV (.csv)"})]})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{label:"Bao gồm",name:"exportInclude",initialValue:["all"],children:t.jsxs(x,{mode:"multiple",placeholder:"Chọn thông tin để xuất",children:[t.jsx(zn,{value:"all",children:"Tất cả thông tin"}),t.jsx(zn,{value:"basic",children:"Thông tin cơ bản"}),t.jsx(zn,{value:"price",children:"Thông tin giá"}),t.jsx(zn,{value:"inventory",children:"Thông tin kho hàng"}),t.jsx(zn,{value:"metadata",children:"Metadata"})]})})}),t.jsx(h,{span:24,children:t.jsx(_.Item,{label:"Lọc sản phẩm",name:"exportFilter",children:t.jsxs(x,{allowClear:!0,placeholder:"Xuất tất cả sản phẩm hoặc chọn bộ lọc",children:[t.jsx(zn,{value:"all",children:"Tất cả sản phẩm"}),t.jsx(zn,{value:"active",children:"Chỉ sản phẩm đang bán"}),t.jsx(zn,{value:"out_of_stock",children:"Chỉ sản phẩm hết hàng"}),t.jsx(zn,{value:"low_stock",children:"Chỉ sản phẩm sắp hết hàng"})]})})})]}),t.jsx(p,{type:"primary",icon:t.jsx(fe,{}),onClick:()=>M.success("Đang xuất dữ liệu sản phẩm"),children:"Xuất dữ liệu"})]})})]})},"export")]})]})})}},Symbol.toStringTag,{value:"Module"})),{Title:Hn,Text:Yn,Paragraph:Gn}=u,{TabPane:Un}=k,{Option:Wn}=x,{RangePicker:Xn}=f,Qn=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState(!0),[a,i]=e.useState([]),[r,l]=e.useState("competitive"),[o,u]=e.useState(30),[g,j]=e.useState([]),[f,I]=e.useState([]),[T,P]=e.useState(!1),D=[{key:"1",name:"Laptop Dell Inspiron 15",sku:"DELL-INS-15",category:"Laptop",currentPrice:15e6,cost:12e6,suggestedPrice:155e5,margin:20,suggestedMargin:22.58,competitivePrice:{min:145e5,max:16e6,avg:152e5},demand:"medium",sales:12,inventory:25},{key:"2",name:'Màn hình Dell 24"',sku:"DELL-MON-24",category:"Màn hình",currentPrice:35e5,cost:27e5,suggestedPrice:37e5,margin:22.86,suggestedMargin:27.03,competitivePrice:{min:32e5,max:38e5,avg:345e4},demand:"high",sales:35,inventory:42},{key:"3",name:"Chuột không dây Logitech",sku:"LOG-MOUSE-01",category:"Phụ kiện",currentPrice:45e4,cost:28e4,suggestedPrice:42e4,margin:37.78,suggestedMargin:33.33,competitivePrice:{min:4e5,max:55e4,avg:45e4},demand:"high",sales:56,inventory:78},{key:"4",name:"Bàn phím cơ AKKO",sku:"AKKO-KB-01",category:"Phụ kiện",currentPrice:12e5,cost:8e5,suggestedPrice:135e4,margin:33.33,suggestedMargin:40.74,competitivePrice:{min:11e5,max:145e4,avg:125e4},demand:"medium",sales:18,inventory:15},{key:"5",name:"Laptop Acer Nitro 5",sku:"ACER-NIT-5",category:"Laptop",currentPrice:22e6,cost:185e5,suggestedPrice:215e5,margin:15.91,suggestedMargin:13.95,competitivePrice:{min:2e7,max:225e5,avg:212e5},demand:"low",sales:5,inventory:8}];e.useEffect(()=>{setTimeout(()=>{i(D),M(D,r,o),s(!1)},1500)},[]);const M=(e,t,n)=>{s(!0),setTimeout(()=>{const a=e.map(e=>{let s;switch(t){case"competitive":s=Math.round(e.competitivePrice.avg*(.95+.1*Math.random()));break;case"margin":s=Math.round(e.cost/(1-n/100));break;case"demand":const t="high"===e.demand?1.1:"medium"===e.demand?1:.9;s=Math.round(e.currentPrice*t);break;case"inventory":const a=e.inventory<10?1.05:e.inventory>50?.95:1;s=Math.round(e.currentPrice*a);break;default:s=e.currentPrice}const a=((s-e.cost)/s*100).toFixed(2);return{...e,suggestedPrice:s,suggestedMargin:parseFloat(a),priceChange:s-e.currentPrice,priceChangePercent:((s-e.currentPrice)/e.currentPrice*100).toFixed(2)}});j(a),s(!1)},1e3)},R=[{title:"Sản phẩm",dataIndex:"name",key:"name",render:(e,n)=>t.jsxs("div",{children:[t.jsx("div",{children:e}),t.jsx(Yn,{type:"secondary",children:n.sku})]})},{title:"Danh mục",dataIndex:"category",key:"category",render:e=>t.jsx(v,{color:"blue",children:e}),filters:[...new Set(a.map(e=>e.category))].map(e=>({text:e,value:e})),onFilter:(e,t)=>t.category===e},{title:"Giá hiện tại",dataIndex:"currentPrice",key:"currentPrice",sorter:(e,t)=>e.currentPrice-t.currentPrice,render:e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)},{title:"Giá đề xuất",dataIndex:"suggestedPrice",key:"suggestedPrice",sorter:(e,t)=>e.suggestedPrice-t.suggestedPrice,render:e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)},{title:"Thay đổi",dataIndex:"priceChange",key:"priceChange",sorter:(e,t)=>e.priceChange-t.priceChange,render:(e,n)=>{const s=e>0?"#52c41a":e<0?"#f5222d":"",a=e>0?t.jsx(je,{}):e<0?t.jsx(ye,{}):null;return t.jsxs(m,{children:[t.jsxs("span",{style:{color:s},children:[a," ",new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)]}),t.jsxs("span",{style:{color:s},children:["(",n.priceChangePercent,"%)"]})]})}},{title:"Biên LN hiện tại",dataIndex:"margin",key:"margin",sorter:(e,t)=>e.margin-t.margin,render:e=>`${e}%`},{title:"Biên LN đề xuất",dataIndex:"suggestedMargin",key:"suggestedMargin",sorter:(e,t)=>e.suggestedMargin-t.suggestedMargin,render:(e,n)=>{const s=(e-n.margin).toFixed(2),a=s>0?"#52c41a":s<0?"#f5222d":"";return t.jsxs(m,{children:[t.jsxs("span",{children:[e,"%"]}),t.jsxs("span",{style:{color:a},children:["(",s>0?"+":"",s,"%)"]})]})}}],N={onChange:(e,t)=>{I(t)}},F=(()=>{if(!g.length)return{totalChange:0,averageMarginChange:0,productsIncreased:0,productsDecreased:0};return{totalChange:g.reduce((e,t)=>e+t.priceChange,0),averageMarginChange:g.reduce((e,t)=>e+(t.suggestedMargin-t.margin),0)/g.length,productsIncreased:g.filter(e=>e.priceChange>0).length,productsDecreased:g.filter(e=>e.priceChange<0).length}})();return t.jsxs("div",{className:"price-optimization",children:[t.jsxs(c,{children:[t.jsx(Hn,{level:2,children:"Tối ưu hóa giá sản phẩm"}),t.jsx(Gn,{type:"secondary",children:"Tối ưu hóa giá sản phẩm dựa trên nhiều yếu tố: chi phí, nhu cầu thị trường, giá cạnh tranh và tồn kho."}),t.jsxs(k,{defaultActiveKey:"optimization",children:[t.jsx(Un,{tab:t.jsxs("span",{children:[t.jsx(ze,{})," Tối ưu hóa giá"]}),children:t.jsxs(d,{gutter:[16,16],children:[t.jsx(h,{span:24,children:t.jsx(c,{title:"Chiến lược tối ưu hóa",children:t.jsxs(d,{gutter:16,children:[t.jsx(h,{xs:24,sm:12,lg:6,children:t.jsx(_.Item,{label:"Chiến lược giá",children:t.jsxs(x,{value:r,onChange:e=>{l(e),M(a,e,o)},style:{width:"100%"},children:[t.jsx(Wn,{value:"competitive",children:"Dựa trên giá cạnh tranh"}),t.jsx(Wn,{value:"margin",children:"Dựa trên biên lợi nhuận"}),t.jsx(Wn,{value:"demand",children:"Dựa trên nhu cầu thị trường"}),t.jsx(Wn,{value:"inventory",children:"Dựa trên tồn kho"})]})})}),"margin"===r&&t.jsx(h,{xs:24,sm:12,lg:6,children:t.jsx(_.Item,{label:t.jsxs("span",{children:["Mục tiêu biên lợi nhuận",t.jsx(S,{title:"Biên lợi nhuận mục tiêu (%) cho chiến lược giá",children:t.jsx(Ee,{style:{marginLeft:4}})})]}),children:t.jsx(E,{min:0,max:50,value:o,onChange:e=>{u(e),M(a,r,e)},marks:{0:"0%",10:"10%",20:"20%",30:"30%",40:"40%",50:"50%"}})})}),t.jsx(h,{xs:24,sm:12,lg:6,children:t.jsx(_.Item,{label:"Thời gian áp dụng",children:t.jsx(Xn,{style:{width:"100%"}})})}),t.jsx(h,{xs:24,sm:12,lg:6,children:t.jsx(_.Item,{label:"Hành động",children:t.jsx(p,{type:"primary",loading:n,onClick:()=>M(a,r,o),icon:t.jsx(Le,{}),style:{width:"100%"},children:"Chạy tối ưu hóa"})})})]})})}),t.jsx(h,{span:24,children:t.jsxs(d,{gutter:16,children:[t.jsx(h,{xs:24,sm:12,md:6,children:t.jsx(c,{children:t.jsx(b,{title:"Tổng thay đổi",value:F.totalChange,precision:0,valueStyle:{color:F.totalChange>=0?"#3f8600":"#cf1322"},prefix:F.totalChange>=0?t.jsx(je,{}):t.jsx(ye,{}),suffix:"VND",formatter:e=>new Intl.NumberFormat("vi-VN").format(e)})})}),t.jsx(h,{xs:24,sm:12,md:6,children:t.jsx(c,{children:t.jsx(b,{title:"Thay đổi biên LN trung bình",value:F.averageMarginChange,precision:2,valueStyle:{color:F.averageMarginChange>=0?"#3f8600":"#cf1322"},prefix:F.averageMarginChange>=0?t.jsx(je,{}):t.jsx(ye,{}),suffix:"%"})})}),t.jsx(h,{xs:24,sm:12,md:6,children:t.jsx(c,{children:t.jsx(b,{title:"Sản phẩm tăng giá",value:F.productsIncreased,valueStyle:{color:"#3f8600"},prefix:t.jsx(je,{}),suffix:`/${g.length}`})})}),t.jsx(h,{xs:24,sm:12,md:6,children:t.jsx(c,{children:t.jsx(b,{title:"Sản phẩm giảm giá",value:F.productsDecreased,valueStyle:{color:"#cf1322"},prefix:t.jsx(ye,{}),suffix:`/${g.length}`})})})]})}),t.jsx(h,{span:24,children:t.jsxs(c,{title:"Kết quả tối ưu hóa giá",children:[t.jsx("div",{style:{marginBottom:16},children:t.jsx(m,{children:t.jsxs(p,{type:"primary",disabled:0===f.length,onClick:()=>P(!0),children:["Áp dụng giá đã chọn (",f.length,")"]})})}),t.jsx(y,{rowSelection:{type:"checkbox",...N},columns:R,dataSource:g,loading:n,pagination:{pageSize:5},rowKey:"key"})]})})]})},"optimization"),t.jsxs(Un,{tab:t.jsxs("span",{children:[t.jsx(se,{})," Phân tích giá"]}),children:[t.jsx(w,{message:"Phân tích giá",description:"Công cụ phân tích giá cả thị trường và xu hướng giá đang được phát triển.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsxs(c,{title:"Phân tích giá cả thị trường",children:[t.jsx(Gn,{children:"Tính năng này sẽ hiển thị:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"So sánh giá của bạn với đối thủ cạnh tranh"}),t.jsx("li",{children:"Xu hướng giá theo thời gian"}),t.jsx("li",{children:"Phân tích độ nhạy cảm giá"}),t.jsx("li",{children:"Phân tích tác động của giá đến doanh số"})]})]})]},"analysis")]})]}),t.jsxs(A,{title:"Xác nhận thay đổi giá",open:T,onOk:()=>{0!==f.length&&(s(!0),setTimeout(()=>{i(e=>e.map(e=>{const t=g.find(t=>t.key===e.key);return f.some(t=>t.key===e.key)&&t?{...e,currentPrice:t.suggestedPrice,margin:t.suggestedMargin}:e})),s(!1),P(!1),I([]),M(a,r,o)},1e3))},onCancel:()=>P(!1),okText:"Áp dụng",cancelText:"Hủy",children:[t.jsxs("p",{children:["Bạn có chắc chắn muốn áp dụng giá mới cho ",f.length," sản phẩm đã chọn?"]}),f.length>0&&t.jsxs(t.Fragment,{children:[t.jsx(C,{}),t.jsx("div",{children:f.map(e=>{const n=g.find(t=>t.key===e.key);if(!n)return null;const s=n.priceChange,a=s>0?"#52c41a":s<0?"#f5222d":"",i=s>0?t.jsx(je,{}):s<0?t.jsx(ye,{}):null;return t.jsxs("div",{style:{marginBottom:8},children:[t.jsx(Yn,{strong:!0,children:e.name}),t.jsx("div",{children:t.jsxs(Yn,{type:"secondary",children:[new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e.currentPrice)," → ",t.jsxs("span",{style:{color:a},children:[new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(n.suggestedPrice)," ",i," ",n.priceChangePercent,"%"]})]})})]},e.key)})})]})]})]})}},Symbol.toStringTag,{value:"Module"})),{Title:Jn,Text:Zn,Link:es}=u,{Search:ts}=P,{Option:ns}=x,{TabPane:ss}=k,as=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const s=n(),[a,i]=e.useState(!0),[r,l]=e.useState([]),[o,u]=e.useState({}),[g,f]=e.useState(""),[k,w]=e.useState([]),[C,T]=e.useState("all"),[P,D]=e.useState("all"),[A,M]=e.useState([]),[R,_]=e.useState([]),[N,F]=e.useState([]);e.useEffect(()=>{i(!0),setTimeout(()=>{const e=B();l(e),w(e),u(O(e)),M(V(e)),_(e.filter(e=>e.stock<=e.lowStockThreshold).slice(0,5)),F(E()),i(!1)},1500)},[]);const B=()=>[{name:"Laptop Dell XPS 13",category:"Laptop",price:285e5,cost:24e6},{name:"Laptop Macbook Air M2",category:"Laptop",price:279e5,cost:235e5},{name:"PC Gaming Core i7",category:"PC",price:25e6,cost:21e6},{name:"PC Văn phòng",category:"PC",price:12e6,cost:95e5},{name:'Màn hình Dell 27"',category:"Màn hình",price:55e5,cost:43e5},{name:"Màn hình LG Ultrawide",category:"Màn hình",price:89e5,cost:7e6},{name:"RAM Kingston 16GB",category:"Linh kiện",price:15e5,cost:12e5},{name:"SSD Samsung 1TB",category:"Linh kiện",price:25e5,cost:19e5},{name:"Chuột Logitech MX Master",category:"Phụ kiện",price:18e5,cost:14e5},{name:"Bàn phím cơ Keychron",category:"Phụ kiện",price:22e5,cost:17e5},{name:"Tai nghe Sony WH-1000XM4",category:"Âm thanh",price:58e5,cost:45e5},{name:"Loa JBL Flip 6",category:"Âm thanh",price:25e5,cost:18e5},{name:"Card đồ họa RTX 4060",category:"Linh kiện",price:85e5,cost:72e5},{name:"Bộ tản nhiệt CPU",category:"Linh kiện",price:12e5,cost:85e4},{name:"Tay cầm Xbox Series",category:"Gaming",price:15e5,cost:115e4}].map((e,t)=>{const n=Math.floor(50*Math.random()),s=Math.floor(5*Math.random())+3,a=Math.floor(20*Math.random())+15;return{id:t+1,sku:`SKU-${100+t}`,name:e.name,category:e.category,stock:n,reserved:Math.floor(5*Math.random()),lowStockThreshold:s,optimalStock:a,price:e.price,cost:e.cost,value:n*e.cost,status:n<=0?"out_of_stock":n<=s?"low_stock":"in_stock",lastUpdated:Ht().subtract(Math.floor(30*Math.random()),"days").format("YYYY-MM-DD"),location:`Kệ ${String.fromCharCode(65+Math.floor(6*Math.random()))}-${Math.floor(20*Math.random())+1}`,incoming:Math.random()>.7?Math.floor(10*Math.random())+1:0}}),O=e=>{const t=e.reduce((e,t)=>e+t.stock,0),n=e.reduce((e,t)=>e+t.value,0),s=e.filter(e=>"low_stock"===e.status).length,a=e.filter(e=>"out_of_stock"===e.status).length,i=e.filter(e=>"in_stock"===e.status).length;return{totalProducts:e.length,totalItems:t,totalValue:n,lowStockCount:s,outOfStockCount:a,inStockCount:i,averageValue:n/t}},V=e=>[...new Set(e.map(e=>e.category))].map(t=>{const n=e.filter(e=>e.category===t),s=n.reduce((e,t)=>e+t.stock,0),a=n.reduce((e,t)=>e+t.value,0);return{category:t,items:n.length,stock:s,value:a}}).sort((e,t)=>t.value-e.value),E=()=>[{id:1,name:"Laptop Dell XPS 13",category:"Laptop",sold:24,restocked:15,turnoverRate:2.4},{id:2,name:"Chuột Logitech MX Master",category:"Phụ kiện",sold:42,restocked:50,turnoverRate:3.8},{id:3,name:"RAM Kingston 16GB",category:"Linh kiện",sold:36,restocked:40,turnoverRate:3.2},{id:4,name:"Tai nghe Sony WH-1000XM4",category:"Âm thanh",sold:18,restocked:20,turnoverRate:2.2},{id:5,name:"SSD Samsung 1TB",category:"Linh kiện",sold:32,restocked:30,turnoverRate:3}];e.useEffect(()=>{let e=[...r];g&&(e=e.filter(e=>e.name.toLowerCase().includes(g.toLowerCase())||e.sku.toLowerCase().includes(g.toLowerCase())||e.category.toLowerCase().includes(g.toLowerCase()))),"all"!==C&&(e=e.filter(e=>e.category===C)),"all"!==P&&(e=e.filter(e=>e.status===P)),w(e)},[g,C,P,r]);const z=[...new Set(r.map(e=>e.category))],q=[{title:"Sản phẩm",dataIndex:"name",key:"name",render:(e,n)=>t.jsx(es,{onClick:()=>s(`/admin/inventory/product/${n.id}`),children:e})},{title:"SKU",dataIndex:"sku",key:"sku"},{title:"Danh mục",dataIndex:"category",key:"category",render:e=>t.jsx(v,{children:e})},{title:"Tồn kho",dataIndex:"stock",key:"stock",sorter:(e,t)=>e.stock-t.stock,render:(e,n)=>{let s;return s="out_of_stock"===n.status?"#ff4d4f":"low_stock"===n.status?"#faad14":"#52c41a",t.jsxs("div",{children:[t.jsx(j,{color:s,text:e}),n.incoming>0&&t.jsx(S,{title:`${n.incoming} sắp về`,children:t.jsxs(v,{color:"blue",style:{marginLeft:8},children:["+",n.incoming]})})]})}},{title:"Trạng thái",dataIndex:"status",key:"status",render:e=>{let n,s,a;switch(e){case"in_stock":n="success",s="Còn hàng",a=t.jsx(ee,{});break;case"low_stock":n="warning",s="Sắp hết",a=t.jsx(te,{});break;case"out_of_stock":n="error",s="Hết hàng",a=t.jsx(Ie,{});break;default:n="default",s=e,a=null}return t.jsx(v,{color:n,icon:a,children:s})}},{title:"Tối ưu",key:"stockLevel",dataIndex:"stock",render:(e,n)=>{const s=Math.min(100,Math.round(n.stock/n.optimalStock*100));let a;return a=s<=20?"#ff4d4f":s<=60?"#faad14":"#52c41a",t.jsx(S,{title:`${n.stock}/${n.optimalStock} (${s}%)`,children:t.jsx(I,{percent:s,size:"small",strokeColor:a})})}},{title:"Giá trị",dataIndex:"value",key:"value",sorter:(e,t)=>e.value-t.value,render:e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)},{title:"Vị trí",dataIndex:"location",key:"location"},{title:"Cập nhật",dataIndex:"lastUpdated",key:"lastUpdated",render:e=>Ht(e).format("DD/MM/YYYY")},{title:"Thao tác",key:"action",render:(e,n)=>t.jsxs(m,{size:"small",children:[t.jsx(S,{title:"Chỉnh sửa",children:t.jsx(p,{type:"text",size:"small",icon:t.jsx(_e,{}),onClick:()=>s(`/admin/inventory/edit/${n.id}`)})}),t.jsx(S,{title:"Cập nhật tồn kho",children:t.jsx(p,{type:"text",size:"small",icon:t.jsx(qe,{}),onClick:()=>{}})})]})}],K={data:A,xField:"category",yField:"stock",label:{position:"middle",style:{fill:"#FFFFFF",opacity:.6}},meta:{category:{alias:"Danh mục"},stock:{alias:"Tồn kho"}},color:"#1890ff"},$={data:A,angleField:"value",colorField:"category",radius:.8,label:{type:"spider",content:"{name}\n{percentage}",style:{fontSize:12}},interactions:[{type:"element-active"}],tooltip:{formatter:e=>({name:e.category,value:H(e.value)})}},H=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),Y=[{title:"Sản phẩm",dataIndex:"name",key:"name"},{title:"Danh mục",dataIndex:"category",key:"category",render:e=>t.jsx(v,{children:e})},{title:"Đã bán",dataIndex:"sold",key:"sold",align:"right"},{title:"Nhập mới",dataIndex:"restocked",key:"restocked",align:"right"},{title:"Tỉ lệ luân chuyển",dataIndex:"turnoverRate",key:"turnoverRate",align:"right",render:e=>t.jsx(v,{color:"blue",children:e})}];return t.jsxs("div",{className:"inventory-dashboard",children:[t.jsx(c,{bordered:!1,className:"header-card",children:t.jsxs(d,{justify:"space-between",align:"middle",gutter:[24,24],children:[t.jsxs(h,{xs:24,sm:12,children:[t.jsx(Jn,{level:3,children:"Quản lý kho hàng"}),t.jsx(Zn,{type:"secondary",children:"Theo dõi tồn kho và quản lý sản phẩm trong kho"})]}),t.jsx(h,{xs:24,sm:12,children:t.jsxs(m,{wrap:!0,style:{width:"100%",justifyContent:"flex-end"},children:[t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>s("/admin/inventory/add"),children:"Nhập hàng"}),t.jsx(p,{icon:t.jsx(ke,{}),children:"Xuất hàng"}),t.jsx(p,{icon:t.jsx(Oe,{}),children:"Xuất Excel"}),t.jsx(p,{icon:t.jsx(Le,{}),loading:a,onClick:()=>i(!0),children:"Làm mới"})]})})]})}),t.jsxs(d,{gutter:[24,24],style:{marginTop:"24px"},children:[t.jsx(h,{xs:24,sm:8,children:t.jsx(c,{bordered:!1,loading:a,children:t.jsx(b,{title:t.jsxs("div",{children:[t.jsx(ce,{})," Tổng sản phẩm"]}),value:o.totalProducts,suffix:t.jsxs("div",{style:{fontSize:"14px"},children:[o.totalItems," đơn vị"]})})})}),t.jsx(h,{xs:24,sm:8,children:t.jsx(c,{bordered:!1,loading:a,children:t.jsx(b,{title:t.jsxs("div",{children:[t.jsx(we,{})," Trạng thái kho"]}),value:o.inStockCount,suffix:t.jsxs("div",{style:{fontSize:"14px"},children:[t.jsx(j,{status:"success",text:`${o.inStockCount} còn hàng`}),t.jsx("br",{}),t.jsx(j,{status:"warning",text:`${o.lowStockCount} sắp hết`}),t.jsx("br",{}),t.jsx(j,{status:"error",text:`${o.outOfStockCount} hết hàng`})]})})})}),t.jsx(h,{xs:24,sm:8,children:t.jsx(c,{bordered:!1,loading:a,children:t.jsx(b,{title:t.jsxs("div",{children:[t.jsx(ie,{})," Giá trị tồn kho"]}),value:o.totalValue,precision:0,formatter:e=>H(e)})})})]}),t.jsx(d,{gutter:[24,24],style:{marginTop:"24px"},children:t.jsx(h,{xs:24,children:t.jsx(c,{title:t.jsxs("span",{children:[t.jsx(ae,{})," Cảnh báo tồn kho"]}),bordered:!1,loading:a,children:R.length>0?t.jsxs(d,{gutter:[16,16],children:[R.map(e=>t.jsx(h,{xs:24,sm:12,md:8,lg:6,children:t.jsx(c,{size:"small",className:"warning-card",children:t.jsxs("div",{className:"warning-card-content",children:[t.jsxs("div",{children:[t.jsx(Zn,{strong:!0,children:e.name}),t.jsx("br",{}),t.jsx(Zn,{type:"secondary",children:e.category})]}),t.jsxs("div",{children:[t.jsxs(v,{color:"out_of_stock"===e.status?"error":"warning",children:[e.stock," / ",e.lowStockThreshold]}),t.jsx("div",{style:{marginTop:8},children:t.jsx(p,{size:"small",type:"primary",children:"Đặt hàng"})})]})]})})},e.id)),R.length>0&&t.jsx(h,{xs:24,children:t.jsx("div",{style:{textAlign:"right",marginTop:12},children:t.jsx(p,{type:"link",children:"Xem tất cả sản phẩm sắp hết hàng"})})})]}):t.jsx(L,{description:"Không có cảnh báo tồn kho"})})})}),t.jsxs(d,{gutter:[24,24],style:{marginTop:"24px"},children:[t.jsx(h,{xs:24,lg:12,children:t.jsx(c,{title:t.jsxs("span",{children:[t.jsx(ve,{})," Phân bố tồn kho theo danh mục"]}),bordered:!1,loading:a,children:t.jsx(Kt,{...K,height:300})})}),t.jsx(h,{xs:24,lg:12,children:t.jsx(c,{title:t.jsxs("span",{children:[t.jsx(qt,{})," Giá trị tồn kho theo danh mục"]}),bordered:!1,loading:a,children:t.jsx(qt,{...$,height:300})})})]}),t.jsx(d,{gutter:[24,24],style:{marginTop:"24px"},children:t.jsx(h,{xs:24,children:t.jsx(c,{title:t.jsxs("span",{children:[t.jsx(se,{})," Top sản phẩm chuyển động nhanh"]}),bordered:!1,loading:a,children:t.jsx(y,{dataSource:N,columns:Y,pagination:!1,rowKey:"id"})})})}),t.jsx(d,{gutter:[24,24],style:{marginTop:"24px"},children:t.jsx(h,{xs:24,children:t.jsxs(c,{title:t.jsxs("span",{children:[t.jsx(ce,{})," Danh sách tồn kho"]}),bordered:!1,loading:a,extra:t.jsxs(m,{children:[t.jsx(p,{icon:t.jsx(Re,{}),children:"Nhập từ Excel"}),t.jsx(p,{icon:t.jsx(fe,{}),children:"Tải Excel mẫu"})]}),children:[t.jsx("div",{style:{marginBottom:16},children:t.jsxs(d,{gutter:[16,16],align:"middle",children:[t.jsx(h,{xs:24,md:8,children:t.jsx(ts,{placeholder:"Tìm kiếm theo tên, SKU...",allowClear:!0,enterButton:!0,onChange:e=>f(e.target.value)})}),t.jsx(h,{xs:12,md:5,children:t.jsxs(x,{style:{width:"100%"},placeholder:"Lọc theo danh mục",value:C,onChange:e=>T(e),children:[t.jsx(ns,{value:"all",children:"Tất cả danh mục"}),z.map(e=>t.jsx(ns,{value:e,children:e},e))]})}),t.jsx(h,{xs:12,md:5,children:t.jsxs(x,{style:{width:"100%"},placeholder:"Lọc theo trạng thái",value:P,onChange:e=>D(e),children:[t.jsx(ns,{value:"all",children:"Tất cả trạng thái"}),t.jsx(ns,{value:"in_stock",children:"Còn hàng"}),t.jsx(ns,{value:"low_stock",children:"Sắp hết"}),t.jsx(ns,{value:"out_of_stock",children:"Hết hàng"})]})}),t.jsx(h,{xs:24,md:6,style:{textAlign:"right"},children:t.jsx(m,{children:t.jsx(p,{icon:t.jsx(De,{}),onClick:()=>{T("all"),D("all"),f("")},children:"Đặt lại bộ lọc"})})})]})}),t.jsx(y,{columns:q,dataSource:k,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50"]}})]})})})]})}},Symbol.toStringTag,{value:"Module"})),is=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),rs=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ls=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),{Title:os,Text:cs}=u,{RangePicker:ds}=f,{TabPane:hs}=k,{Option:us}=x,ms=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[s,a]=e.useState([]),[i,r]=e.useState(!0),[l,o]=e.useState(""),[u,g]=e.useState({status:"all",dateRange:null,paymentStatus:"all"}),[j,f]=e.useState(null),[S,I]=e.useState(!1),[T,D]=e.useState({total:0,pending:0,completed:0,canceled:0,revenue:0}),A=n();e.useEffect(()=>{(async()=>{r(!0);try{setTimeout(()=>{const e=R();a(e);const t={total:e.length,pending:e.filter(e=>"pending"===e.status).length,completed:e.filter(e=>"completed"===e.status).length,canceled:e.filter(e=>"canceled"===e.status).length,revenue:e.reduce((e,t)=>"canceled"!==t.status?e+t.totalAmount:e,0)};D(t),r(!1)},1e3)}catch(e){M.error("Failed to load orders. Please try again."),r(!1)}})()},[]);const R=()=>{const e=["pending","processing","shipped","completed","canceled"],t=["paid","pending","refunded","failed"],n=["cash","credit_card","bank_transfer","ewallet"];return Array.from({length:50},(s,a)=>{const i=Ht().subtract(Math.floor(30*Math.random()),"days"),r=e[Math.floor(Math.random()*e.length)],l=t[Math.floor(Math.random()*t.length)],o=Math.floor(10*Math.random())+1,c=Math.floor(5e5*Math.random())+1e4,d=o*c;return{id:`ORD-${1e3+a}`,customer:{id:`CUST-${100+Math.floor(500*Math.random())}`,name:`Khách hàng ${a+1}`,phone:`0${Math.floor(1e9*Math.random())}`,email:`customer${a+1}@example.com`},date:i.format("YYYY-MM-DD HH:mm:ss"),status:r,totalItems:o,totalAmount:d,paymentMethod:n[Math.floor(Math.random()*n.length)],paymentStatus:l,shipping:{method:"standard",address:"Hoà Bình, Việt Nam",cost:Math.floor(5e4*Math.random())+15e3},items:Array.from({length:o},(e,t)=>({id:`ITEM-${1e3+t}`,name:`Sản phẩm ${t+1}`,sku:`SKU-${1e3+t}`,price:c,quantity:1}))}})},_=s.filter(e=>{const t=l.toLowerCase(),n=e.id.toLowerCase().includes(t)||e.customer.name.toLowerCase().includes(t)||e.customer.phone.includes(l)||e.customer.email.toLowerCase().includes(t),s="all"===u.status||e.status===u.status,a="all"===u.paymentStatus||e.paymentStatus===u.paymentStatus;let i=!0;if(u.dateRange&&u.dateRange[0]&&u.dateRange[1]){const t=Ht(e.date),n=u.dateRange[0].startOf("day"),s=u.dateRange[1].endOf("day");i=t.isBetween(n,s,void 0,"[]")}return n&&s&&a&&i}),N=e=>{const n={pending:{color:"gold",icon:t.jsx(ge,{}),text:"Đang xử lý"},processing:{color:"blue",icon:t.jsx(Le,{spin:!0}),text:"Đang chuẩn bị"},shipped:{color:"cyan",icon:t.jsx(ce,{}),text:"Đang giao hàng"},completed:{color:"green",icon:t.jsx(ee,{}),text:"Hoàn thành"},canceled:{color:"red",icon:t.jsx(Ie,{}),text:"Đã huỷ"}},s=n[e]||n.pending;return t.jsx(v,{color:s.color,icon:s.icon,children:s.text})},F=e=>{const n={paid:{color:"green",icon:t.jsx(ee,{}),text:"Đã thanh toán"},pending:{color:"gold",icon:t.jsx(ge,{}),text:"Chờ thanh toán"},refunded:{color:"blue",icon:t.jsx(Ke,{}),text:"Đã hoàn tiền"},failed:{color:"red",icon:t.jsx(Ie,{}),text:"Thanh toán thất bại"}},s=n[e]||n.pending;return t.jsx(v,{color:s.color,icon:s.icon,children:s.text})},B=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),O=[{title:"Mã đơn hàng",dataIndex:"id",key:"id",render:e=>t.jsx("a",{children:e})},{title:"Khách hàng",dataIndex:"customer",key:"customer",render:e=>t.jsxs("div",{children:[t.jsx("div",{children:e.name}),t.jsx("div",{style:{fontSize:"12px",color:"#888"},children:e.phone})]})},{title:"Ngày",dataIndex:"date",key:"date",sorter:(e,t)=>Ht(e.date).unix()-Ht(t.date).unix()},{title:"Tổng tiền",dataIndex:"totalAmount",key:"totalAmount",render:e=>B(e),sorter:(e,t)=>e.totalAmount-t.totalAmount},{title:"Trạng thái",dataIndex:"status",key:"status",render:e=>N(e),filters:[{text:"Đang xử lý",value:"pending"},{text:"Đang chuẩn bị",value:"processing"},{text:"Đang giao hàng",value:"shipped"},{text:"Hoàn thành",value:"completed"},{text:"Đã huỷ",value:"canceled"}],onFilter:(e,t)=>t.status===e},{title:"Thanh toán",dataIndex:"paymentStatus",key:"paymentStatus",render:e=>F(e),filters:[{text:"Đã thanh toán",value:"paid"},{text:"Chờ thanh toán",value:"pending"},{text:"Đã hoàn tiền",value:"refunded"},{text:"Thất bại",value:"failed"}],onFilter:(e,t)=>t.paymentStatus===e},{title:"Thao tác",key:"action",render:(e,n)=>t.jsxs(m,{size:"small",children:[t.jsx(p,{type:"primary",size:"small",icon:t.jsx(ne,{}),onClick:()=>(f(n),void I(!0)),children:"Xem"}),t.jsx(p,{size:"small",icon:t.jsx(_e,{}),onClick:()=>A(`/admin/orders/edit/${n.id}`),children:"Sửa"}),t.jsx(q,{title:"Bạn có chắc chắn muốn xoá đơn hàng này?",onConfirm:()=>{return e=n.id,a(s.filter(t=>t.id!==e)),void M.success(`Đã xoá đơn hàng ${e}`);var e},okText:"Xoá",cancelText:"Huỷ",placement:"left",children:t.jsx(p,{type:"primary",danger:!0,size:"small",icon:t.jsx(Te,{}),children:"Xoá"})})]})}],V=(e,t)=>{g({...u,[e]:t})},E=[{key:"details",tab:"Chi tiết",content:e=>{return t.jsxs(t.Fragment,{children:[t.jsxs(K,{bordered:!0,column:2,size:"small",children:[t.jsx(K.Item,{label:"Mã đơn hàng",span:2,children:t.jsx(cs,{strong:!0,children:e.id})}),t.jsx(K.Item,{label:"Ngày đặt hàng",children:e.date}),t.jsx(K.Item,{label:"Trạng thái đơn hàng",children:N(e.status)}),t.jsx(K.Item,{label:"Trạng thái thanh toán",children:F(e.paymentStatus)}),t.jsx(K.Item,{label:"Phương thức thanh toán",children:(n=e.paymentMethod,{cash:"Tiền mặt",credit_card:"Thẻ tín dụng",bank_transfer:"Chuyển khoản",ewallet:"Ví điện tử"}[n]||n)})]}),t.jsx(C,{orientation:"left",children:"Thông tin khách hàng"}),t.jsxs(K,{bordered:!0,column:2,size:"small",children:[t.jsx(K.Item,{label:"Tên khách hàng",children:e.customer.name}),t.jsx(K.Item,{label:"Mã khách hàng",children:e.customer.id}),t.jsx(K.Item,{label:"Số điện thoại",children:e.customer.phone}),t.jsx(K.Item,{label:"Email",children:e.customer.email})]}),t.jsx(C,{orientation:"left",children:"Thông tin giao hàng"}),t.jsxs(K,{bordered:!0,column:1,size:"small",children:[t.jsx(K.Item,{label:"Phương thức giao hàng",children:"standard"===e.shipping.method?"Giao hàng tiêu chuẩn":e.shipping.method}),t.jsx(K.Item,{label:"Địa chỉ giao hàng",children:e.shipping.address}),t.jsx(K.Item,{label:"Phí giao hàng",children:B(e.shipping.cost)})]})]});var n}},{key:"items",tab:"Sản phẩm",content:e=>t.jsx(y,{dataSource:e.items,rowKey:"id",pagination:!1,columns:[{title:"Sản phẩm",dataIndex:"name",key:"name"},{title:"SKU",dataIndex:"sku",key:"sku"},{title:"Giá",dataIndex:"price",key:"price",render:e=>B(e)},{title:"Số lượng",dataIndex:"quantity",key:"quantity"},{title:"Thành tiền",key:"total",render:(e,t)=>B(t.price*t.quantity)}],summary:()=>t.jsxs(y.Summary.Row,{children:[t.jsx(y.Summary.Cell,{index:0,colSpan:4,align:"right",children:t.jsx(cs,{strong:!0,children:"Tổng tiền sản phẩm:"})}),t.jsx(y.Summary.Cell,{index:1,children:t.jsx(cs,{strong:!0,children:B(e.totalAmount-e.shipping.cost)})})]})})},{key:"timeline",tab:"Lịch sử",content:e=>{const n=[{time:Ht(e.date).format("YYYY-MM-DD HH:mm:ss"),status:"Đơn hàng được tạo",user:"Khách hàng"},{time:Ht(e.date).add(1,"hours").format("YYYY-MM-DD HH:mm:ss"),status:"Đơn hàng được xác nhận",user:"Nhân viên"}];return"processing"!==e.status&&"shipped"!==e.status&&"completed"!==e.status||n.push({time:Ht(e.date).add(2,"hours").format("YYYY-MM-DD HH:mm:ss"),status:"Đang chuẩn bị hàng",user:"Nhân viên kho"}),"shipped"!==e.status&&"completed"!==e.status||n.push({time:Ht(e.date).add(1,"days").format("YYYY-MM-DD HH:mm:ss"),status:"Đã giao cho đơn vị vận chuyển",user:"Nhân viên kho"}),"completed"===e.status&&n.push({time:Ht(e.date).add(3,"days").format("YYYY-MM-DD HH:mm:ss"),status:"Giao hàng thành công",user:"Đơn vị vận chuyển"}),"canceled"===e.status&&n.push({time:Ht(e.date).add(5,"hours").format("YYYY-MM-DD HH:mm:ss"),status:"Đơn hàng bị huỷ",user:"Khách hàng"}),t.jsx($,{mode:"left",children:n.map((e,s)=>t.jsxs($.Item,{label:e.time,color:s===n.length-1?"green":"blue",dot:s===n.length-1?L(e.status):null,children:[t.jsx("div",{children:t.jsx(cs,{strong:!0,children:e.status})}),t.jsx("div",{children:t.jsxs(cs,{type:"secondary",children:["Thực hiện bởi: ",e.user]})})]},s))})}},{key:"notes",tab:"Ghi chú",content:e=>t.jsxs("div",{children:[t.jsx(w,{message:"Ghi chú đơn hàng",description:"Khách hàng không lấy hoá đơn VAT. Giao hàng trong giờ hành chính.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsx(P.TextArea,{rows:4,placeholder:"Thêm ghi chú mới...",style:{marginBottom:16}}),t.jsx(p,{type:"primary",children:"Lưu ghi chú"})]})}],L=e=>e.includes("thành công")?t.jsx(ee,{style:{fontSize:"16px"}}):e.includes("huỷ")?t.jsx(Ie,{style:{fontSize:"16px"}}):e.includes("giao")?t.jsx(ce,{style:{fontSize:"16px"}}):t.jsx(ge,{style:{fontSize:"16px"}});return t.jsxs("div",{className:"order-management",children:[t.jsxs(d,{gutter:[16,16],style:{marginBottom:16},children:[t.jsx(h,{xs:24,sm:12,md:6,children:t.jsx(c,{children:t.jsx(b,{title:"Tổng đơn hàng",value:T.total,prefix:t.jsx(we,{}),valueStyle:{color:"#1890ff"}})})}),t.jsx(h,{xs:24,sm:12,md:6,children:t.jsx(c,{children:t.jsx(b,{title:"Đơn hàng đang xử lý",value:T.pending,prefix:t.jsx(ge,{}),valueStyle:{color:"#faad14"}})})}),t.jsx(h,{xs:24,sm:12,md:6,children:t.jsx(c,{children:t.jsx(b,{title:"Đơn hàng hoàn thành",value:T.completed,prefix:t.jsx(ee,{}),valueStyle:{color:"#52c41a"}})})}),t.jsx(h,{xs:24,sm:12,md:6,children:t.jsx(c,{children:t.jsx(b,{title:"Tổng doanh thu",value:T.revenue,formatter:e=>B(e),prefix:t.jsx(Ke,{}),valueStyle:{color:"#722ed1"}})})})]}),t.jsx(c,{style:{marginBottom:16},children:t.jsxs(d,{gutter:[16,16],align:"middle",children:[t.jsx(h,{xs:24,md:6,children:t.jsx(P,{placeholder:"Tìm kiếm đơn hàng...",value:l,onChange:e=>{return t=e.target.value,void o(t);var t},allowClear:!0,prefix:t.jsx(Pe,{})})}),t.jsx(h,{xs:24,md:6,children:t.jsxs(x,{style:{width:"100%"},placeholder:"Trạng thái đơn hàng",value:u.status,onChange:e=>V("status",e),children:[t.jsx(us,{value:"all",children:"Tất cả trạng thái"}),t.jsx(us,{value:"pending",children:"Đang xử lý"}),t.jsx(us,{value:"processing",children:"Đang chuẩn bị"}),t.jsx(us,{value:"shipped",children:"Đang giao hàng"}),t.jsx(us,{value:"completed",children:"Hoàn thành"}),t.jsx(us,{value:"canceled",children:"Đã huỷ"})]})}),t.jsx(h,{xs:24,md:6,children:t.jsxs(x,{style:{width:"100%"},placeholder:"Trạng thái thanh toán",value:u.paymentStatus,onChange:e=>V("paymentStatus",e),children:[t.jsx(us,{value:"all",children:"Tất cả thanh toán"}),t.jsx(us,{value:"paid",children:"Đã thanh toán"}),t.jsx(us,{value:"pending",children:"Chờ thanh toán"}),t.jsx(us,{value:"refunded",children:"Đã hoàn tiền"}),t.jsx(us,{value:"failed",children:"Thanh toán thất bại"})]})}),t.jsx(h,{xs:24,md:6,children:t.jsx(ds,{style:{width:"100%"},value:u.dateRange,onChange:e=>V("dateRange",e),format:"DD/MM/YYYY"})}),t.jsx(h,{xs:24,md:24,children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx(p,{type:"primary",icon:t.jsx(De,{}),onClick:()=>{g({status:"all",dateRange:null,paymentStatus:"all"}),o("")},children:"Xoá bộ lọc"}),t.jsxs(m,{children:[t.jsx(p,{icon:t.jsx(ke,{}),children:"Xuất danh sách"}),t.jsx(p,{icon:t.jsx($e,{}),children:"In danh sách"}),t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>A("/admin/orders/new"),children:"Tạo đơn hàng mới"})]})]})})]})}),t.jsx(c,{children:t.jsx(y,{columns:O,dataSource:_,rowKey:"id",loading:i,pagination:{pageSize:10,showSizeChanger:!0,showTotal:e=>`Tổng ${e} đơn hàng`}})}),t.jsx(z,{title:j?t.jsxs(m,{align:"center",children:[t.jsx("span",{children:`Đơn hàng: ${j.id}`}),N(j.status)]}):"Chi tiết đơn hàng",width:720,open:S,onClose:()=>I(!1),extra:t.jsxs(m,{children:[t.jsx(p,{onClick:()=>I(!1),children:"Đóng"}),t.jsx(p,{type:"primary",onClick:()=>A(`/admin/orders/edit/${j?.id}`),children:"Chỉnh sửa"})]}),children:j&&t.jsxs(t.Fragment,{children:[t.jsxs(d,{gutter:[0,16],style:{marginBottom:16},children:[t.jsx(h,{span:24,children:t.jsxs(m,{size:"large",children:[t.jsx(b,{title:"Tổng giá trị",value:B(j.totalAmount),valueStyle:{color:"#1890ff"}}),t.jsx(b,{title:"Số lượng sản phẩm",value:j.totalItems,valueStyle:{color:"#52c41a"}}),t.jsx(b,{title:"Ngày đặt hàng",value:Ht(j.date).format("DD/MM/YYYY"),valueStyle:{color:"#722ed1"}})]})}),t.jsx(h,{span:24,children:t.jsxs(m,{direction:"vertical",style:{width:"100%"},children:[t.jsxs("div",{children:[t.jsx(cs,{strong:!0,children:"Cập nhật trạng thái:"}),t.jsxs(x,{style:{width:200,marginLeft:16},value:j.status,onChange:e=>{j&&(((e,t)=>{a(s.map(n=>n.id===e?{...n,status:t}:n)),M.success(`Cập nhật trạng thái đơn hàng ${e} thành ${t}`)})(j.id,e),f({...j,status:e}))},children:[t.jsx(us,{value:"pending",children:"Đang xử lý"}),t.jsx(us,{value:"processing",children:"Đang chuẩn bị"}),t.jsx(us,{value:"shipped",children:"Đang giao hàng"}),t.jsx(us,{value:"completed",children:"Hoàn thành"}),t.jsx(us,{value:"canceled",children:"Đã huỷ"})]})]}),t.jsxs("div",{children:[t.jsx(cs,{strong:!0,children:"Cập nhật thanh toán:"}),t.jsxs(x,{style:{width:200,marginLeft:16},value:j.paymentStatus,onChange:e=>{j&&(((e,t)=>{a(s.map(n=>n.id===e?{...n,paymentStatus:t}:n)),M.success(`Cập nhật trạng thái thanh toán đơn hàng ${e} thành ${t}`)})(j.id,e),f({...j,paymentStatus:e}))},children:[t.jsx(us,{value:"pending",children:"Chờ thanh toán"}),t.jsx(us,{value:"paid",children:"Đã thanh toán"}),t.jsx(us,{value:"refunded",children:"Đã hoàn tiền"}),t.jsx(us,{value:"failed",children:"Thanh toán thất bại"})]})]})]})})]}),t.jsx(k,{defaultActiveKey:"details",children:E.map(e=>t.jsx(hs,{tab:e.tab,children:e.content(j)},e.key))})]})})]})}},Symbol.toStringTag,{value:"Module"})),{Title:xs,Text:ps}=u,{RangePicker:gs}=f,{Option:js}=x,{TabPane:ys}=k,vs=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState(!0),[a,i]=e.useState("month"),[r,l]=e.useState([Ht().subtract(30,"days"),Ht()]),[o,u]=e.useState({summary:{},orderTrends:[],orderByStatus:[],orderByChannel:[],orderByTime:[],topCustomers:[]});e.useEffect(()=>{s(!0),setTimeout(()=>{const e=m();u(e),s(!1)},1500)},[a,r]);const m=()=>({summary:{totalOrders:356,completedOrders:312,pendingOrders:24,cancelledOrders:20,avgProcessingTime:18,totalOrderValue:785265e4,avgOrderValue:22058427,totalOrderGrowth:12.5,avgOrderValueGrowth:4.8},orderTrends:g(),orderByStatus:[{status:"Hoàn thành",value:312,color:"#52c41a"},{status:"Đang xử lý",value:24,color:"#1890ff"},{status:"Hủy",value:20,color:"#ff4d4f"}],orderByChannel:[{channel:"Cửa hàng",value:245,percentage:68.8},{channel:"Online",value:65,percentage:18.3},{channel:"Đại lý",value:46,percentage:12.9}],orderByTime:j(),topCustomers:f()}),g=()=>{const e=[],t=Ht().subtract(30,"days");for(let n=0;n<30;n++){const s=t.clone().add(n,"days").format("YYYY-MM-DD");e.push({date:s,"Hoàn thành":Math.floor(15*Math.random())+5,"Đang xử lý":Math.floor(3*Math.random()),"Hủy":Math.floor(2*Math.random())})}return e},j=()=>{const e=[];for(let t=0;t<24;t++)e.push({hour:`${t}:00`,orders:Math.floor(30*Math.random())+(t>=9&&t<=20?10:0)});return e},f=()=>[{id:1,name:"Nguyễn Văn A",orders:12,value:658e5,loyalty:"Vàng"},{id:2,name:"Trần Thị B",orders:8,value:453e5,loyalty:"Bạc"},{id:3,name:"Lê Văn C",orders:7,value:385e5,loyalty:"Bạc"},{id:4,name:"Phạm Minh D",orders:6,value:527e5,loyalty:"Vàng"},{id:5,name:"Hoàng Thị E",orders:5,value:249e5,loyalty:"Đồng"}],S={data:o.orderTrends,xField:"date",yField:"value",seriesField:"type",yAxis:{title:{text:"Số đơn hàng"}},xAxis:{type:"time",tickCount:10},legend:{position:"top"},smooth:!0,animation:{appear:{animation:"path-in",duration:1e3}},isStack:!1,slider:{start:0,end:1,trendCfg:{isArea:!1}},meta:{value:{alias:"Số đơn"},type:{alias:"Trạng thái"}}},w=o.orderTrends.reduce((e,t)=>{const{date:n,...s}=t;return Object.entries(s).forEach(([t,s])=>{e.push({date:n,type:t,value:s})}),e},[]),C={data:o.orderByStatus,angleField:"value",colorField:"status",radius:.75,label:{type:"spider",content:"{name}: {percentage}"},color:({status:e})=>{const t=o.orderByStatus.find(t=>t.status===e);return t?t.color:"#1890ff"},interactions:[{type:"element-active"}]},I={data:o.orderByChannel,angleField:"value",colorField:"channel",radius:.75,label:{type:"spider",content:"{name}: {percentage}"},interactions:[{type:"element-active"}]},T={data:o.orderByTime,xField:"hour",yField:"orders",color:"#1890ff",label:{position:"top",style:{fill:"#1890ff",opacity:.6}},xAxis:{label:{autoHide:!0,autoRotate:!1}},meta:{hour:{alias:"Giờ"},orders:{alias:"Đơn hàng"}}},P=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),D=[{title:"Khách hàng",dataIndex:"name",key:"name"},{title:"Số đơn hàng",dataIndex:"orders",key:"orders",align:"right"},{title:"Giá trị",dataIndex:"value",key:"value",align:"right",render:e=>P(e)},{title:"Hạng",dataIndex:"loyalty",key:"loyalty",align:"center",render:e=>{let n;switch(e){case"Vàng":n="gold";break;case"Bạc":n="silver";break;case"Đồng":n="#cd7f32";break;default:n="default"}return t.jsx(v,{color:n,children:e})}}];return t.jsxs("div",{className:"order-analytics",children:[t.jsx(c,{bordered:!1,className:"header-card",children:t.jsxs(d,{justify:"space-between",align:"middle",gutter:[24,24],children:[t.jsxs(h,{xs:24,sm:12,children:[t.jsx(xs,{level:3,children:"Phân tích đơn hàng"}),t.jsx(ps,{type:"secondary",children:"Thống kê và phân tích đơn hàng trong khoảng thời gian đã chọn"})]}),t.jsx(h,{xs:24,sm:12,children:t.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px",flexWrap:"wrap"},children:[t.jsxs(x,{style:{width:120},value:a,onChange:e=>{switch(i(e),e){case"week":l([Ht().subtract(7,"days"),Ht()]);break;case"month":default:l([Ht().subtract(30,"days"),Ht()]);break;case"quarter":l([Ht().subtract(90,"days"),Ht()]);break;case"year":l([Ht().subtract(365,"days"),Ht()])}},disabled:n,children:[t.jsx(js,{value:"week",children:"7 ngày qua"}),t.jsx(js,{value:"month",children:"30 ngày qua"}),t.jsx(js,{value:"quarter",children:"90 ngày qua"}),t.jsx(js,{value:"year",children:"365 ngày qua"}),"custom"===a&&t.jsx(js,{value:"custom",children:"Tùy chỉnh"})]}),t.jsx(gs,{value:r,onChange:e=>{e&&2===e.length&&(l(e),i("custom"))},format:"DD/MM/YYYY",allowClear:!1,disabled:n}),t.jsx(p,{icon:t.jsx(Z,{}),onClick:()=>s(!0),loading:n,children:"Làm mới"}),t.jsx(p,{icon:t.jsx(fe,{}),disabled:n,children:"Xuất báo cáo"})]})})]})}),t.jsxs(d,{gutter:[24,24],style:{marginTop:"24px"},children:[t.jsx(h,{xs:24,sm:12,lg:6,children:t.jsx(c,{bordered:!1,loading:n,children:t.jsx(b,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx(oe,{}),t.jsx("span",{children:"Tổng đơn hàng"})]}),value:o.summary.totalOrders,suffix:t.jsxs("div",{style:{fontSize:"14px",color:o.summary.totalOrderGrowth>=0?"#52c41a":"#f5222d"},children:[o.summary.totalOrderGrowth>=0?t.jsx(je,{}):t.jsx(ye,{})," ",Math.abs(o.summary.totalOrderGrowth),"%"]})})})}),t.jsx(h,{xs:24,sm:12,lg:6,children:t.jsx(c,{bordered:!1,loading:n,children:t.jsx(b,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx(me,{}),t.jsx("span",{children:"Giá trị trung bình"})]}),value:o.summary.avgOrderValue,precision:0,formatter:e=>P(e),suffix:t.jsxs("div",{style:{fontSize:"14px",color:o.summary.avgOrderValueGrowth>=0?"#52c41a":"#f5222d"},children:[o.summary.avgOrderValueGrowth>=0?t.jsx(je,{}):t.jsx(ye,{})," ",Math.abs(o.summary.avgOrderValueGrowth),"%"]})})})}),t.jsx(h,{xs:24,sm:12,lg:6,children:t.jsx(c,{bordered:!1,loading:n,children:t.jsx(b,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx(ge,{}),t.jsx("span",{children:"Thời gian xử lý TB"})]}),value:o.summary.avgProcessingTime,suffix:"phút"})})}),t.jsx(h,{xs:24,sm:12,lg:6,children:t.jsx(c,{bordered:!1,loading:n,children:t.jsx(b,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx(de,{}),t.jsx("span",{children:"Tỷ lệ hoàn thành"})]}),value:o.summary.completedOrders/o.summary.totalOrders*100,precision:1,suffix:"%",valueStyle:{color:"#52c41a"}})})})]}),t.jsx(d,{gutter:[24,24],style:{marginTop:"24px"},children:t.jsx(h,{xs:24,children:t.jsx(c,{title:t.jsxs("span",{children:[t.jsx(se,{})," Xu hướng đơn hàng"]}),bordered:!1,loading:n,children:n?t.jsx("div",{style:{height:400,display:"flex",justifyContent:"center",alignItems:"center"},children:t.jsx(H,{})}):t.jsx($t,{...S,data:w,height:400})})})}),t.jsxs(d,{gutter:[24,24],style:{marginTop:"24px"},children:[t.jsx(h,{xs:24,lg:12,children:t.jsx(c,{title:t.jsxs("span",{children:[t.jsx(Se,{})," Phân tích đơn hàng"]}),bordered:!1,loading:n,children:t.jsxs(k,{defaultActiveKey:"status",children:[t.jsx(ys,{tab:"Theo trạng thái",children:n?t.jsx("div",{style:{height:300,display:"flex",justifyContent:"center",alignItems:"center"},children:t.jsx(H,{})}):t.jsx(qt,{...C,height:300})},"status"),t.jsx(ys,{tab:"Theo kênh bán hàng",children:n?t.jsx("div",{style:{height:300,display:"flex",justifyContent:"center",alignItems:"center"},children:t.jsx(H,{})}):t.jsx(qt,{...I,height:300})},"channel")]})})}),t.jsx(h,{xs:24,lg:12,children:t.jsx(c,{title:t.jsxs("span",{children:[t.jsx(ve,{})," Đơn hàng theo giờ"]}),bordered:!1,loading:n,children:n?t.jsx("div",{style:{height:358,display:"flex",justifyContent:"center",alignItems:"center"},children:t.jsx(H,{})}):t.jsx(Kt,{...T,height:358})})})]}),t.jsx(d,{gutter:[24,24],style:{marginTop:"24px"},children:t.jsx(h,{xs:24,children:t.jsx(c,{title:t.jsxs("span",{children:[t.jsx(de,{})," Khách hàng mua nhiều nhất"]}),bordered:!1,loading:n,children:t.jsx(y,{dataSource:o.topCustomers,columns:D,pagination:!1,rowKey:"id"})})})})]})}},Symbol.toStringTag,{value:"Module"})),{Title:fs,Text:bs}=u,{Option:Ss}=x,{TextArea:ks}=P,{Step:ws}=Y,Cs=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState(!0),[a,i]=e.useState([]),[r,l]=e.useState([]),[o,u]=e.useState(""),[g,j]=e.useState("all"),[S,k]=e.useState([]),[w,I]=e.useState(!1),[T,D]=e.useState(null),[A,R]=e.useState("overview"),[N]=_.useForm(),F=[{id:"RET-001",orderNumber:"ORD-12345",customer:"Nguyễn Văn A",products:[{id:1,name:"Laptop Dell Inspiron",quantity:1,reason:"Lỗi màn hình",price:15e6}],totalAmount:15e6,status:"pending",requestDate:"2023-05-15",processedBy:null,approvalDate:null,notes:"Khách hàng phàn nàn về màn hình bị chớp",returnMethod:"store",refundMethod:"original_payment",history:[{time:"2023-05-15 10:30",action:"Yêu cầu hoàn trả được tạo",user:"Nguyễn Văn A"},{time:"2023-05-15 14:45",action:"Yêu cầu được tiếp nhận",user:"Hệ thống"}]},{id:"RET-002",orderNumber:"ORD-12346",customer:"Trần Thị B",products:[{id:2,name:"Tai nghe Sony",quantity:1,reason:"Sản phẩm không đúng mô tả",price:25e5}],totalAmount:25e5,status:"approved",requestDate:"2023-05-10",processedBy:"Lê Văn C",approvalDate:"2023-05-12",notes:"Đã kiểm tra và xác nhận sản phẩm không đúng với mô tả",returnMethod:"store",refundMethod:"store_credit",history:[{time:"2023-05-10 09:15",action:"Yêu cầu hoàn trả được tạo",user:"Trần Thị B"},{time:"2023-05-11 11:30",action:"Sản phẩm đã được nhận tại cửa hàng",user:"Phạm Minh D"},{time:"2023-05-12 14:20",action:"Yêu cầu hoàn trả được chấp nhận",user:"Lê Văn C"}]},{id:"RET-003",orderNumber:"ORD-12350",customer:"Lê Văn E",products:[{id:3,name:"Chuột không dây Logitech",quantity:1,reason:"Đổi ý",price:45e4},{id:4,name:"Bàn phím cơ AKKO",quantity:1,reason:"Đổi ý",price:12e5}],totalAmount:165e4,status:"completed",requestDate:"2023-05-05",processedBy:"Lê Văn C",approvalDate:"2023-05-07",notes:"Khách hàng đổi ý trong thời gian cho phép",returnMethod:"shipping",refundMethod:"original_payment",history:[{time:"2023-05-05 16:45",action:"Yêu cầu hoàn trả được tạo",user:"Lê Văn E"},{time:"2023-05-06 10:20",action:"Sản phẩm đã được gửi trả",user:"Lê Văn E"},{time:"2023-05-07 09:30",action:"Sản phẩm đã được nhận",user:"Kho"},{time:"2023-05-07 14:15",action:"Yêu cầu hoàn trả được chấp nhận",user:"Lê Văn C"},{time:"2023-05-08 11:00",action:"Hoàn tiền thành công",user:"Hệ thống"}]},{id:"RET-004",orderNumber:"ORD-12355",customer:"Hoàng Thị F",products:[{id:5,name:'Màn hình Dell 24"',quantity:1,reason:"Sản phẩm bị lỗi",price:35e5}],totalAmount:35e5,status:"rejected",requestDate:"2023-05-08",processedBy:"Nguyễn Văn G",approvalDate:"2023-05-09",notes:"Sản phẩm đã quá thời gian đổi trả (30 ngày)",returnMethod:"store",refundMethod:null,history:[{time:"2023-05-08 13:30",action:"Yêu cầu hoàn trả được tạo",user:"Hoàng Thị F"},{time:"2023-05-09 10:45",action:"Yêu cầu hoàn trả bị từ chối",user:"Nguyễn Văn G"}]}];e.useEffect(()=>{setTimeout(()=>{i(F),l(F),s(!1)},1e3)},[]),e.useEffect(()=>{let e=[...a];if(o&&(e=e.filter(e=>e.id.toLowerCase().includes(o.toLowerCase())||e.orderNumber.toLowerCase().includes(o.toLowerCase())||e.customer.toLowerCase().includes(o.toLowerCase()))),"all"!==g&&(e=e.filter(e=>e.status===g)),S&&2===S.length){const[t,n]=S;e=e.filter(e=>{const s=new Date(e.requestDate);return s>=t&&s<=n})}l(e)},[o,g,S,a]);const B=e=>{D(e),I(!0),N.setFieldsValue({status:e.status,notes:e.notes||"",refundMethod:e.refundMethod||""})},O=()=>{I(!1),D(null),N.resetFields()},V=e=>({pending:"orange",approved:"blue",processing:"purple",completed:"green",rejected:"red",cancelled:"default"}[e]||"default"),E=e=>({pending:"Chờ xử lý",approved:"Đã phê duyệt",processing:"Đang xử lý",completed:"Hoàn thành",rejected:"Từ chối",cancelled:"Đã hủy"}[e]||e),L=[{title:"Mã yêu cầu",dataIndex:"id",key:"id",render:e=>t.jsx("a",{onClick:()=>B(a.find(t=>t.id===e)),children:e})},{title:"Đơn hàng",dataIndex:"orderNumber",key:"orderNumber"},{title:"Khách hàng",dataIndex:"customer",key:"customer"},{title:"Ngày yêu cầu",dataIndex:"requestDate",key:"requestDate",sorter:(e,t)=>new Date(e.requestDate)-new Date(t.requestDate)},{title:"Giá trị",dataIndex:"totalAmount",key:"totalAmount",render:e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)},{title:"Trạng thái",dataIndex:"status",key:"status",render:e=>t.jsx(v,{color:V(e),children:E(e)})},{title:"Thao tác",key:"actions",render:(e,n)=>t.jsx(m,{size:"small",children:t.jsx(p,{type:"primary",size:"small",onClick:()=>B(n),children:"Chi tiết"})})}],q={total:a.length,pending:a.filter(e=>"pending"===e.status).length,completed:a.filter(e=>"completed"===e.status).length,rejected:a.filter(e=>"rejected"===e.status).length,totalValue:a.reduce((e,t)=>e+t.totalAmount,0)};return t.jsxs("div",{children:[t.jsx(fs,{level:2,children:"Quản lý đơn hoàn trả"}),t.jsxs(d,{gutter:16,style:{marginBottom:16},children:[t.jsx(h,{xs:24,sm:12,md:6,children:t.jsx(c,{children:t.jsx(b,{title:"Tổng số đơn hoàn trả",value:q.total,prefix:t.jsx(ce,{style:{color:"#1890ff"}})})})}),t.jsx(h,{xs:24,sm:12,md:6,children:t.jsx(c,{children:t.jsx(b,{title:"Chờ xử lý",value:q.pending,prefix:t.jsx(Le,{style:{color:"#faad14"}})})})}),t.jsx(h,{xs:24,sm:12,md:6,children:t.jsx(c,{children:t.jsx(b,{title:"Hoàn thành",value:q.completed,prefix:t.jsx(ee,{style:{color:"#52c41a"}})})})}),t.jsx(h,{xs:24,sm:12,md:6,children:t.jsx(c,{children:t.jsx(b,{title:"Tổng giá trị hoàn trả",value:q.totalValue,precision:0,formatter:e=>`${new Intl.NumberFormat("vi-VN").format(e)} VND`,prefix:t.jsx(me,{style:{color:"#722ed1"}})})})})]}),t.jsx(c,{style:{marginBottom:16},children:t.jsxs(m,{wrap:!0,children:[t.jsx(P,{placeholder:"Tìm kiếm theo mã, đơn hàng, khách hàng",prefix:t.jsx(Pe,{}),value:o,onChange:e=>u(e.target.value),style:{width:300}}),t.jsxs(x,{placeholder:"Trạng thái",style:{width:150},value:g,onChange:e=>j(e),children:[t.jsx(Ss,{value:"all",children:"Tất cả trạng thái"}),t.jsx(Ss,{value:"pending",children:"Chờ xử lý"}),t.jsx(Ss,{value:"approved",children:"Đã phê duyệt"}),t.jsx(Ss,{value:"processing",children:"Đang xử lý"}),t.jsx(Ss,{value:"completed",children:"Hoàn thành"}),t.jsx(Ss,{value:"rejected",children:"Từ chối"}),t.jsx(Ss,{value:"cancelled",children:"Đã hủy"})]}),t.jsx(f.RangePicker,{onChange:e=>k(e)}),t.jsx(p,{icon:t.jsx(Z,{}),onClick:()=>{u(""),j("all"),k([])},children:"Làm mới"})]})}),t.jsx(y,{columns:L,dataSource:r,rowKey:"id",loading:n,pagination:{pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50"]}}),t.jsx(z,{title:`Chi tiết yêu cầu hoàn trả: ${T?.id}`,placement:"right",width:720,onClose:O,visible:w,footer:t.jsx("div",{style:{textAlign:"right"},children:t.jsxs(m,{children:[t.jsx(p,{onClick:O,children:"Đóng"}),t.jsx(p,{type:"primary",onClick:()=>{N.validateFields().then(e=>{const t={...T,status:e.status,notes:e.notes,refundMethod:e.refundMethod,processedBy:"Current User",approvalDate:(new Date).toISOString().split("T")[0]},n=a.map(e=>e.id===T.id?t:e);i(n),l(n),M.success(`Cập nhật trạng thái yêu cầu ${T.id} thành công!`),O()})},children:"Cập nhật"})]})}),children:T&&t.jsxs(t.Fragment,{children:[t.jsxs(d,{gutter:[16,16],children:[t.jsxs(h,{span:12,children:[t.jsxs("div",{children:[t.jsx(bs,{strong:!0,children:"Mã đơn hàng:"})," ",T.orderNumber]}),t.jsxs("div",{children:[t.jsx(bs,{strong:!0,children:"Khách hàng:"})," ",T.customer]}),t.jsxs("div",{children:[t.jsx(bs,{strong:!0,children:"Ngày yêu cầu:"})," ",T.requestDate]}),t.jsxs("div",{children:[t.jsx(bs,{strong:!0,children:"Phương thức hoàn trả:"})," ",(K=T.returnMethod,{store:"Tại cửa hàng",shipping:"Gửi qua bưu điện"}[K]||K)]})]}),t.jsxs(h,{span:12,children:[t.jsxs("div",{children:[t.jsx(bs,{strong:!0,children:"Trạng thái:"})," ",t.jsx(v,{color:V(T.status),children:E(T.status)})]}),T.processedBy&&t.jsxs("div",{children:[t.jsx(bs,{strong:!0,children:"Người xử lý:"})," ",T.processedBy]}),T.approvalDate&&t.jsxs("div",{children:[t.jsx(bs,{strong:!0,children:"Ngày xử lý:"})," ",T.approvalDate]}),T.refundMethod&&t.jsxs("div",{children:[t.jsx(bs,{strong:!0,children:"Phương thức hoàn tiền:"})," ",(e=>({original_payment:"Hoàn tiền theo phương thức thanh toán gốc",store_credit:"Tín dụng cửa hàng",exchange:"Đổi sản phẩm khác"}[e]||"Chưa xác định"))(T.refundMethod)]})]})]}),t.jsx(C,{children:"Sản phẩm hoàn trả"}),t.jsx(y,{dataSource:T.products,rowKey:"id",pagination:!1,columns:[{title:"Sản phẩm",dataIndex:"name",key:"name"},{title:"Số lượng",dataIndex:"quantity",key:"quantity"},{title:"Lý do",dataIndex:"reason",key:"reason"},{title:"Giá trị",dataIndex:"price",key:"price",render:e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)}],summary:()=>t.jsxs(y.Summary.Row,{children:[t.jsx(y.Summary.Cell,{colSpan:3,children:t.jsx("strong",{children:"Tổng cộng"})}),t.jsx(y.Summary.Cell,{children:t.jsx(bs,{type:"danger",strong:!0,children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(T.totalAmount)})})]})}),t.jsx(C,{children:"Cập nhật trạng thái"}),t.jsxs(_,{form:N,layout:"vertical",children:[t.jsx(_.Item,{name:"status",label:"Trạng thái",rules:[{required:!0,message:"Vui lòng chọn trạng thái"}],children:t.jsxs(x,{children:[t.jsx(Ss,{value:"pending",children:"Chờ xử lý"}),t.jsx(Ss,{value:"approved",children:"Đã phê duyệt"}),t.jsx(Ss,{value:"processing",children:"Đang xử lý"}),t.jsx(Ss,{value:"completed",children:"Hoàn thành"}),t.jsx(Ss,{value:"rejected",children:"Từ chối"}),t.jsx(Ss,{value:"cancelled",children:"Đã hủy"})]})}),t.jsx(_.Item,{name:"refundMethod",label:"Phương thức hoàn tiền",children:t.jsxs(x,{children:[t.jsx(Ss,{value:"",children:"-- Chọn phương thức --"}),t.jsx(Ss,{value:"original_payment",children:"Hoàn tiền theo phương thức thanh toán gốc"}),t.jsx(Ss,{value:"store_credit",children:"Tín dụng cửa hàng"}),t.jsx(Ss,{value:"exchange",children:"Đổi sản phẩm khác"})]})}),t.jsx(_.Item,{name:"notes",label:"Ghi chú",children:t.jsx(ks,{rows:4})})]}),t.jsx(C,{children:"Lịch sử xử lý"}),t.jsx($,{mode:"left",children:T.history.map((e,n)=>t.jsxs($.Item,{label:e.time,children:[t.jsx("p",{children:t.jsx("strong",{children:e.action})}),t.jsxs("p",{children:["Bởi: ",e.user]})]},n))})]})})]});var K}},Symbol.toStringTag,{value:"Module"})),{Title:Is,Text:Ts,Paragraph:Ps}=u,{TabPane:Ds}=k,{Option:As}=x,{RangePicker:Ms}=f,Rs=[{key:"sales",name:"Sales Reports",icon:t.jsx(me,{})},{key:"inventory",name:"Inventory Reports",icon:t.jsx(ve,{})},{key:"customer",name:"Customer Reports",icon:t.jsx(xe,{})},{key:"staff",name:"Staff Performance",icon:t.jsx(se,{})},{key:"financial",name:"Financial Reports",icon:t.jsx(Se,{})}],_s=[{id:1,name:"Daily Sales Summary",category:"sales",description:"Summary of daily sales transactions",lastRun:"2023-10-15",scheduledFrequency:"daily",format:"excel",creator:"System",starred:!0},{id:2,name:"Monthly Revenue Analysis",category:"financial",description:"Detailed monthly revenue breakdown by product categories",lastRun:"2023-10-01",scheduledFrequency:"monthly",format:"pdf",creator:"Admin",starred:!0},{id:3,name:"Inventory Stock Levels",category:"inventory",description:"Current stock levels and reorder points",lastRun:"2023-10-14",scheduledFrequency:"weekly",format:"excel",creator:"System",starred:!1},{id:4,name:"Top Selling Products",category:"sales",description:"Ranking of products by sales volume and revenue",lastRun:"2023-10-10",scheduledFrequency:"weekly",format:"pdf",creator:"Admin",starred:!1},{id:5,name:"Customer Retention Analysis",category:"customer",description:"Analysis of customer retention and repeat purchase patterns",lastRun:"2023-09-30",scheduledFrequency:"monthly",format:"excel",creator:"Marketing Manager",starred:!0},{id:6,name:"Staff Performance Metrics",category:"staff",description:"Performance evaluation metrics for all staff members",lastRun:"2023-10-05",scheduledFrequency:"monthly",format:"pdf",creator:"HR Manager",starred:!1},{id:7,name:"Quarterly Financial Statement",category:"financial",description:"Complete quarterly financial report with P&L statement",lastRun:"2023-09-30",scheduledFrequency:"quarterly",format:"pdf",creator:"Finance Director",starred:!0},{id:8,name:"Low Stock Alert",category:"inventory",description:"Products with inventory levels below reorder point",lastRun:"2023-10-15",scheduledFrequency:"daily",format:"excel",creator:"System",starred:!1}],Ns=[{id:1,name:"Daily Sales Summary",viewedAt:"2023-10-15 14:30",category:"sales"},{id:5,name:"Customer Retention Analysis",viewedAt:"2023-10-14 11:20",category:"customer"},{id:3,name:"Inventory Stock Levels",viewedAt:"2023-10-14 09:45",category:"inventory"},{id:7,name:"Quarterly Financial Statement",viewedAt:"2023-10-13 16:15",category:"financial"}],Fs=[{id:1,name:"Daily Sales Summary",nextRun:"2023-10-16 00:00",frequency:"Daily",recipients:["admin@truongphat.com","sales@truongphat.com"]},{id:3,name:"Inventory Stock Levels",nextRun:"2023-10-21 00:00",frequency:"Weekly",recipients:["admin@truongphat.com","inventory@truongphat.com"]},{id:8,name:"Low Stock Alert",nextRun:"2023-10-16 08:00",frequency:"Daily",recipients:["inventory@truongphat.com","purchasing@truongphat.com"]}],Bs=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState("1"),[a,i]=e.useState(""),[r,l]=e.useState(null),[o,u]=e.useState(null),[f,b]=e.useState([Ht().subtract(30,"days"),Ht()]),[C,I]=e.useState(_s.map(e=>e.starred)),A=_s.filter(e=>{const t=!a||e.name.toLowerCase().includes(a.toLowerCase())||e.description.toLowerCase().includes(a.toLowerCase()),n=!r||e.category===r,s=!o||e.format===o;return t&&n&&s}),M=e=>{switch(e){case"sales":return"green";case"inventory":return"blue";case"customer":return"purple";case"staff":return"orange";case"financial":return"red";default:return"default"}},_=e=>{switch(e){case"pdf":return t.jsx(We,{style:{color:"#ff4d4f"}});case"excel":return t.jsx(We,{style:{color:"#52c41a"}});case"csv":return t.jsx(We,{style:{color:"#1890ff"}});default:return t.jsx(We,{})}},N=[{title:"Report Name",key:"name",render:(e,n,s)=>t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx(p,{type:"text",icon:C[s]?t.jsx(He,{style:{color:"#faad14"}}):t.jsx(He,{}),onClick:()=>(e=>{const t=[...C],n=_s.findIndex(t=>t.id===e);t[n]=!t[n],I(t)})(n.id),style:{marginRight:8}}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"bold"},children:n.name}),t.jsx("div",{style:{fontSize:"12px",color:"rgba(0, 0, 0, 0.45)"},children:n.description})]})]}),sorter:(e,t)=>e.name.localeCompare(t.name)},{title:"Category",dataIndex:"category",key:"category",render:e=>t.jsx(v,{color:M(e),children:e.charAt(0).toUpperCase()+e.slice(1)}),filters:Rs.map(e=>({text:e.name,value:e.key})),onFilter:(e,t)=>t.category===e},{title:"Format",dataIndex:"format",key:"format",render:e=>t.jsxs(m,{children:[_(e),t.jsx("span",{children:e.toUpperCase()})]}),filters:[{text:"PDF",value:"pdf"},{text:"Excel",value:"excel"},{text:"CSV",value:"csv"}],onFilter:(e,t)=>t.format===e},{title:"Last Generated",dataIndex:"lastRun",key:"lastRun",sorter:(e,t)=>new Date(e.lastRun)-new Date(t.lastRun)},{title:"Frequency",dataIndex:"scheduledFrequency",key:"scheduledFrequency",render:e=>t.jsx(j,{status:"daily"===e?"processing":"weekly"===e?"success":"default",text:e.charAt(0).toUpperCase()+e.slice(1)}),filters:[{text:"Daily",value:"daily"},{text:"Weekly",value:"weekly"},{text:"Monthly",value:"monthly"},{text:"Quarterly",value:"quarterly"},{text:"Yearly",value:"yearly"}],onFilter:(e,t)=>t.scheduledFrequency===e},{title:"Creator",dataIndex:"creator",key:"creator"},{title:"Actions",key:"actions",render:(e,n)=>t.jsxs(m,{children:[t.jsx(S,{title:"View Report",children:t.jsx(p,{type:"text",icon:t.jsx(ne,{})})}),t.jsx(S,{title:"Download Report",children:t.jsx(p,{type:"text",icon:t.jsx(fe,{})})}),t.jsx(D,{overlay:t.jsxs(T,{children:[t.jsx(T.Item,{icon:t.jsx(Ye,{}),children:"Schedule"},"1"),t.jsx(T.Item,{icon:t.jsx(Ge,{}),children:"Email"},"2"),t.jsx(T.Item,{icon:t.jsx($e,{}),children:"Print"},"3"),t.jsx(T.Item,{icon:t.jsx(Ue,{}),children:"Share"},"4")]}),children:t.jsx(p,{type:"text",icon:t.jsx(Ne,{})})})]})}];return t.jsx("div",{className:"report-center-container",style:{padding:"24px"},children:t.jsxs(c,{children:[t.jsxs(d,{justify:"space-between",align:"middle",style:{marginBottom:16},children:[t.jsxs(h,{children:[t.jsxs(Is,{level:2,children:[t.jsx(We,{})," Report Center"]}),t.jsx(Ps,{children:"Access, generate, and schedule all system reports"})]}),t.jsx(h,{children:t.jsxs(m,{children:[t.jsx(p,{type:"primary",icon:t.jsx(ve,{}),children:"Generate New Report"}),t.jsx(Ms,{value:f,onChange:b})]})})]}),t.jsxs(k,{activeKey:n,onChange:s,children:[t.jsx(Ds,{tab:t.jsxs("span",{children:[t.jsx(We,{})," All Reports"]}),children:t.jsx(d,{gutter:[16,16],children:t.jsxs(h,{span:24,children:[t.jsx(w,{message:"Report Management",description:"Browse, search, and manage all system reports. Use the filters to quickly find specific reports.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsxs(d,{gutter:16,style:{marginBottom:16},children:[t.jsx(h,{flex:"auto",children:t.jsx(P.Search,{placeholder:"Search reports by name or description",value:a,onChange:e=>i(e.target.value),style:{width:"100%"}})}),t.jsx(h,{children:t.jsx(x,{placeholder:"Category",style:{width:150},value:r,onChange:l,allowClear:!0,children:Rs.map(e=>t.jsx(As,{value:e.key,children:t.jsxs(m,{children:[e.icon,e.name]})},e.key))})}),t.jsx(h,{children:t.jsxs(x,{placeholder:"Format",style:{width:120},value:o,onChange:u,allowClear:!0,children:[t.jsx(As,{value:"pdf",children:"PDF"}),t.jsx(As,{value:"excel",children:"Excel"}),t.jsx(As,{value:"csv",children:"CSV"})]})}),t.jsx(h,{children:t.jsx(p,{icon:t.jsx(De,{}),onClick:()=>{i(""),l(null),u(null),b([Ht().subtract(30,"days"),Ht()])},children:"Reset"})})]}),t.jsx(y,{columns:N,dataSource:A,rowKey:"id",pagination:{pageSize:10}})]})})},"1"),t.jsxs(Ds,{tab:t.jsxs("span",{children:[t.jsx(He,{})," Favorites"]}),children:[t.jsx(w,{message:"Favorite Reports",description:"Quick access to your starred reports. Star any report to add it to this list.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsx(y,{columns:N,dataSource:A.filter((e,t)=>C[t]),rowKey:"id",pagination:{pageSize:10}})]},"2"),t.jsxs(Ds,{tab:t.jsxs("span",{children:[t.jsx(ge,{})," Scheduled"]}),children:[t.jsx(w,{message:"Scheduled Reports",description:"View and manage automatically generated reports based on your defined schedules.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsx(g,{itemLayout:"horizontal",dataSource:Fs,renderItem:e=>t.jsx(g.Item,{actions:[t.jsx(p,{type:"link",icon:t.jsx(EditOutlined,{}),children:"Edit"}),t.jsx(p,{type:"link",danger:!0,icon:t.jsx(DeleteOutlined,{}),children:"Cancel"})],children:t.jsx(g.Item.Meta,{avatar:t.jsx(R,{icon:t.jsx(Ye,{}),style:{backgroundColor:"#1890ff"}}),title:e.name,description:t.jsxs(t.Fragment,{children:[t.jsxs(m,{children:[t.jsx(Xe,{})," Next run: ",e.nextRun]}),t.jsx("br",{}),t.jsxs(m,{children:[t.jsx(Qe,{})," Frequency: ",e.frequency]}),t.jsx("br",{}),t.jsxs(m,{children:[t.jsx(Ge,{})," Recipients: ",e.recipients.join(", ")]})]})})})})]},"3"),t.jsxs(Ds,{tab:t.jsxs("span",{children:[t.jsx(Qe,{})," Recent"]}),children:[t.jsx(w,{message:"Recently Viewed Reports",description:"Quick access to reports you've recently viewed or generated.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsx(g,{itemLayout:"horizontal",dataSource:Ns,renderItem:e=>t.jsx(g.Item,{actions:[t.jsx(p,{type:"text",icon:t.jsx(ne,{}),children:"View"}),t.jsx(p,{type:"text",icon:t.jsx(fe,{}),children:"Download"})],children:t.jsx(g.Item.Meta,{avatar:t.jsx(R,{icon:t.jsx(We,{}),style:{backgroundColor:M(e.category)}}),title:e.name,description:t.jsxs(Ts,{type:"secondary",children:[t.jsx(ge,{})," Viewed on ",e.viewedAt]})})})})]},"4")]})]})})}},Symbol.toStringTag,{value:"Module"})),{Title:Os,Text:Vs,Paragraph:Es}=u,{TabPane:Ls}=k,{Option:zs}=x,{RangePicker:qs}=f,Ks=[{id:1,name:"Sales Summary",description:"Overview of sales performance with key metrics",category:"Sales",fields:["date","product","quantity","revenue","profit"],thumbnail:"sales-summary.png"},{id:2,name:"Inventory Status",description:"Current inventory levels and stock movements",category:"Inventory",fields:["sku","product","stock","reorder_level","last_restock"],thumbnail:"inventory-status.png"},{id:3,name:"Customer Insights",description:"Customer demographics and purchase patterns",category:"Customer",fields:["customer","segment","total_spent","orders","last_purchase"],thumbnail:"customer-insights.png"},{id:4,name:"Staff Performance",description:"Employee sales and productivity metrics",category:"Staff",fields:["staff","sales","customers","average_sale","commission"],thumbnail:"staff-performance.png"},{id:5,name:"Financial Statement",description:"Income, expenses, and profit breakdown",category:"Financial",fields:["date","revenue","cogs","expenses","profit"],thumbnail:"financial-statement.png"}],$s=[{id:1,name:"Monthly Sales by Category",type:"Sales",created:"2023-08-15",lastRun:"2023-10-01",schedule:"Monthly",creator:"admin@truongphat.com"},{id:2,name:"Low Stock Products Alert",type:"Inventory",created:"2023-07-22",lastRun:"2023-10-05",schedule:"Weekly",creator:"admin@truongphat.com"},{id:3,name:"Top Customers by Revenue",type:"Customer",created:"2023-09-10",lastRun:"2023-10-01",schedule:"Monthly",creator:"admin@truongphat.com"},{id:4,name:"Staff Commission Report",type:"Staff",created:"2023-06-05",lastRun:"2023-09-30",schedule:"Monthly",creator:"admin@truongphat.com"},{id:5,name:"Quarterly Profit Analysis",type:"Financial",created:"2023-04-01",lastRun:"2023-07-01",schedule:"Quarterly",creator:"admin@truongphat.com"}],Hs={Sales:[{id:"date",name:"Date",type:"date"},{id:"product",name:"Product",type:"string"},{id:"category",name:"Category",type:"string"},{id:"quantity",name:"Quantity",type:"number"},{id:"unit_price",name:"Unit Price",type:"currency"},{id:"total",name:"Total",type:"currency"},{id:"discount",name:"Discount",type:"currency"},{id:"payment_method",name:"Payment Method",type:"string"},{id:"staff",name:"Staff Member",type:"string"},{id:"customer",name:"Customer",type:"string"}],Inventory:[{id:"sku",name:"SKU",type:"string"},{id:"product",name:"Product Name",type:"string"},{id:"category",name:"Category",type:"string"},{id:"stock_level",name:"Stock Level",type:"number"},{id:"reorder_point",name:"Reorder Point",type:"number"},{id:"cost",name:"Cost",type:"currency"},{id:"supplier",name:"Supplier",type:"string"},{id:"last_restock",name:"Last Restock Date",type:"date"},{id:"location",name:"Storage Location",type:"string"},{id:"status",name:"Status",type:"string"}],Customer:[{id:"name",name:"Customer Name",type:"string"},{id:"email",name:"Email",type:"string"},{id:"phone",name:"Phone",type:"string"},{id:"segment",name:"Segment",type:"string"},{id:"total_orders",name:"Total Orders",type:"number"},{id:"total_spent",name:"Total Spent",type:"currency"},{id:"last_purchase",name:"Last Purchase Date",type:"date"},{id:"loyalty_points",name:"Loyalty Points",type:"number"},{id:"acquisition",name:"Acquisition Source",type:"string"},{id:"city",name:"City",type:"string"}],Financial:[{id:"date",name:"Date",type:"date"},{id:"revenue",name:"Revenue",type:"currency"},{id:"cost_of_goods",name:"Cost of Goods",type:"currency"},{id:"gross_profit",name:"Gross Profit",type:"currency"},{id:"expenses",name:"Expenses",type:"currency"},{id:"net_profit",name:"Net Profit",type:"currency"},{id:"tax",name:"Tax",type:"currency"},{id:"category",name:"Category",type:"string"},{id:"department",name:"Department",type:"string"},{id:"payment_status",name:"Payment Status",type:"string"}]},Ys=({field:e,onRemove:n})=>{const[{isDragging:s},a]=r(()=>({type:"FIELD",item:{field:e},collect:e=>({isDragging:!!e.isDragging()})}));return t.jsxs("div",{ref:a,style:{opacity:s?.5:1,cursor:"move",padding:"8px 12px",marginBottom:"8px",borderRadius:"4px",backgroundColor:"#f5f5f5",border:"1px solid #e8e8e8",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{children:[t.jsx(Ze,{style:{marginRight:"8px",color:"#999"}}),t.jsx(Vs,{children:e.name}),t.jsx(v,{size:"small",style:{marginLeft:"8px"},children:e.type})]}),n&&t.jsx(p,{type:"text",size:"small",danger:!0,icon:t.jsx(Te,{}),onClick:()=>n(e)})]})},Gs=({fields:e,onDrop:n,onRemove:s})=>{const[{isOver:a},i]=l(()=>({accept:"FIELD",drop:e=>n(e.field),collect:e=>({isOver:!!e.isOver()})}));return t.jsx("div",{ref:i,style:{minHeight:"200px",padding:"16px",backgroundColor:a?"#f0f5ff":"#fafafa",border:"1px dashed #d9d9d9",borderRadius:"4px",transition:"all 0.3s"},children:0===e.length?t.jsx(L,{description:"Drop fields here to add them to your report"}):e.map((e,n)=>t.jsx(Ys,{field:e,onRemove:s},`${e.id}-${n}`))})},Us=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState("saved"),[r,l]=e.useState(0),[o,u]=e.useState("Sales"),[b,w]=e.useState([]),[I,T]=e.useState(""),[D,A]=e.useState(""),[R,N]=e.useState([]),F=()=>{M.success(`Report "${I}" has been saved`),s("saved"),B()},B=()=>{l(0),T(""),A(""),u("Sales"),w([]),N([])},O=[{title:"Select Fields",content:t.jsx(a,{backend:i,children:t.jsxs(d,{gutter:24,children:[t.jsxs(h,{span:12,children:[t.jsx(Os,{level:5,children:"Available Fields"}),t.jsx("div",{style:{marginBottom:"16px"},children:t.jsxs(x,{value:o,style:{width:"100%"},onChange:e=>{u(e),w([])},children:[t.jsx(zs,{value:"Sales",children:"Sales Data"}),t.jsx(zs,{value:"Inventory",children:"Inventory Data"}),t.jsx(zs,{value:"Customer",children:"Customer Data"}),t.jsx(zs,{value:"Financial",children:"Financial Data"})]})}),t.jsx("div",{style:{maxHeight:"400px",overflowY:"auto",padding:"8px 0"},children:Hs[o]?.map(e=>t.jsx(Ys,{field:e},e.id))})]}),t.jsxs(h,{span:12,children:[t.jsx(Os,{level:5,children:"Selected Fields"}),t.jsx(Es,{type:"secondary",children:"Drag fields from the left panel. Reorder fields by dragging."}),t.jsx(Gs,{fields:b,onDrop:e=>{b.some(t=>t.id===e.id)||w([...b,e])},onRemove:e=>{w(b.filter(t=>t.id!==e.id))}})]})]})})},{title:"Configure Options",content:t.jsxs(_,{layout:"vertical",children:[t.jsxs(d,{gutter:24,children:[t.jsxs(h,{span:12,children:[t.jsx(_.Item,{label:"Report Name",required:!0,tooltip:"A descriptive name for your report",children:t.jsx(P,{value:I,onChange:e=>T(e.target.value),placeholder:"Enter report name"})}),t.jsx(_.Item,{label:"Description",tooltip:"Brief description of what this report shows",children:t.jsx(P.TextArea,{value:D,onChange:e=>A(e.target.value),placeholder:"Enter report description",rows:4})})]}),t.jsxs(h,{span:12,children:[t.jsx(_.Item,{label:"Date Range",tooltip:"Default date range for this report",children:t.jsx(qs,{style:{width:"100%"},value:R,onChange:N})}),t.jsx(_.Item,{label:"Sort By",children:t.jsx(x,{placeholder:"Select field to sort by",children:b.map(e=>t.jsx(zs,{value:e.id,children:e.name},e.id))})}),t.jsx(_.Item,{label:"Sort Direction",children:t.jsxs(G.Group,{defaultValue:"desc",children:[t.jsx(G,{value:"asc",children:"Ascending"}),t.jsx(G,{value:"desc",children:"Descending"})]})})]})]}),t.jsx(C,{}),t.jsx(_.Item,{label:"Filters",tooltip:"Add conditions to filter your report data",children:t.jsx(p,{type:"dashed",icon:t.jsx(Ae,{}),style:{width:"100%"},children:"Add Filter"})}),t.jsx(_.Item,{label:"Grouping",tooltip:"Group your results by specific fields",children:t.jsx(x,{mode:"multiple",placeholder:"Select fields to group by",style:{width:"100%"},children:b.map(e=>t.jsx(zs,{value:e.id,children:e.name},e.id))})})]})},{title:"Schedule & Share",content:t.jsxs(_,{layout:"vertical",children:[t.jsxs(d,{gutter:24,children:[t.jsxs(h,{span:12,children:[t.jsx(_.Item,{label:"Schedule Report",tooltip:"Set up automatic report generation",children:t.jsxs(x,{defaultValue:"none",children:[t.jsx(zs,{value:"none",children:"No Schedule (Run Manually)"}),t.jsx(zs,{value:"daily",children:"Daily"}),t.jsx(zs,{value:"weekly",children:"Weekly"}),t.jsx(zs,{value:"monthly",children:"Monthly"}),t.jsx(zs,{value:"quarterly",children:"Quarterly"})]})}),t.jsx(_.Item,{label:"Run Time",tooltip:"When should the report be generated",children:t.jsx(f,{picker:"time",format:"HH:mm",style:{width:"100%"}})})]}),t.jsxs(h,{span:12,children:[t.jsx(_.Item,{label:"Recipients",tooltip:"Who should receive this report",children:t.jsxs(x,{mode:"multiple",placeholder:"Select recipients",style:{width:"100%"},children:[t.jsx(zs,{value:"admin@truongphat.com",children:"Admin"}),t.jsx(zs,{value:"manager@truongphat.com",children:"Store Manager"}),t.jsx(zs,{value:"inventory@truongphat.com",children:"Inventory Team"}),t.jsx(zs,{value:"sales@truongphat.com",children:"Sales Team"})]})}),t.jsx(_.Item,{label:"Export Format",children:t.jsxs(G.Group,{defaultValue:"pdf",children:[t.jsx(G.Button,{value:"pdf",children:"PDF"}),t.jsx(G.Button,{value:"excel",children:"Excel"}),t.jsx(G.Button,{value:"csv",children:"CSV"}),t.jsx(G.Button,{value:"html",children:"HTML"})]})})]})]}),t.jsx(C,{}),t.jsx(_.Item,{label:"Advanced Options",children:t.jsx(U.Group,{style:{width:"100%"},children:t.jsxs(d,{children:[t.jsx(h,{span:12,children:t.jsx(U,{value:"includeCharts",children:"Include Charts"})}),t.jsx(h,{span:12,children:t.jsx(U,{value:"includeFooter",children:"Include Footer Summary"})}),t.jsx(h,{span:12,children:t.jsx(U,{value:"compress",children:"Compress Output"})}),t.jsx(h,{span:12,children:t.jsx(U,{value:"storeHistory",children:"Store Report History"})})]})})})]})}],V=()=>{l(r+1)},E=()=>{l(r-1)},L=[{title:"Report Name",dataIndex:"name",key:"name",render:e=>t.jsx("a",{children:e})},{title:"Type",dataIndex:"type",key:"type",render:e=>t.jsx(v,{color:{Sales:"blue",Inventory:"green",Customer:"purple",Staff:"orange",Financial:"red"}[e],children:e})},{title:"Created",dataIndex:"created",key:"created"},{title:"Last Run",dataIndex:"lastRun",key:"lastRun"},{title:"Schedule",dataIndex:"schedule",key:"schedule",render:e=>e?t.jsx(j,{status:"processing",text:e}):"Manual"},{title:"Actions",key:"actions",render:(e,n)=>t.jsxs(m,{size:"small",children:[t.jsx(S,{title:"Run Now",children:t.jsx(p,{icon:t.jsx(Ye,{}),size:"small",onClick:()=>(n.id,void M.success("Report is running. It will be available shortly."))})}),t.jsx(S,{title:"Edit",children:t.jsx(p,{icon:t.jsx(_e,{}),size:"small"})}),t.jsx(S,{title:"Download",children:t.jsx(p,{icon:t.jsx(fe,{}),size:"small"})}),t.jsx(S,{title:"Delete",children:t.jsx(q,{title:"Are you sure you want to delete this report?",onConfirm:()=>(n.id,void M.success("Report deleted successfully")),okText:"Yes",cancelText:"No",children:t.jsx(p,{danger:!0,icon:t.jsx(Te,{}),size:"small"})})})]})}];return t.jsxs("div",{style:{padding:"24px"},children:[t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:t.jsxs(Os,{level:2,children:[t.jsx(We,{})," Custom Reports"]})}),t.jsxs(k,{activeKey:n,onChange:e=>{s(e)},children:[t.jsx(Ls,{tab:t.jsxs("span",{children:[t.jsx(Je,{})," Saved Reports"]}),children:t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsxs(m,{children:[t.jsx(P.Search,{placeholder:"Search reports",style:{width:"250px"}}),t.jsxs(x,{defaultValue:"all",style:{width:"150px"},children:[t.jsx(zs,{value:"all",children:"All Types"}),t.jsx(zs,{value:"Sales",children:"Sales"}),t.jsx(zs,{value:"Inventory",children:"Inventory"}),t.jsx(zs,{value:"Customer",children:"Customer"}),t.jsx(zs,{value:"Staff",children:"Staff"}),t.jsx(zs,{value:"Financial",children:"Financial"})]})]}),t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>{s("create"),B()},children:"Create New Report"})]}),t.jsx(y,{columns:L,dataSource:$s,rowKey:"id",pagination:{pageSize:10}})]})},"saved"),t.jsx(Ls,{tab:t.jsxs("span",{children:[t.jsx(he,{})," Templates"]}),children:t.jsxs("div",{children:[t.jsx("div",{style:{marginBottom:"24px"},children:t.jsx(P.Search,{placeholder:"Search templates",style:{width:"250px"}})}),t.jsx(g,{grid:{gutter:16,xs:1,sm:2,md:2,lg:3,xl:3,xxl:4},dataSource:Ks,renderItem:e=>t.jsx(g.Item,{children:t.jsx(c,{hoverable:!0,style:{height:"100%"},cover:t.jsx("div",{style:{height:"120px",display:"flex",justifyContent:"center",alignItems:"center",background:"#f0f2f5"},children:t.jsx(We,{style:{fontSize:"48px",opacity:.5}})}),actions:[t.jsx(S,{title:"Preview",children:t.jsx(ne,{},"view")}),t.jsx(S,{title:"Use Template",children:t.jsx(p,{type:"link",icon:t.jsx(Ae,{}),onClick:()=>(e=>{u(e.category),T(`${e.name} Copy`),A(e.description);const t=e.fields.map(t=>Hs[e.category].find(e=>e.id===t)).filter(Boolean);w(t),s("create"),l(1)})(e),children:"Use"})})],children:t.jsx(c.Meta,{title:e.name,description:t.jsxs("div",{children:[t.jsx(v,{color:"blue",style:{marginBottom:"8px"},children:e.category}),t.jsx("div",{children:e.description})]})})})})})]})},"templates"),t.jsx(Ls,{tab:t.jsxs("span",{children:[t.jsx(Qe,{})," Report History"]}),children:t.jsxs("div",{children:[t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:t.jsxs(m,{children:[t.jsx(P.Search,{placeholder:"Search history",style:{width:"250px"}}),t.jsx(qs,{})]})}),t.jsx(y,{columns:[{title:"Report",dataIndex:"name",key:"name"},{title:"Generated",dataIndex:"generated",key:"generated",render:e=>t.jsxs(m,{children:[t.jsx(ge,{})," ",e]})},{title:"By",dataIndex:"user",key:"user"},{title:"Size",dataIndex:"size",key:"size"},{title:"Actions",key:"actions",render:()=>t.jsxs(m,{children:[t.jsx(p,{icon:t.jsx(fe,{}),size:"small",children:"Download"}),t.jsx(p,{icon:t.jsx(Ue,{}),size:"small",children:"Share"})]})}],dataSource:[{id:1,name:"Monthly Sales by Category",generated:"2023-10-01 08:00",user:"System (Scheduled)",size:"2.4 MB"},{id:2,name:"Low Stock Products Alert",generated:"2023-10-05 09:15",user:"System (Scheduled)",size:"1.8 MB"},{id:3,name:"Top Customers by Revenue",generated:"2023-10-01 08:30",user:"System (Scheduled)",size:"3.2 MB"},{id:4,name:"Custom Sales Report",generated:"2023-10-03 14:22",user:"admin@truongphat.com",size:"1.5 MB"},{id:5,name:"Weekly Inventory Summary",generated:"2023-09-28 08:00",user:"System (Scheduled)",size:"4.7 MB"}],rowKey:"id",pagination:{pageSize:10}})]})},"history"),"create"===n&&t.jsx(Ls,{tab:t.jsxs("span",{children:[t.jsx(Ae,{})," Create Report"]}),children:t.jsxs(c,{children:[t.jsx(Y,{current:r,style:{marginBottom:24},children:O.map(e=>t.jsx(Y.Step,{title:e.title},e.title))}),t.jsx("div",{style:{marginBottom:24,minHeight:"400px"},children:O[r].content}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("div",{children:r>0&&t.jsx(p,{style:{marginRight:8},onClick:E,children:"Previous"})}),t.jsxs("div",{children:[t.jsx(p,{style:{marginRight:8},onClick:()=>s("saved"),children:"Cancel"}),r<O.length-1&&t.jsx(p,{type:"primary",onClick:V,children:"Next"}),r===O.length-1&&t.jsx(p,{type:"primary",icon:t.jsx(Be,{}),onClick:F,disabled:!I,children:"Save Report"})]})]})]})},"create")]})]})}},Symbol.toStringTag,{value:"Module"})),{Title:Ws,Text:Xs,Paragraph:Qs}=u,{RangePicker:Js}=f,{TabPane:Zs}=k,{Option:ea}=x,ta=[{month:"Jan",inStore:45,online:30,marketplace:15,social:10},{month:"Feb",inStore:42,online:33,marketplace:16,social:9},{month:"Mar",inStore:40,online:35,marketplace:16,social:9},{month:"Apr",inStore:38,online:37,marketplace:17,social:8},{month:"May",inStore:35,online:39,marketplace:18,social:8},{month:"Jun",inStore:33,online:41,marketplace:18,social:8},{month:"Jul",inStore:32,online:42,marketplace:19,social:7},{month:"Aug",inStore:30,online:44,marketplace:19,social:7},{month:"Sep",inStore:29,online:45,marketplace:20,social:6},{month:"Oct",inStore:28,online:46,marketplace:20,social:6},{month:"Nov",inStore:26,online:48,marketplace:21,social:5},{month:"Dec",inStore:25,online:49,marketplace:21,social:5}],na=[{name:"Shopee",value:45,growth:12},{name:"Lazada",value:28,growth:8},{name:"Tiki",value:15,growth:5},{name:"Sendo",value:12,growth:-3}],sa=[{name:"Desktop",value:38},{name:"Mobile",value:52},{name:"Tablet",value:10}],aa=["#0088FE","#00C49F","#FFBB28","#FF8042","#A28EFF"],ia=[{channel:"In-Store",icon:t.jsx(tt,{}),revenue:425e6,orders:1250,avgOrder:34e4,conversion:null,growth:-8.3,color:"#0088FE"},{channel:"Web Store",icon:t.jsx(nt,{}),revenue:39e7,orders:2100,avgOrder:185714,conversion:2.8,growth:15.2,color:"#00C49F"},{channel:"Mobile App",icon:t.jsx(st,{}),revenue:18e7,orders:950,avgOrder:189473,conversion:3.2,growth:23.5,color:"#FFBB28"},{channel:"Shopee",icon:t.jsx(oe,{}),revenue:145e6,orders:720,avgOrder:201388,conversion:4.5,growth:12.7,color:"#FF8042"},{channel:"Lazada",icon:t.jsx(oe,{}),revenue:89e6,orders:430,avgOrder:206976,conversion:3.8,growth:8.3,color:"#A28EFF"}],ra=[{id:1,name:"Asus TUF Gaming A15",inStore:45,webStore:30,mobileApp:10,marketplaces:15,total:100},{id:2,name:"Logitech G Pro X Keyboard",inStore:30,webStore:40,mobileApp:15,marketplaces:15,total:100},{id:3,name:"AMD Ryzen 9 5900X",inStore:25,webStore:45,mobileApp:20,marketplaces:10,total:100},{id:4,name:'Samsung Odyssey G7 32"',inStore:40,webStore:25,mobileApp:5,marketplaces:30,total:100},{id:5,name:"WD Black SN850 1TB NVMe",inStore:15,webStore:35,mobileApp:15,marketplaces:35,total:100}],la=[{stage:"First Touch",inStore:25,webStore:45,mobileApp:15,marketplaces:15},{stage:"Research",inStore:15,webStore:55,mobileApp:20,marketplaces:10},{stage:"Consideration",inStore:35,webStore:30,mobileApp:20,marketplaces:15},{stage:"Purchase",inStore:40,webStore:30,mobileApp:15,marketplaces:15},{stage:"Support",inStore:50,webStore:25,mobileApp:15,marketplaces:10},{stage:"Repeat Purchase",inStore:45,webStore:25,mobileApp:20,marketplaces:10}],oa=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState([]),[a,i]=e.useState(!1),[r,l]=e.useState("line"),[o,u]=e.useState("revenue"),f=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(e),S=[{title:"Channel",dataIndex:"channel",key:"channel",render:(e,n)=>t.jsxs(m,{children:[t.jsx(R,{icon:n.icon,style:{backgroundColor:n.color},size:"small"}),e]})},{title:"Revenue",dataIndex:"revenue",key:"revenue",render:e=>f(e),sorter:(e,t)=>e.revenue-t.revenue},{title:"Orders",dataIndex:"orders",key:"orders",sorter:(e,t)=>e.orders-t.orders},{title:"Avg. Order Value",dataIndex:"avgOrder",key:"avgOrder",render:e=>f(e),sorter:(e,t)=>e.avgOrder-t.avgOrder},{title:"Conversion Rate",dataIndex:"conversion",key:"conversion",render:e=>e?`${e}%`:"N/A"},{title:"Growth",dataIndex:"growth",key:"growth",render:e=>e>0?t.jsxs(Xs,{type:"success",children:[t.jsx(ie,{})," ",e,"%"]}):t.jsxs(Xs,{type:"danger",children:[t.jsx(re,{})," ",Math.abs(e),"%"]}),sorter:(e,t)=>e.growth-t.growth}],C=[{title:"Product",dataIndex:"name",key:"name"},{title:"In-Store",dataIndex:"inStore",key:"inStore",render:e=>`${e}%`},{title:"Web Store",dataIndex:"webStore",key:"webStore",render:e=>`${e}%`},{title:"Mobile App",dataIndex:"mobileApp",key:"mobileApp",render:e=>`${e}%`},{title:"Marketplaces",dataIndex:"marketplaces",key:"marketplaces",render:e=>`${e}%`},{title:"Distribution",key:"distribution",render:(e,n)=>t.jsxs("div",{style:{width:"100%",display:"flex",height:"20px"},children:[t.jsx("div",{style:{width:`${n.inStore}%`,backgroundColor:"#0088FE"}}),t.jsx("div",{style:{width:`${n.webStore}%`,backgroundColor:"#00C49F"}}),t.jsx("div",{style:{width:`${n.mobileApp}%`,backgroundColor:"#FFBB28"}}),t.jsx("div",{style:{width:`${n.marketplaces}%`,backgroundColor:"#FF8042"}})]})}];return t.jsx("div",{style:{padding:"24px"},children:t.jsxs(c,{bordered:!1,style:{marginBottom:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsxs("div",{children:[t.jsxs(Ws,{level:2,style:{margin:0},children:[t.jsx(et,{})," Omnichannel Analytics"]}),t.jsx(Xs,{type:"secondary",children:"Sales performance analysis across all channels"})]}),t.jsxs(m,{children:[t.jsx(Js,{onChange:s,allowClear:!1,placeholder:["Start Date","End Date"]}),t.jsx(p,{icon:t.jsx(Le,{}),onClick:()=>{i(!0),setTimeout(()=>{i(!1)},1500)},loading:a,children:"Refresh"}),t.jsx(p,{icon:t.jsx(fe,{}),children:"Export"})]})]}),t.jsxs(d,{gutter:16,style:{marginBottom:"24px"},children:[t.jsx(h,{span:6,children:t.jsxs(c,{children:[t.jsx(b,{title:t.jsxs(m,{children:[t.jsx(oe,{})," Total Orders"]}),value:5450,valueStyle:{color:"#1890ff"}}),t.jsx("div",{style:{marginTop:"10px"},children:t.jsx(Xs,{type:"success",children:"+8.3% vs previous period"})})]})}),t.jsx(h,{span:6,children:t.jsxs(c,{children:[t.jsx(b,{title:t.jsxs(m,{children:[t.jsx(me,{})," Total Revenue"]}),value:"1.23T",suffix:"₫",valueStyle:{color:"#3f8600"}}),t.jsx("div",{style:{marginTop:"10px"},children:t.jsx(Xs,{type:"success",children:"+12.7% vs previous period"})})]})}),t.jsx(h,{span:6,children:t.jsxs(c,{children:[t.jsx(b,{title:t.jsxs(m,{children:[t.jsx(de,{})," New Customers"]}),value:845,valueStyle:{color:"#722ed1"}}),t.jsx("div",{style:{marginTop:"10px"},children:t.jsx(Xs,{type:"success",children:"+15.2% vs previous period"})})]})}),t.jsx(h,{span:6,children:t.jsxs(c,{children:[t.jsx(b,{title:t.jsxs(m,{children:[t.jsx(tt,{})," Channel Reach"]}),value:12,valueStyle:{color:"#fa8c16"}}),t.jsx("div",{style:{marginTop:"10px"},children:t.jsx(j,{status:"processing",text:"2 new channels added"})})]})})]}),t.jsxs(k,{defaultActiveKey:"overview",children:[t.jsxs(Zs,{tab:t.jsxs("span",{children:[t.jsx(se,{})," Channel Overview"]}),children:[t.jsxs(c,{style:{marginBottom:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsx(Ws,{level:4,style:{margin:0},children:"Channel Performance Trend"}),t.jsxs(m,{children:[t.jsxs(G.Group,{value:o,onChange:e=>u(e.target.value),buttonStyle:"solid",children:[t.jsx(G.Button,{value:"revenue",children:"Revenue"}),t.jsx(G.Button,{value:"orders",children:"Orders"}),t.jsx(G.Button,{value:"customers",children:"Customers"})]}),t.jsx(W,{options:[{value:"line",icon:t.jsx(se,{})},{value:"bar",icon:t.jsx(ve,{})},{value:"area",icon:t.jsx(AreaChartOutlined,{})}],value:r,onChange:l})]})]}),t.jsx(Yt,{width:"100%",height:300,children:"line"===r?t.jsxs(nn,{data:ta,children:[t.jsx(Ut,{strokeDasharray:"3 3"}),t.jsx(Wt,{dataKey:"month"}),t.jsx(Xt,{}),t.jsx(Qt,{}),t.jsx(Jt,{}),t.jsx(en,{type:"monotone",dataKey:"inStore",name:"In-Store",stroke:"#0088FE"}),t.jsx(en,{type:"monotone",dataKey:"online",name:"Online",stroke:"#00C49F"}),t.jsx(en,{type:"monotone",dataKey:"marketplace",name:"Marketplaces",stroke:"#FFBB28"}),t.jsx(en,{type:"monotone",dataKey:"social",name:"Social Commerce",stroke:"#FF8042"})]}):"bar"===r?t.jsxs(tn,{data:ta,children:[t.jsx(Ut,{strokeDasharray:"3 3"}),t.jsx(Wt,{dataKey:"month"}),t.jsx(Xt,{}),t.jsx(Qt,{}),t.jsx(Jt,{}),t.jsx(Zt,{dataKey:"inStore",name:"In-Store",fill:"#0088FE"}),t.jsx(Zt,{dataKey:"online",name:"Online",fill:"#00C49F"}),t.jsx(Zt,{dataKey:"marketplace",name:"Marketplaces",fill:"#FFBB28"}),t.jsx(Zt,{dataKey:"social",name:"Social Commerce",fill:"#FF8042"})]}):t.jsxs(Gt,{data:ta,children:[t.jsx(Ut,{strokeDasharray:"3 3"}),t.jsx(Wt,{dataKey:"month"}),t.jsx(Xt,{}),t.jsx(Qt,{}),t.jsx(Jt,{}),t.jsx(sn,{type:"monotone",dataKey:"inStore",name:"In-Store",fill:"#0088FE",fillOpacity:.3,stroke:"#0088FE"}),t.jsx(sn,{type:"monotone",dataKey:"online",name:"Online",fill:"#00C49F",fillOpacity:.3,stroke:"#00C49F"}),t.jsx(sn,{type:"monotone",dataKey:"marketplace",name:"Marketplaces",fill:"#FFBB28",fillOpacity:.3,stroke:"#FFBB28"}),t.jsx(sn,{type:"monotone",dataKey:"social",name:"Social Commerce",fill:"#FF8042",fillOpacity:.3,stroke:"#FF8042"})]})})]}),t.jsx(y,{columns:S,dataSource:ia,pagination:!1,rowKey:"channel",style:{marginBottom:"24px"}}),t.jsxs(d,{gutter:24,children:[t.jsx(h,{span:12,children:t.jsxs(c,{style:{marginBottom:"24px"},children:[t.jsx(Ws,{level:4,children:"Marketplace Breakdown"}),t.jsxs("div",{style:{display:"flex"},children:[t.jsx("div",{style:{width:"50%",height:"250px"},children:t.jsx(Yt,{width:"100%",height:"100%",children:t.jsxs(an,{children:[t.jsx(rn,{data:na,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:e,percent:t})=>`${e}: ${(100*t).toFixed(1)}%`,children:na.map((e,n)=>t.jsx(ln,{fill:aa[n%aa.length]},`cell-${n}`))}),t.jsx(Qt,{})]})})}),t.jsx("div",{style:{width:"50%",padding:"0 16px"},children:t.jsx(g,{itemLayout:"horizontal",dataSource:na,renderItem:e=>t.jsx(g.Item,{children:t.jsx(g.Item.Meta,{avatar:t.jsx(j,{count:t.jsxs("div",{style:{backgroundColor:e.growth>0?"#52c41a":"#f5222d",height:"20px",width:"20px",lineHeight:"20px",borderRadius:"50%",color:"#fff",fontSize:"12px"},children:[e.growth>0?"+":"",e.growth]}),children:t.jsx(R,{style:{backgroundColor:aa[na.indexOf(e)%aa.length]}})}),title:e.name,description:`${e.value}% of marketplace sales`})})})})]})]})}),t.jsx(h,{span:12,children:t.jsxs(c,{style:{marginBottom:"24px"},children:[t.jsx(Ws,{level:4,children:"Online Device Distribution"}),t.jsxs("div",{style:{display:"flex"},children:[t.jsx("div",{style:{width:"50%",height:"250px"},children:t.jsx(Yt,{width:"100%",height:"100%",children:t.jsxs(an,{children:[t.jsx(rn,{data:sa,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:e,percent:t})=>`${e}: ${(100*t).toFixed(1)}%`,children:sa.map((e,n)=>t.jsx(ln,{fill:aa[n%aa.length]},`cell-${n}`))}),t.jsx(Qt,{})]})})}),t.jsxs("div",{style:{width:"50%",padding:"16px"},children:[t.jsxs(Qs,{children:[t.jsx(be,{})," Device distribution shows how customers access your online store."]}),t.jsxs("ul",{children:[t.jsx("li",{children:"Mobile: Dominant platform, focus on mobile-first design"}),t.jsx("li",{children:"Desktop: Higher conversion rate and order value"}),t.jsx("li",{children:"Tablet: Small but growing segment"})]}),t.jsx(p,{type:"link",style:{padding:0},children:"View detailed device analytics"})]})]})]})})]})]},"overview"),t.jsxs(Zs,{tab:t.jsxs("span",{children:[t.jsx(oe,{})," Cross-Channel Products"]}),children:[t.jsxs(c,{style:{marginBottom:"24px"},children:[t.jsx(w,{message:"Product Channel Performance",description:"See how products perform across different sales channels. Understanding channel-specific performance helps optimize product placement and marketing.",type:"info",showIcon:!0,style:{marginBottom:"24px"}}),t.jsx("div",{style:{marginBottom:"16px"},children:t.jsxs(m,{children:[t.jsxs(x,{defaultValue:"all",style:{width:200},children:[t.jsx(ea,{value:"all",children:"All Categories"}),t.jsx(ea,{value:"laptops",children:"Laptops"}),t.jsx(ea,{value:"components",children:"Components"}),t.jsx(ea,{value:"peripherals",children:"Peripherals"}),t.jsx(ea,{value:"monitors",children:"Monitors"})]}),t.jsxs(x,{defaultValue:"sales",style:{width:200},children:[t.jsx(ea,{value:"sales",children:"By Sales"}),t.jsx(ea,{value:"revenue",children:"By Revenue"}),t.jsx(ea,{value:"profit",children:"By Profit"})]})]})}),t.jsx(y,{columns:C,dataSource:ra,rowKey:"id",pagination:!1}),t.jsx("div",{style:{marginTop:"16px",display:"flex",justifyContent:"flex-end"},children:t.jsxs(m,{children:[t.jsx(Xs,{type:"secondary",children:"Legend:"}),t.jsx(v,{color:"#0088FE",children:"In-Store"}),t.jsx(v,{color:"#00C49F",children:"Web Store"}),t.jsx(v,{color:"#FFBB28",children:"Mobile App"}),t.jsx(v,{color:"#FF8042",children:"Marketplaces"})]})})]}),t.jsxs(c,{children:[t.jsx(Ws,{level:4,children:"Cross-Channel Performance Insights"}),t.jsxs(d,{gutter:24,children:[t.jsx(h,{span:8,children:t.jsxs(c,{title:"Channel Synergy",bordered:!1,children:[t.jsx(b,{title:"Omnichannel Customers",value:"38%",prefix:t.jsx(de,{})}),t.jsx(Qs,{style:{marginTop:"16px"},children:"Customers who shop across multiple channels spend 30% more than single-channel customers."})]})}),t.jsx(h,{span:8,children:t.jsxs(c,{title:"ROPO Effect",bordered:!1,children:[t.jsx(b,{title:"Research Online, Purchase Offline",value:"45%",prefix:t.jsx(nt,{})}),t.jsx(Qs,{style:{marginTop:"16px"},children:"Percentage of in-store customers who researched products online before visiting."})]})}),t.jsx(h,{span:8,children:t.jsxs(c,{title:"Showrooming",bordered:!1,children:[t.jsx(b,{title:"View In-Store, Buy Online",value:"28%",prefix:t.jsx(st,{})}),t.jsx(Qs,{style:{marginTop:"16px"},children:"Customers who view products in-store but make final purchase online."})]})})]})]})]},"products"),t.jsxs(Zs,{tab:t.jsxs("span",{children:[t.jsx(de,{})," Customer Journey"]}),children:[t.jsxs(c,{style:{marginBottom:"24px"},children:[t.jsx(Ws,{level:4,children:"Customer Journey Map"}),t.jsx(Qs,{children:"Track how customers interact with your brand across channels throughout their buying journey"}),t.jsx(Yt,{width:"100%",height:400,children:t.jsxs(tn,{data:la,layout:"vertical",barCategoryGap:10,children:[t.jsx(Ut,{strokeDasharray:"3 3"}),t.jsx(Wt,{type:"number"}),t.jsx(Xt,{dataKey:"stage",type:"category",width:120}),t.jsx(Qt,{}),t.jsx(Jt,{}),t.jsx(Zt,{dataKey:"inStore",name:"In-Store",stackId:"a",fill:"#0088FE"}),t.jsx(Zt,{dataKey:"webStore",name:"Web Store",stackId:"a",fill:"#00C49F"}),t.jsx(Zt,{dataKey:"mobileApp",name:"Mobile App",stackId:"a",fill:"#FFBB28"}),t.jsx(Zt,{dataKey:"marketplaces",name:"Marketplaces",stackId:"a",fill:"#FF8042"})]})}),t.jsxs("div",{style:{marginTop:"24px"},children:[t.jsx(Ws,{level:5,children:"Key Observations"}),t.jsxs(d,{gutter:24,children:[t.jsx(h,{span:8,children:t.jsxs(c,{size:"small",children:[t.jsx(Xs,{strong:!0,children:"First Touch"}),t.jsx(Qs,{children:"Web and marketplaces dominate initial discovery, focus digital marketing here."})]})}),t.jsx(h,{span:8,children:t.jsxs(c,{size:"small",children:[t.jsx(Xs,{strong:!0,children:"Research Phase"}),t.jsx(Qs,{children:"Heavy web usage - optimize product information and comparison tools."})]})}),t.jsx(h,{span:8,children:t.jsxs(c,{size:"small",children:[t.jsx(Xs,{strong:!0,children:"Purchase"}),t.jsx(Qs,{children:"In-store still leads final purchase - strong omnichannel approach is working."})]})})]})]})]}),t.jsxs(c,{children:[t.jsx(Ws,{level:4,children:"Channel Transition Analysis"}),t.jsx(Qs,{children:"How customers move between channels during their journey"}),t.jsxs(d,{gutter:24,style:{marginTop:"24px"},children:[t.jsx(h,{span:12,children:t.jsx(c,{title:"Most Common Paths",bordered:!1,children:t.jsx(g,{itemLayout:"horizontal",dataSource:[{path:"Online Research → In-Store Purchase",percentage:28,change:5},{path:"Social Media → Online Store → Purchase",percentage:22,change:12},{path:"In-Store Browse → Online Purchase",percentage:15,change:-3},{path:"Marketplace Browse → Website → Purchase",percentage:12,change:8},{path:"Mobile App Only",percentage:10,change:15}],renderItem:e=>t.jsxs(g.Item,{children:[t.jsx(g.Item.Meta,{title:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx(Xs,{children:e.path}),t.jsxs(Xs,{strong:!0,children:[e.percentage,"%"]})]})}),t.jsx("div",{children:e.change>0?t.jsxs(v,{color:"green",children:["+",e.change,"%"]}):t.jsxs(v,{color:"red",children:[e.change,"%"]})})]})})})}),t.jsx(h,{span:12,children:t.jsxs(c,{title:"Channel Stickiness",bordered:!1,children:[t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx(Xs,{children:"In-Store Retention"}),t.jsx(Xs,{children:"85%"})]}),t.jsx(I,{percent:85,status:"active"})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx(Xs,{children:"Web Store Retention"}),t.jsx(Xs,{children:"72%"})]}),t.jsx(I,{percent:72,status:"active"})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx(Xs,{children:"Mobile App Retention"}),t.jsx(Xs,{children:"68%"})]}),t.jsx(I,{percent:68,status:"active"})]}),t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx(Xs,{children:"Marketplace Retention"}),t.jsx(Xs,{children:"56%"})]}),t.jsx(I,{percent:56,status:"active"})]})]})})]})]})]},"journey")]})]})})}},Symbol.toStringTag,{value:"Module"})),{Title:ca,Text:da}=u,{RangePicker:ha}=f,{TabPane:ua}=k,{Option:ma}=x,xa=[{month:"Jan",revenue:30400,target:28e3,profit:12500},{month:"Feb",revenue:25300,target:25e3,profit:10200},{month:"Mar",revenue:31200,target:3e4,profit:13400},{month:"Apr",revenue:42100,target:32e3,profit:18500},{month:"May",revenue:37800,target:35e3,profit:16700},{month:"Jun",revenue:51900,target:4e4,profit:25800},{month:"Jul",revenue:48700,target:45e3,profit:22300},{month:"Aug",revenue:55300,target:48e3,profit:26900},{month:"Sep",revenue:62800,target:5e4,profit:31600},{month:"Oct",revenue:59400,target:52e3,profit:29100},{month:"Nov",revenue:68200,target:55e3,profit:34500},{month:"Dec",revenue:85600,target:6e4,profit:42900}],pa=[{name:"In-Store",value:54.8},{name:"Online",value:28.4},{name:"Wholesale",value:16.8}],ga=["#0088FE","#00C49F","#FFBB28","#FF8042","#A28EFF"],ja=[{name:"Laptops",value:38},{name:"Components",value:22},{name:"Accessories",value:18},{name:"Monitors",value:12},{name:"Peripherals",value:10}],ya=[{id:1,name:"Asus TUF Gaming A15",category:"Laptops",sku:"ASU-TUF-15-01",sales:125,revenue:3125e6,profit:625e6,margin:20,trend:"up"},{id:2,name:"Logitech G Pro X Keyboard",category:"Peripherals",sku:"LOG-PROX-KB-01",sales:214,revenue:642e6,profit:20544e4,margin:32,trend:"up"},{id:3,name:"AMD Ryzen 9 5900X",category:"Components",sku:"AMD-R9-5900X",sales:97,revenue:97e7,profit:2716e5,margin:28,trend:"down"},{id:4,name:'Samsung Odyssey G7 32"',category:"Monitors",sku:"SAM-ODY-G7-32",sales:76,revenue:988e6,profit:247e6,margin:25,trend:"up"},{id:5,name:"WD Black SN850 1TB NVMe",category:"Components",sku:"WD-BLK-SN850-1TB",sales:142,revenue:497e6,profit:174e6,margin:35,trend:"stable"}],va=[{segment:"VIP",customers:45,avgSpend:85e5,totalSpend:3825e5,retention:94,growth:12},{segment:"Regular",customers:267,avgSpend:32e5,totalSpend:8544e5,retention:78,growth:8},{segment:"Occasional",customers:583,avgSpend:145e4,totalSpend:84535e4,retention:42,growth:-3},{segment:"New",customers:129,avgSpend:21e5,totalSpend:2709e5,retention:null,growth:null}],fa=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState([Ht().subtract(30,"days"),Ht()]),[a,i]=e.useState("monthly"),[r,l]=e.useState("revenue"),[o,u]=e.useState(!1),g=e=>{message.success(`Exporting ${e} report`)},f=[{title:"Product",dataIndex:"name",key:"name",render:(e,n)=>t.jsxs("div",{children:[t.jsx("div",{children:e}),t.jsx(da,{type:"secondary",style:{fontSize:"12px"},children:n.sku})]})},{title:"Category",dataIndex:"category",key:"category"},{title:"Sales (units)",dataIndex:"sales",key:"sales",sorter:(e,t)=>e.sales-t.sales},{title:"Revenue",dataIndex:"revenue",key:"revenue",render:e=>`${(e/1e6).toFixed(1)}M ₫`,sorter:(e,t)=>e.revenue-t.revenue},{title:"Profit",dataIndex:"profit",key:"profit",render:e=>`${(e/1e6).toFixed(1)}M ₫`,sorter:(e,t)=>e.profit-t.profit},{title:"Margin",dataIndex:"margin",key:"margin",render:e=>`${e}%`,sorter:(e,t)=>e.margin-t.margin},{title:"Trend",dataIndex:"trend",key:"trend",render:e=>"up"===e?t.jsx(v,{color:"green",children:"↑"}):"down"===e?t.jsx(v,{color:"red",children:"↓"}):t.jsx(v,{color:"blue",children:"→"})}],S=[{title:"Segment",dataIndex:"segment",key:"segment",render:e=>t.jsx(v,{color:{VIP:"gold",Regular:"green",Occasional:"blue",New:"purple"}[e],children:e})},{title:"Customers",dataIndex:"customers",key:"customers",sorter:(e,t)=>e.customers-t.customers},{title:"Avg. Spend",dataIndex:"avgSpend",key:"avgSpend",render:e=>`${(e/1e6).toFixed(1)}M ₫`,sorter:(e,t)=>e.avgSpend-t.avgSpend},{title:"Total Spend",dataIndex:"totalSpend",key:"totalSpend",render:e=>`${(e/1e6).toFixed(1)}M ₫`,sorter:(e,t)=>e.totalSpend-t.totalSpend},{title:"Retention",dataIndex:"retention",key:"retention",render:e=>e?`${e}%`:"N/A",sorter:(e,t)=>(e.retention||0)-(t.retention||0)},{title:"Growth",dataIndex:"growth",key:"growth",render:e=>null===e?"N/A":e>0?t.jsxs(da,{type:"success",children:[e,"% ↑"]}):e<0?t.jsxs(da,{type:"danger",children:[Math.abs(e),"% ↓"]}):t.jsxs(da,{children:[e,"%"]}),sorter:(e,t)=>(e.growth||0)-(t.growth||0)}];return t.jsxs("div",{children:[t.jsx(on,{title:"Business Intelligence",subtitle:"Advanced analytics and business performance insights",icon:"chart",actions:[t.jsxs(x,{defaultValue:"vnd",style:{width:100},children:[t.jsx(ma,{value:"vnd",children:"VND (₫)"}),t.jsx(ma,{value:"usd",children:"USD ($)"})]},"currency"),t.jsx(ha,{value:n,onChange:s,allowClear:!1},"daterange"),t.jsx(p,{type:"primary",icon:t.jsx(fe,{}),onClick:()=>g("dashboard"),children:"Export"},"export"),t.jsx(p,{icon:t.jsx(Le,{}),onClick:()=>{u(!0),setTimeout(()=>{u(!1)},1500)},loading:o,children:"Refresh"},"refresh")]}),t.jsx("div",{style:{padding:"0 24px 24px"},children:t.jsxs(c,{bordered:!1,style:{marginBottom:"24px"},children:[t.jsx(w,{message:"Premium Analytics",description:"Upgrade to access advanced AI-powered insights, predictive analytics, and unlimited historical data.",type:"info",showIcon:!0,style:{marginBottom:"24px"},action:t.jsx(p,{size:"small",type:"primary",children:"Upgrade"})}),t.jsxs(d,{gutter:16,style:{marginBottom:"24px"},children:[t.jsx(h,{span:6,children:t.jsxs(c,{children:[t.jsx(b,{title:"Revenue",value:5987e5,precision:0,valueStyle:{color:"#3f8600"},prefix:t.jsx(me,{}),suffix:"₫",formatter:e=>`${(e/1e6).toFixed(1)}M`}),t.jsx("div",{style:{marginTop:"10px"},children:t.jsx(I,{percent:92,size:"small",status:"active",format:()=>"92% of target"})})]})}),t.jsx(h,{span:6,children:t.jsxs(c,{children:[t.jsx(b,{title:"Profit",value:2835e5,precision:0,valueStyle:{color:"#3f8600"},prefix:t.jsx(ie,{}),suffix:"₫",formatter:e=>`${(e/1e6).toFixed(1)}M`}),t.jsx("div",{style:{marginTop:"10px"},children:t.jsx(da,{type:"success",children:"+12.3% vs previous period"})})]})}),t.jsx(h,{span:6,children:t.jsxs(c,{children:[t.jsx(b,{title:"Orders",value:1458,precision:0,valueStyle:{color:"#1890ff"},prefix:t.jsx(oe,{})}),t.jsx("div",{style:{marginTop:"10px"},children:t.jsx(da,{type:"success",children:"+8.7% vs previous period"})})]})}),t.jsx(h,{span:6,children:t.jsxs(c,{children:[t.jsx(b,{title:"New Customers",value:129,precision:0,valueStyle:{color:"#722ed1"},prefix:t.jsx(de,{})}),t.jsx("div",{style:{marginTop:"10px"},children:t.jsx(da,{type:"success",children:"+15.2% vs previous period"})})]})})]}),t.jsxs(k,{defaultActiveKey:"performance",children:[t.jsxs(ua,{tab:t.jsxs("span",{children:[t.jsx(se,{})," Performance Metrics"]}),children:[t.jsxs(c,{style:{marginBottom:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsx(ca,{level:4,style:{margin:0},children:"Revenue Analysis"}),t.jsxs(m,{children:[t.jsxs(G.Group,{value:a,onChange:e=>i(e.target.value),children:[t.jsx(G.Button,{value:"daily",children:"Daily"}),t.jsx(G.Button,{value:"weekly",children:"Weekly"}),t.jsx(G.Button,{value:"monthly",children:"Monthly"}),t.jsx(G.Button,{value:"quarterly",children:"Quarterly"})]}),t.jsxs(x,{defaultValue:"revenue",style:{width:150},onChange:l,children:[t.jsx(ma,{value:"revenue",children:"Revenue"}),t.jsx(ma,{value:"profit",children:"Profit"}),t.jsx(ma,{value:"combined",children:"Combined"})]})]})]}),t.jsx(Yt,{width:"100%",height:300,children:"combined"===r?t.jsxs(tn,{data:xa,children:[t.jsx(Ut,{strokeDasharray:"3 3"}),t.jsx(Wt,{dataKey:"month"}),t.jsx(Xt,{yAxisId:"left"}),t.jsx(Xt,{yAxisId:"right",orientation:"right"}),t.jsx(Qt,{}),t.jsx(Jt,{}),t.jsx(Zt,{yAxisId:"left",dataKey:"revenue",name:"Revenue",fill:"#1890ff"}),t.jsx(Zt,{yAxisId:"right",dataKey:"profit",name:"Profit",fill:"#52c41a"})]}):t.jsxs(nn,{data:xa,children:[t.jsx(Ut,{strokeDasharray:"3 3"}),t.jsx(Wt,{dataKey:"month"}),t.jsx(Xt,{}),t.jsx(Qt,{}),t.jsx(Jt,{}),t.jsx(en,{type:"monotone",dataKey:r,stroke:"revenue"===r?"#1890ff":"#52c41a",activeDot:{r:8}}),t.jsx(en,{type:"monotone",dataKey:"target",stroke:"#ff7a45",strokeDasharray:"5 5"})]})})]}),t.jsxs(d,{gutter:24,children:[t.jsx(h,{span:12,children:t.jsxs(c,{style:{height:"100%"},children:[t.jsx(ca,{level:4,children:"Sales by Channel"}),t.jsx(Yt,{width:"100%",height:300,children:t.jsxs(an,{children:[t.jsx(rn,{data:pa,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:e,percent:t})=>`${e}: ${(100*t).toFixed(1)}%`,children:pa.map((e,n)=>t.jsx(ln,{fill:ga[n%ga.length]},`cell-${n}`))}),t.jsx(Qt,{})]})})]})}),t.jsx(h,{span:12,children:t.jsxs(c,{style:{height:"100%"},children:[t.jsx(ca,{level:4,children:"Sales by Category"}),t.jsx(Yt,{width:"100%",height:300,children:t.jsxs(tn,{data:ja,layout:"vertical",barCategoryGap:15,children:[t.jsx(Ut,{strokeDasharray:"3 3"}),t.jsx(Wt,{type:"number"}),t.jsx(Xt,{dataKey:"name",type:"category",width:100}),t.jsx(Qt,{formatter:e=>`${e}%`}),t.jsx(Zt,{dataKey:"value",name:"Sales %",fill:"#1890ff",radius:[0,4,4,0]})]})})]})})]})]},"performance"),t.jsxs(ua,{tab:t.jsxs("span",{children:[t.jsx(oe,{})," Product Performance"]}),children:[t.jsxs(c,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsx(ca,{level:4,children:"Top Performing Products"}),t.jsxs(m,{children:[t.jsxs(x,{defaultValue:"revenue",style:{width:150},children:[t.jsx(ma,{value:"revenue",children:"By Revenue"}),t.jsx(ma,{value:"profit",children:"By Profit"}),t.jsx(ma,{value:"units",children:"By Units Sold"}),t.jsx(ma,{value:"margin",children:"By Margin"})]}),t.jsx(p,{icon:t.jsx(fe,{}),onClick:()=>g("products"),children:"Export"})]})]}),t.jsx(y,{columns:f,dataSource:ya,pagination:!1,rowKey:"id"})]}),t.jsxs(c,{style:{marginTop:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsx(ca,{level:4,children:"Product Category Breakdown"}),t.jsxs(x,{defaultValue:"all",style:{width:150},children:[t.jsx(ma,{value:"all",children:"All Categories"}),t.jsx(ma,{value:"laptops",children:"Laptops"}),t.jsx(ma,{value:"components",children:"Components"}),t.jsx(ma,{value:"accessories",children:"Accessories"}),t.jsx(ma,{value:"monitors",children:"Monitors"}),t.jsx(ma,{value:"peripherals",children:"Peripherals"})]})]}),t.jsx(Yt,{width:"100%",height:300,children:t.jsxs(tn,{data:xa,margin:{top:20,right:30,left:20,bottom:5},children:[t.jsx(Ut,{strokeDasharray:"3 3"}),t.jsx(Wt,{dataKey:"month"}),t.jsx(Xt,{}),t.jsx(Qt,{}),t.jsx(Jt,{}),t.jsx(Zt,{dataKey:"revenue",name:"Revenue",fill:"#1890ff"})]})})]})]},"products"),t.jsxs(ua,{tab:t.jsxs("span",{children:[t.jsx(de,{})," Customer Analysis"]}),children:[t.jsxs(c,{style:{marginBottom:"24px"},children:[t.jsx(ca,{level:4,children:"Customer Segments"}),t.jsx(y,{columns:S,dataSource:va,pagination:!1,rowKey:"segment"})]}),t.jsxs(d,{gutter:24,children:[t.jsx(h,{span:12,children:t.jsxs(c,{children:[t.jsx(ca,{level:4,children:"Customer Lifetime Value"}),t.jsx(Yt,{width:"100%",height:300,children:t.jsxs(nn,{data:[{month:1,value:2.1},{month:3,value:4.3},{month:6,value:7.8},{month:9,value:10.2},{month:12,value:12.5},{month:18,value:16.1},{month:24,value:18.7}],children:[t.jsx(Ut,{strokeDasharray:"3 3"}),t.jsx(Wt,{dataKey:"month",label:{value:"Months",position:"insideBottomRight",offset:0}}),t.jsx(Xt,{label:{value:"Value (in millions ₫)",angle:-90,position:"insideLeft"}}),t.jsx(Qt,{formatter:e=>`${e}M ₫`}),t.jsx(en,{type:"monotone",dataKey:"value",stroke:"#1890ff",activeDot:{r:8}})]})})]})}),t.jsx(h,{span:12,children:t.jsxs(c,{children:[t.jsx(ca,{level:4,children:"Customer Retention Rate"}),t.jsx(Yt,{width:"100%",height:300,children:t.jsxs(nn,{data:[{month:"Jan",value:92},{month:"Feb",value:89},{month:"Mar",value:91},{month:"Apr",value:88},{month:"May",value:86},{month:"Jun",value:88},{month:"Jul",value:90},{month:"Aug",value:93},{month:"Sep",value:92},{month:"Oct",value:94},{month:"Nov",value:91},{month:"Dec",value:89}],children:[t.jsx(Ut,{strokeDasharray:"3 3"}),t.jsx(Wt,{dataKey:"month"}),t.jsx(Xt,{domain:[80,100]}),t.jsx(Qt,{formatter:e=>`${e}%`}),t.jsx(en,{type:"monotone",dataKey:"value",stroke:"#52c41a",activeDot:{r:8}})]})})]})})]})]},"customers"),t.jsxs(ua,{tab:t.jsxs("span",{children:[t.jsx(Xe,{})," Periodic Reports"]}),children:[t.jsxs(c,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsx(ca,{level:4,children:"Scheduled Reports"}),t.jsx(p,{type:"primary",children:"New Report"})]}),t.jsx(y,{dataSource:[{id:1,name:"Daily Sales Summary",type:"Sales",frequency:"Daily",recipients:"management@truongphat.com",lastSent:Ht().subtract(1,"day").format("YYYY-MM-DD HH:mm"),status:"active"},{id:2,name:"Weekly Inventory Report",type:"Inventory",frequency:"Weekly",recipients:"inventory@truongphat.com",lastSent:Ht().subtract(3,"day").format("YYYY-MM-DD HH:mm"),status:"active"},{id:3,name:"Monthly Financial Summary",type:"Financial",frequency:"Monthly",recipients:"finance@truongphat.com",lastSent:Ht().subtract(15,"day").format("YYYY-MM-DD HH:mm"),status:"active"},{id:4,name:"Quarterly Performance Review",type:"Performance",frequency:"Quarterly",recipients:"director@truongphat.com",lastSent:Ht().subtract(45,"day").format("YYYY-MM-DD HH:mm"),status:"paused"}],rowKey:"id",columns:[{title:"Report Name",dataIndex:"name",key:"name"},{title:"Type",dataIndex:"type",key:"type",render:e=>t.jsx(v,{color:"blue",children:e})},{title:"Frequency",dataIndex:"frequency",key:"frequency"},{title:"Recipients",dataIndex:"recipients",key:"recipients"},{title:"Last Sent",dataIndex:"lastSent",key:"lastSent"},{title:"Status",dataIndex:"status",key:"status",render:e=>"active"===e?t.jsx(j,{status:"success",text:"Active"}):t.jsx(j,{status:"default",text:"Paused"})},{title:"Actions",key:"actions",render:(e,n)=>t.jsxs(m,{size:"small",children:[t.jsx(p,{size:"small",children:"Edit"}),t.jsx(p,{size:"small",icon:t.jsx(fe,{}),onClick:()=>g(n.type.toLowerCase())}),t.jsx(p,{size:"small",type:"active"===n.status?"default":"primary",children:"active"===n.status?"Pause":"Activate"})]})}]})]}),t.jsxs(c,{style:{marginTop:"24px"},children:[t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:t.jsx(ca,{level:4,children:"Custom Report Builder"})}),t.jsx(w,{message:"Pro Feature",description:"Custom report builder is available on Business and Enterprise plans",type:"info",showIcon:!0,style:{marginBottom:24},action:t.jsx(p,{size:"small",type:"primary",children:"Upgrade"})}),t.jsx("div",{style:{opacity:.6},children:t.jsxs(Form,{layout:"vertical",children:[t.jsxs(d,{gutter:24,children:[t.jsx(h,{span:8,children:t.jsx(Form.Item,{label:"Report Type",children:t.jsxs(x,{disabled:!0,children:[t.jsx(ma,{value:"sales",children:"Sales"}),t.jsx(ma,{value:"inventory",children:"Inventory"}),t.jsx(ma,{value:"customers",children:"Customers"}),t.jsx(ma,{value:"financial",children:"Financial"})]})})}),t.jsx(h,{span:8,children:t.jsx(Form.Item,{label:"Date Range",children:t.jsx(ha,{disabled:!0,style:{width:"100%"}})})}),t.jsx(h,{span:8,children:t.jsx(Form.Item,{label:"Format",children:t.jsxs(x,{disabled:!0,children:[t.jsx(ma,{value:"pdf",children:"PDF"}),t.jsx(ma,{value:"excel",children:"Excel"}),t.jsx(ma,{value:"csv",children:"CSV"})]})})})]}),t.jsx(Form.Item,{label:"Included Metrics",children:t.jsxs(x,{mode:"multiple",disabled:!0,placeholder:"Select metrics to include",style:{width:"100%"},children:[t.jsx(ma,{value:"revenue",children:"Revenue"}),t.jsx(ma,{value:"profit",children:"Profit"}),t.jsx(ma,{value:"sales_count",children:"Sales Count"}),t.jsx(ma,{value:"average_order",children:"Average Order Value"})]})}),t.jsx(Form.Item,{children:t.jsx(p,{type:"primary",disabled:!0,children:"Generate Report"})})]})})]})]},"reports")]})]})})]})}},Symbol.toStringTag,{value:"Module"})),{Title:ba,Text:Sa}=u,{Option:ka}=x,{TabPane:wa}=k,Ca=[{id:1,name:"Nguyễn Văn A",email:"nguyenvana@truongphat.com",phone:"0912345678",role:"admin",department:"Management",status:"active",hireDate:"2020-01-15",avatar:"https://randomuser.me/api/portraits/men/1.jpg"},{id:2,name:"Trần Thị B",email:"tranthib@truongphat.com",phone:"0923456789",role:"cashier",department:"Sales",status:"active",hireDate:"2020-03-22",avatar:"https://randomuser.me/api/portraits/women/2.jpg"},{id:3,name:"Lê Văn C",email:"levanc@truongphat.com",phone:"0934567890",role:"technician",department:"Technical",status:"inactive",hireDate:"2021-05-10",avatar:"https://randomuser.me/api/portraits/men/3.jpg"},{id:4,name:"Phạm Thị D",email:"phamthid@truongphat.com",phone:"0945678901",role:"inventory",department:"Warehouse",status:"active",hireDate:"2021-07-05",avatar:"https://randomuser.me/api/portraits/women/4.jpg"},{id:5,name:"Hoàng Văn E",email:"hoangvane@truongphat.com",phone:"0956789012",role:"cashier",department:"Sales",status:"active",hireDate:"2022-01-20",avatar:"https://randomuser.me/api/portraits/men/5.jpg"}],Ia=[{id:1,name:"Management"},{id:2,name:"Sales"},{id:3,name:"Technical"},{id:4,name:"Warehouse"},{id:5,name:"Customer Service"},{id:6,name:"Accounting"}],Ta=[{id:1,name:"admin",description:"Full system access"},{id:2,name:"manager",description:"Department management"},{id:3,name:"cashier",description:"Sales and checkout"},{id:4,name:"inventory",description:"Inventory management"},{id:5,name:"technician",description:"Technical support"}],Pa=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState(Ca),[a,i]=e.useState(!1),[r,l]=e.useState(null),[o]=_.useForm(),[u,g]=e.useState(""),[b,w]=e.useState(null),[I,T]=e.useState(null),[D,N]=e.useState(null),[F,B]=e.useState("all"),[V,E]=e.useState(!1),[L,z]=e.useState(null),K=n.filter(e=>{const t=!u||e.name.toLowerCase().includes(u.toLowerCase())||e.email.toLowerCase().includes(u.toLowerCase())||e.phone.includes(u),n=!b||e.role===b,s=!I||e.department===I,a=!D||e.status===D,i="all"===F||"active"===F&&"active"===e.status||"inactive"===F&&"inactive"===e.status;return t&&n&&s&&a&&i}),$=(e=null)=>{l(e),e?o.setFieldsValue({name:e.name,email:e.email,phone:e.phone,role:e.role,department:e.department,status:e.status,hireDate:e.hireDate?Ht(e.hireDate):null}):o.resetFields(),i(!0)},H=[{title:"Staff",key:"staff",render:(e,n)=>t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx(R,{src:n.avatar,size:40}),t.jsxs("div",{style:{marginLeft:12},children:[t.jsx("div",{style:{fontWeight:"bold"},children:n.name}),t.jsx("div",{style:{fontSize:"12px",color:"#888"},children:n.email})]})]}),sorter:(e,t)=>e.name.localeCompare(t.name)},{title:"Phone",dataIndex:"phone",key:"phone"},{title:"Role",dataIndex:"role",key:"role",render:e=>{let n;switch(e){case"admin":n="red";break;case"manager":n="purple";break;case"cashier":n="blue";break;case"inventory":n="green";break;case"technician":n="orange";break;default:n="default"}return t.jsx(v,{color:n,children:e.toUpperCase()})},filters:Ta.map(e=>({text:e.name.toUpperCase(),value:e.name})),onFilter:(e,t)=>t.role===e},{title:"Department",dataIndex:"department",key:"department"},{title:"Status",dataIndex:"status",key:"status",render:e=>t.jsx(j,{status:"active"===e?"success":"error",text:"active"===e?"Active":"Inactive"})},{title:"Hire Date",dataIndex:"hireDate",key:"hireDate",sorter:(e,t)=>new Date(e.hireDate)-new Date(t.hireDate)},{title:"Actions",key:"actions",render:(e,a)=>t.jsxs(m,{size:"small",children:[t.jsx(S,{title:"View Details",children:t.jsx(p,{type:"text",icon:t.jsx(de,{}),onClick:()=>(z(a),void E(!0))})}),t.jsx(S,{title:"Edit",children:t.jsx(p,{type:"text",icon:t.jsx(_e,{}),onClick:()=>$(a)})}),t.jsx(q,{title:"Are you sure you want to delete this staff member?",onConfirm:()=>(e=>{const t=n.filter(t=>t.id!==e);s(t),M.success("Staff member deleted successfully")})(a.id),okText:"Yes",cancelText:"No",children:t.jsx(S,{title:"Delete",children:t.jsx(p,{type:"text",danger:!0,icon:t.jsx(Te,{})})})})]})}];return t.jsx("div",{className:"staff-management-container",style:{padding:"24px"},children:t.jsxs(c,{children:[t.jsx("div",{style:{marginBottom:20},children:t.jsxs(d,{gutter:24,align:"middle",children:[t.jsx(h,{flex:"auto",children:t.jsxs(ba,{level:2,children:[t.jsx(xe,{})," Staff Management"]})}),t.jsx(h,{children:t.jsxs(m,{children:[t.jsx(p,{type:"primary",icon:t.jsx(at,{}),onClick:()=>$(),children:"Add Staff"}),t.jsx(S,{title:"Import Staff",children:t.jsx(p,{icon:t.jsx(Re,{}),onClick:()=>{M.info("Import functionality would be implemented here")},children:"Import"})}),t.jsx(S,{title:"Export Staff",children:t.jsx(p,{icon:t.jsx(ke,{}),onClick:()=>{M.info("Export functionality would be implemented here")},children:"Export"})})]})})]})}),t.jsxs(k,{defaultActiveKey:"all",onChange:B,style:{marginBottom:16},children:[t.jsx(wa,{tab:`All Staff (${Ca.length})`},"all"),t.jsx(wa,{tab:`Active (${Ca.filter(e=>"active"===e.status).length})`},"active"),t.jsx(wa,{tab:`Inactive (${Ca.filter(e=>"inactive"===e.status).length})`},"inactive")]}),t.jsx("div",{style:{marginBottom:16},children:t.jsxs(d,{gutter:16,children:[t.jsx(h,{flex:"auto",children:t.jsx(P,{placeholder:"Search by name, email or phone",value:u,onChange:e=>g(e.target.value),prefix:t.jsx(Pe,{}),allowClear:!0})}),t.jsx(h,{children:t.jsx(x,{placeholder:"Filter by Role",style:{width:150},allowClear:!0,value:b,onChange:w,children:Ta.map(e=>t.jsx(ka,{value:e.name,children:e.name},e.id))})}),t.jsx(h,{children:t.jsx(x,{placeholder:"Filter by Department",style:{width:150},allowClear:!0,value:I,onChange:T,children:Ia.map(e=>t.jsx(ka,{value:e.name,children:e.name},e.id))})}),t.jsx(h,{children:t.jsxs(x,{placeholder:"Filter by Status",style:{width:150},allowClear:!0,value:D,onChange:N,children:[t.jsx(ka,{value:"active",children:"Active"}),t.jsx(ka,{value:"inactive",children:"Inactive"})]})}),t.jsx(h,{children:t.jsx(S,{title:"Reset Filters",children:t.jsx(p,{icon:t.jsx(Z,{}),onClick:()=>{g(""),w(null),T(null),N(null)}})})})]})}),t.jsx(y,{columns:H,dataSource:K,rowKey:"id",pagination:{pageSize:10}}),t.jsx(A,{title:r?"Edit Staff Member":"Add New Staff Member",visible:a,onOk:()=>{o.validateFields().then(e=>{if(r){const t=n.map(t=>t.id===r.id?{...t,...e}:t);s(t),M.success("Staff member updated successfully")}else{const t={id:n.length+1,...e,avatar:`https://randomuser.me/api/portraits/${Math.random()>.5?"men":"women"}/${n.length+1}.jpg`};s([...n,t]),M.success("Staff member added successfully")}i(!1)}).catch(e=>{})},onCancel:()=>i(!1),width:600,maskClosable:!1,children:t.jsxs(_,{form:o,layout:"vertical",children:[t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"name",label:"Full Name",rules:[{required:!0,message:"Please enter staff name"}],children:t.jsx(P,{prefix:t.jsx(de,{}),placeholder:"Full Name"})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter email"},{type:"email",message:"Please enter a valid email"}],children:t.jsx(P,{prefix:t.jsx(Ge,{}),placeholder:"Email"})})})]}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"phone",label:"Phone",rules:[{required:!0,message:"Please enter phone number"}],children:t.jsx(P,{prefix:t.jsx(it,{}),placeholder:"Phone"})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"department",label:"Department",rules:[{required:!0,message:"Please select department"}],children:t.jsx(x,{placeholder:"Select Department",children:Ia.map(e=>t.jsx(ka,{value:e.name,children:e.name},e.id))})})})]}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"role",label:"Role",rules:[{required:!0,message:"Please select role"}],children:t.jsx(x,{placeholder:"Select Role",children:Ta.map(e=>t.jsxs(ka,{value:e.name,children:[e.name," - ",e.description]},e.id))})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"status",label:"Status",rules:[{required:!0,message:"Please select status"}],children:t.jsxs(x,{placeholder:"Select Status",children:[t.jsx(ka,{value:"active",children:"Active"}),t.jsx(ka,{value:"inactive",children:"Inactive"})]})})})]}),t.jsx(_.Item,{name:"hireDate",label:"Hire Date",rules:[{required:!0,message:"Please select hire date"}],children:t.jsx(f,{style:{width:"100%"}})}),!r&&t.jsxs(t.Fragment,{children:[t.jsx(C,{children:"Account Setup"}),t.jsx(_.Item,{name:"password",label:"Initial Password",rules:[{required:!r,message:"Please enter password"}],children:t.jsx(P.Password,{prefix:t.jsx(rt,{})})}),t.jsxs(_.Item,{name:"sendCredentials",valuePropName:"checked",initialValue:!0,children:[t.jsx(O,{})," Send login credentials by email"]})]})]})}),t.jsx(A,{title:"Staff Details",visible:V,onCancel:()=>E(!1),footer:[t.jsx(p,{type:"primary",onClick:()=>{E(!1),$(L)},children:"Edit"},"edit"),t.jsx(p,{onClick:()=>E(!1),children:"Close"},"close")],width:700,children:L&&t.jsxs("div",{className:"staff-details",children:[t.jsxs("div",{style:{display:"flex",marginBottom:24},children:[t.jsx(R,{src:L.avatar,size:100}),t.jsxs("div",{style:{marginLeft:24},children:[t.jsx(ba,{level:3,children:L.name}),t.jsxs("div",{children:[t.jsx(v,{color:"admin"===L.role?"red":"blue",children:L.role.toUpperCase()}),t.jsx(j,{status:"active"===L.status?"success":"error",text:"active"===L.status?"Active":"Inactive"})]})]})]}),t.jsx(C,{}),t.jsxs(d,{gutter:24,children:[t.jsxs(h,{span:12,children:[t.jsxs("p",{children:[t.jsx(Ge,{})," ",t.jsx("strong",{children:"Email:"})," ",L.email]}),t.jsxs("p",{children:[t.jsx(it,{})," ",t.jsx("strong",{children:"Phone:"})," ",L.phone]}),t.jsxs("p",{children:[t.jsx(xe,{})," ",t.jsx("strong",{children:"Department:"})," ",L.department]})]}),t.jsxs(h,{span:12,children:[t.jsxs("p",{children:[t.jsx(Xe,{})," ",t.jsx("strong",{children:"Hire Date:"})," ",L.hireDate]}),t.jsxs("p",{children:[t.jsx(lt,{})," ",t.jsx("strong",{children:"Staff ID:"})," ",L.id]}),t.jsxs("p",{children:[t.jsx(me,{})," ",t.jsx("strong",{children:"Commission:"})," View Commission History"]})]})]}),t.jsx(C,{}),t.jsxs(k,{defaultActiveKey:"1",children:[t.jsx(wa,{tab:"Performance",children:t.jsx("p",{children:"Performance data would be displayed here..."})},"1"),t.jsx(wa,{tab:"Schedule",children:t.jsx("p",{children:"Schedule information would be displayed here..."})},"2"),t.jsx(wa,{tab:"Permissions",children:t.jsx("p",{children:"Permission settings would be displayed here..."})},"3"),t.jsx(wa,{tab:"Activity Log",children:t.jsx("p",{children:"Recent activity would be displayed here..."})},"4")]})]})})]})})}},Symbol.toStringTag,{value:"Module"})),{Title:Da,Text:Aa,Paragraph:Ma}=u,{TabPane:Ra}=k,{Option:_a}=x,{RangePicker:Na}=f,Fa=[{id:1,name:"Nguyễn Văn A",role:"Sales Manager",department:"Sales",salesPerformance:95,customerSatisfaction:92,attendanceRate:98,targetCompletion:110,badges:["Top Performer","Customer Champion"],status:"outstanding",avatar:"https://randomuser.me/api/portraits/men/1.jpg"},{id:2,name:"Trần Thị B",role:"Sales Staff",department:"Sales",salesPerformance:88,customerSatisfaction:95,attendanceRate:92,targetCompletion:103,badges:["Customer Champion"],status:"good",avatar:"https://randomuser.me/api/portraits/women/2.jpg"},{id:3,name:"Lê Văn C",role:"Technician",department:"Technical",salesPerformance:60,customerSatisfaction:85,attendanceRate:95,targetCompletion:90,badges:["Tech Wizard"],status:"average",avatar:"https://randomuser.me/api/portraits/men/3.jpg"},{id:4,name:"Phạm Thị D",role:"Cashier",department:"Operations",salesPerformance:70,customerSatisfaction:80,attendanceRate:97,targetCompletion:85,badges:[],status:"average",avatar:"https://randomuser.me/api/portraits/women/4.jpg"},{id:5,name:"Hoàng Văn E",role:"Sales Staff",department:"Sales",salesPerformance:65,customerSatisfaction:75,attendanceRate:85,targetCompletion:75,badges:[],status:"needs_improvement",avatar:"https://randomuser.me/api/portraits/men/5.jpg"}],Ba=[{key:"sales",name:"Sales Performance",metrics:[{key:"sales_value",name:"Sales Value",target:1e8,unit:"VND"},{key:"sales_count",name:"Number of Sales",target:50,unit:"transactions"},{key:"upsell_rate",name:"Upsell Rate",target:30,unit:"%"},{key:"conversion_rate",name:"Conversion Rate",target:25,unit:"%"}]},{key:"customer",name:"Customer Service",metrics:[{key:"satisfaction_score",name:"Satisfaction Score",target:90,unit:"%"},{key:"response_time",name:"Response Time",target:15,unit:"minutes"},{key:"resolution_time",name:"Issue Resolution Time",target:2,unit:"days"},{key:"repeat_customers",name:"Repeat Customers",target:60,unit:"%"}]},{key:"operational",name:"Operational Efficiency",metrics:[{key:"attendance",name:"Attendance Rate",target:95,unit:"%"},{key:"task_completion",name:"Task Completion Rate",target:90,unit:"%"},{key:"process_adherence",name:"Process Adherence",target:95,unit:"%"},{key:"error_rate",name:"Error Rate",target:5,unit:"%"}]}],Oa=[{month:"Jan",sales:85,service:80,efficiency:90},{month:"Feb",sales:88,service:82,efficiency:92},{month:"Mar",sales:90,service:85,efficiency:88},{month:"Apr",sales:92,service:88,efficiency:90},{month:"May",sales:89,service:90,efficiency:91},{month:"Jun",sales:95,service:92,efficiency:94}],Va=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState("1"),[a,i]=e.useState(null),[r,l]=e.useState(null),[o,u]=e.useState([Ht().subtract(30,"day"),Ht()]),[g,j]=e.useState(""),f=Fa.filter(e=>(!a||e.department===a)&&(!r||e.role===r)&&(!g||e.name.toLowerCase().includes(g.toLowerCase())||e.role.toLowerCase().includes(g.toLowerCase()))),T=e=>Math.round(.4*e.salesPerformance+.3*e.customerSatisfaction+.1*e.attendanceRate+.2*e.targetCompletion),D=e=>{switch(e){case"outstanding":return"#52c41a";case"good":return"#1890ff";case"average":return"#faad14";case"needs_improvement":return"#ff4d4f";default:return"#d9d9d9"}},A=e=>{switch(e){case"outstanding":return"Outstanding";case"good":return"Good";case"average":return"Average";case"needs_improvement":return"Needs Improvement";default:return"Unknown"}},M=[{title:"Staff",key:"staff",render:(e,n)=>t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("div",{style:{width:40,height:40,borderRadius:"50%",overflow:"hidden",marginRight:12},children:t.jsx("img",{src:n.avatar,alt:n.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"bold"},children:n.name}),t.jsx("div",{style:{fontSize:"12px",color:"rgba(0, 0, 0, 0.45)"},children:n.role})]})]}),sorter:(e,t)=>e.name.localeCompare(t.name)},{title:"Department",dataIndex:"department",key:"department",filters:[...new Set(Fa.map(e=>e.department))].map(e=>({text:e,value:e})),onFilter:(e,t)=>t.department===e},{title:"Sales",dataIndex:"salesPerformance",key:"salesPerformance",render:e=>t.jsx(I,{percent:e,size:"small"}),sorter:(e,t)=>e.salesPerformance-t.salesPerformance},{title:"Customer Sat.",dataIndex:"customerSatisfaction",key:"customerSatisfaction",render:e=>t.jsx(I,{percent:e,size:"small",status:"success"}),sorter:(e,t)=>e.customerSatisfaction-t.customerSatisfaction},{title:"Attendance",dataIndex:"attendanceRate",key:"attendanceRate",render:e=>t.jsx(I,{percent:e,size:"small"}),sorter:(e,t)=>e.attendanceRate-t.attendanceRate},{title:"Target %",dataIndex:"targetCompletion",key:"targetCompletion",render:e=>`${e}%`,sorter:(e,t)=>e.targetCompletion-t.targetCompletion},{title:"Overall",key:"overall",render:(e,n)=>{const s=T(n);let a="normal";return s>=90?a="success":s<70&&(a="exception"),t.jsx(I,{percent:s,size:"small",status:a})},sorter:(e,t)=>T(e)-T(t)},{title:"Status",key:"status",render:(e,n)=>t.jsx(v,{color:D(n.status),children:A(n.status)}),filters:[{text:"Outstanding",value:"outstanding"},{text:"Good",value:"good"},{text:"Average",value:"average"},{text:"Needs Improvement",value:"needs_improvement"}],onFilter:(e,t)=>t.status===e},{title:"Actions",key:"actions",render:()=>t.jsx(m,{size:"small",children:t.jsx(S,{title:"View Details",children:t.jsx(p,{type:"text",icon:t.jsx(ne,{})})})})}],R=[{title:"Metric",dataIndex:"name",key:"name"},{title:"Target",key:"target",render:(e,t)=>`${t.target} ${t.unit}`},{title:"Current",key:"current",render:()=>{const e=Math.floor(40*Math.random())+60;return`${Math.round(e/100*Fa[0].targetCompletion)}%`}},{title:"Progress",key:"progress",render:()=>{const e=Math.floor(40*Math.random())+60;return t.jsx(I,{percent:e,size:"small"})}}];return t.jsx("div",{className:"performance-tracking-container",style:{padding:"24px"},children:t.jsxs(c,{children:[t.jsxs(d,{justify:"space-between",align:"middle",style:{marginBottom:16},children:[t.jsxs(h,{children:[t.jsxs(Da,{level:2,children:[t.jsx(se,{})," Staff Performance Tracking"]}),t.jsx(Ma,{children:"Track and analyze staff performance metrics and KPIs"})]}),t.jsx(h,{children:t.jsxs(m,{children:[t.jsx(p,{icon:t.jsx(fe,{}),children:"Export Report"}),t.jsxs(x,{style:{width:200},placeholder:"Select Time Period",defaultValue:"last30days",children:[t.jsx(_a,{value:"last7days",children:"Last 7 Days"}),t.jsx(_a,{value:"last30days",children:"Last 30 Days"}),t.jsx(_a,{value:"last90days",children:"Last 90 Days"}),t.jsx(_a,{value:"thisYear",children:"This Year"}),t.jsx(_a,{value:"custom",children:"Custom Range"})]})]})})]}),t.jsxs(k,{activeKey:n,onChange:s,children:[t.jsxs(Ra,{tab:t.jsxs("span",{children:[t.jsx(xe,{})," Staff Overview"]}),children:[t.jsx(w,{message:"Performance Overview",description:"This dashboard shows the performance metrics of all staff members. Use the filters to narrow down results.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsxs(d,{gutter:16,style:{marginBottom:24},children:[t.jsx(h,{span:6,children:t.jsxs(c,{children:[t.jsx(b,{title:"Average Performance",value:85,suffix:"%",valueStyle:{color:"#3f8600"},prefix:t.jsx(ie,{})}),t.jsx("div",{style:{marginTop:8},children:t.jsx(I,{percent:85,size:"small"})})]})}),t.jsx(h,{span:6,children:t.jsxs(c,{children:[t.jsx(b,{title:"Top Performers",value:2,prefix:t.jsx(pe,{})}),t.jsx("div",{style:{marginTop:8},children:t.jsx(Aa,{type:"secondary",children:"40% of total staff"})})]})}),t.jsx(h,{span:6,children:t.jsxs(c,{children:[t.jsx(b,{title:"Customer Satisfaction",value:88,suffix:"%",valueStyle:{color:"#1890ff"},prefix:t.jsx(He,{})}),t.jsx("div",{style:{marginTop:8},children:t.jsx(I,{percent:88,size:"small",status:"active"})})]})}),t.jsx(h,{span:6,children:t.jsxs(c,{children:[t.jsx(b,{title:"Target Completion",value:92,suffix:"%",valueStyle:{color:"#722ed1"},prefix:t.jsx(ve,{})}),t.jsx("div",{style:{marginTop:8},children:t.jsx(I,{percent:92,size:"small",strokeColor:"#722ed1"})})]})})]}),t.jsxs(d,{gutter:16,style:{marginBottom:16},children:[t.jsx(h,{flex:"auto",children:t.jsx(P.Search,{placeholder:"Search by name or role",value:g,onChange:e=>j(e.target.value),style:{width:"100%"}})}),t.jsx(h,{children:t.jsx(x,{placeholder:"Filter by Department",style:{width:180},allowClear:!0,value:a,onChange:i,children:[...new Set(Fa.map(e=>e.department))].map(e=>t.jsx(_a,{value:e,children:e},e))})}),t.jsx(h,{children:t.jsx(x,{placeholder:"Filter by Role",style:{width:180},allowClear:!0,value:r,onChange:l,children:[...new Set(Fa.map(e=>e.role))].map(e=>t.jsx(_a,{value:e,children:e},e))})}),t.jsx(h,{children:t.jsx(p,{icon:t.jsx(Z,{}),onClick:()=>{i(null),l(null),j(""),u([Ht().subtract(30,"day"),Ht()])},tooltip:"Reset Filters"})})]}),t.jsx(y,{columns:M,dataSource:f,rowKey:"id",pagination:{pageSize:10}})]},"1"),t.jsxs(Ra,{tab:t.jsxs("span",{children:[t.jsx(Se,{})," KPI Metrics"]}),children:[t.jsx(w,{message:"Key Performance Indicators",description:"Track and analyze the key performance indicators for staff across different categories.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsxs(d,{gutter:16,style:{marginBottom:16},children:[t.jsx(h,{span:8,children:t.jsx(x,{placeholder:"Select Staff Member",style:{width:"100%"},defaultValue:1,children:Fa.map(e=>t.jsx(_a,{value:e.id,children:e.name},e.id))})}),t.jsx(h,{span:8,children:t.jsx(Na,{style:{width:"100%"},value:o,onChange:u})}),t.jsx(h,{span:8,children:t.jsx(p,{type:"primary",children:"Generate KPI Report"})})]}),Ba.map(e=>t.jsx(c,{title:e.name,style:{marginBottom:16},extra:t.jsxs(v,{color:"blue",children:[e.metrics.length," metrics"]}),children:t.jsx(y,{columns:R,dataSource:e.metrics,rowKey:"key",pagination:!1,size:"small"})},e.key))]},"2"),t.jsxs(Ra,{tab:t.jsxs("span",{children:[t.jsx(ot,{})," Performance Trends"]}),children:[t.jsx(w,{message:"Performance Trends",description:"Analyze performance trends over time to identify patterns and areas for improvement.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsxs(d,{gutter:16,style:{marginBottom:16},children:[t.jsx(h,{span:12,children:t.jsxs(x,{placeholder:"Select Staff Member",style:{width:"100%"},defaultValue:"all",children:[t.jsx(_a,{value:"all",children:"All Staff"}),Fa.map(e=>t.jsx(_a,{value:e.id,children:e.name},e.id))]})}),t.jsx(h,{span:12,children:t.jsxs(x,{placeholder:"Select Metric",style:{width:"100%"},defaultValue:"overall",children:[t.jsx(_a,{value:"overall",children:"Overall Performance"}),t.jsx(_a,{value:"sales",children:"Sales Performance"}),t.jsx(_a,{value:"customer",children:"Customer Satisfaction"}),t.jsx(_a,{value:"attendance",children:"Attendance Rate"}),t.jsx(_a,{value:"target",children:"Target Completion"})]})})]}),t.jsxs(c,{children:[t.jsx(L,{description:"Performance trend chart would be displayed here",image:L.PRESENTED_IMAGE_SIMPLE}),t.jsx(C,{}),t.jsxs("div",{style:{padding:"0 24px"},children:[t.jsx(Da,{level:4,children:"Monthly Performance Breakdown"}),t.jsx("div",{style:{marginTop:16},children:t.jsx(y,{dataSource:Oa,rowKey:"month",pagination:!1,size:"small",columns:[{title:"Month",dataIndex:"month",key:"month"},{title:"Sales Performance",dataIndex:"sales",key:"sales",render:e=>t.jsx(I,{percent:e,size:"small"})},{title:"Customer Service",dataIndex:"service",key:"service",render:e=>t.jsx(I,{percent:e,size:"small",status:"success"})},{title:"Operational Efficiency",dataIndex:"efficiency",key:"efficiency",render:e=>t.jsx(I,{percent:e,size:"small",strokeColor:"#722ed1"})}]})})]})]})]},"3")]})]})})}},Symbol.toStringTag,{value:"Module"})),{Title:Ea,Text:La,Paragraph:za}=u,{TabPane:qa}=k,{Option:Ka}=x,$a=[{id:1,name:"Sales Rookie",description:"Complete first 10 sales",pointsAwarded:100,badgeImage:"🌟",criteria:"sales_count >= 10",difficulty:"easy",status:"active"},{id:2,name:"Tech Wizard",description:"Successfully resolve 50 technical issues",pointsAwarded:250,badgeImage:"🔧",criteria:"tech_issues_resolved >= 50",difficulty:"medium",status:"active"},{id:3,name:"Customer Champion",description:"Receive 20 five-star customer ratings",pointsAwarded:300,badgeImage:"⭐",criteria:"five_star_ratings >= 20",difficulty:"medium",status:"active"},{id:4,name:"Sales Master",description:"Achieve 100 million VND in sales within a month",pointsAwarded:500,badgeImage:"🏆",criteria:"monthly_sales >= 100000000",difficulty:"hard",status:"active"},{id:5,name:"Team Player",description:"Help 10 colleagues with their tasks",pointsAwarded:150,badgeImage:"🤝",criteria:"colleague_assists >= 10",difficulty:"easy",status:"inactive"}],Ha=[{id:1,name:"Extra Day Off",description:"Get an additional day of paid leave",pointsCost:1e3,category:"time_off",availability:"unlimited",status:"active"},{id:2,name:"Lunch Voucher",description:"200,000 VND voucher for lunch",pointsCost:500,category:"voucher",availability:"20",status:"active"},{id:3,name:"Training Course",description:"Access to premium online training course",pointsCost:800,category:"learning",availability:"10",status:"active"},{id:4,name:"Team Dinner",description:"Dinner treat for your team (up to 5 people)",pointsCost:1500,category:"experience",availability:"5",status:"active"},{id:5,name:"Bonus Payment",description:"500,000 VND bonus added to salary",pointsCost:2e3,category:"financial",availability:"unlimited",status:"inactive"}],Ya={basePoints:100,pointsMultiplier:1.5,maxLevel:20,levelUpNotification:!0,showLeaderboard:!0,resetPointsPeriod:"never"},Ga=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState("1"),[a,i]=e.useState($a),[r,l]=e.useState(Ha),[o,u]=e.useState(Ya),[g,f]=e.useState(!1),[b,C]=e.useState(!1),[I,T]=e.useState(null),[D,R]=e.useState(null),[N]=_.useForm(),[F]=_.useForm(),[V]=_.useForm(),E=(e=null)=>{T(e),e?N.setFieldsValue({name:e.name,description:e.description,pointsAwarded:e.pointsAwarded,badgeImage:e.badgeImage,criteria:e.criteria,difficulty:e.difficulty,status:"active"===e.status}):(N.resetFields(),N.setFieldsValue({status:!0,difficulty:"medium",pointsAwarded:100})),f(!0)},L=(e=null)=>{R(e),e?F.setFieldsValue({name:e.name,description:e.description,pointsCost:e.pointsCost,category:e.category,availability:e.availability,status:"active"===e.status}):(F.resetFields(),F.setFieldsValue({status:!0,category:"voucher",availability:"unlimited"})),C(!0)},z=[{title:"Badge",dataIndex:"badgeImage",key:"badgeImage",render:e=>t.jsx("span",{style:{fontSize:"24px"},children:e})},{title:"Achievement",key:"achievement",render:(e,n)=>t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"bold"},children:n.name}),t.jsx("div",{style:{fontSize:"12px",color:"rgba(0, 0, 0, 0.45)"},children:n.description})]}),sorter:(e,t)=>e.name.localeCompare(t.name)},{title:"Points",dataIndex:"pointsAwarded",key:"pointsAwarded",sorter:(e,t)=>e.pointsAwarded-t.pointsAwarded},{title:"Difficulty",dataIndex:"difficulty",key:"difficulty",render:e=>{const n="easy"===e?"green":"medium"===e?"blue":"red";return t.jsx(v,{color:n,children:e.toUpperCase()})},filters:[{text:"Easy",value:"easy"},{text:"Medium",value:"medium"},{text:"Hard",value:"hard"}],onFilter:(e,t)=>t.difficulty===e},{title:"Status",dataIndex:"status",key:"status",render:e=>"active"===e?t.jsx(j,{status:"success",text:"Active"}):t.jsx(j,{status:"error",text:"Inactive"}),filters:[{text:"Active",value:"active"},{text:"Inactive",value:"inactive"}],onFilter:(e,t)=>t.status===e},{title:"Actions",key:"actions",render:(e,n)=>t.jsxs(m,{children:[t.jsx(S,{title:"Edit",children:t.jsx(p,{type:"text",icon:t.jsx(_e,{}),onClick:()=>E(n)})}),t.jsx(S,{title:"Delete",children:t.jsx(p,{type:"text",danger:!0,icon:t.jsx(Te,{}),onClick:()=>{i(a.filter(e=>e.id!==n.id)),M.success("Achievement deleted")}})})]})}],q=[{title:"Reward",key:"reward",render:(e,n)=>t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"bold"},children:n.name}),t.jsx("div",{style:{fontSize:"12px",color:"rgba(0, 0, 0, 0.45)"},children:n.description})]}),sorter:(e,t)=>e.name.localeCompare(t.name)},{title:"Points Cost",dataIndex:"pointsCost",key:"pointsCost",sorter:(e,t)=>e.pointsCost-t.pointsCost},{title:"Category",dataIndex:"category",key:"category",render:e=>{const n={time_off:{color:"purple",icon:"🕒"},voucher:{color:"green",icon:"🎫"},learning:{color:"blue",icon:"📚"},experience:{color:"magenta",icon:"🎭"},financial:{color:"gold",icon:"💰"}};return t.jsxs(v,{color:n[e]?.color||"default",children:[n[e]?.icon," ",e.replace("_"," ")]})},filters:[{text:"Time Off",value:"time_off"},{text:"Voucher",value:"voucher"},{text:"Learning",value:"learning"},{text:"Experience",value:"experience"},{text:"Financial",value:"financial"}],onFilter:(e,t)=>t.category===e},{title:"Availability",dataIndex:"availability",key:"availability",render:e=>"unlimited"===e?t.jsx(v,{color:"green",children:"Unlimited"}):t.jsxs("span",{children:[e," remaining"]})},{title:"Status",dataIndex:"status",key:"status",render:e=>"active"===e?t.jsx(j,{status:"success",text:"Active"}):t.jsx(j,{status:"error",text:"Inactive"}),filters:[{text:"Active",value:"active"},{text:"Inactive",value:"inactive"}],onFilter:(e,t)=>t.status===e},{title:"Actions",key:"actions",render:(e,n)=>t.jsxs(m,{children:[t.jsx(S,{title:"Edit",children:t.jsx(p,{type:"text",icon:t.jsx(_e,{}),onClick:()=>L(n)})}),t.jsx(S,{title:"Delete",children:t.jsx(p,{type:"text",danger:!0,icon:t.jsx(Te,{}),onClick:()=>{l(r.filter(e=>e.id!==n.id)),M.success("Reward deleted")}})})]})}];return t.jsxs("div",{className:"gamification-config-container",style:{padding:"24px"},children:[t.jsxs(c,{children:[t.jsxs(d,{justify:"space-between",align:"middle",style:{marginBottom:16},children:[t.jsxs(h,{children:[t.jsxs(Ea,{level:2,children:[t.jsx(pe,{})," Gamification Configuration"]}),t.jsx(za,{children:"Configure achievements, rewards, and gamification settings for your staff"})]}),t.jsx(h,{children:t.jsx(p,{type:"primary",icon:t.jsx(Be,{}),children:"Save All Settings"})})]}),t.jsxs(k,{activeKey:n,onChange:s,children:[t.jsxs(qa,{tab:t.jsxs("span",{children:[t.jsx(He,{})," Achievements"]}),children:[t.jsx(w,{message:"Staff Achievements",description:"Create and manage achievements that staff members can earn by meeting specific criteria.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsx("div",{style:{marginBottom:16},children:t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>E(),children:"Add Achievement"})}),t.jsx(y,{columns:z,dataSource:a,rowKey:"id"})]},"1"),t.jsxs(qa,{tab:t.jsxs("span",{children:[t.jsx(pe,{})," Rewards"]}),children:[t.jsx(w,{message:"Staff Rewards",description:"Create rewards that staff can redeem with points earned from achievements.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsx("div",{style:{marginBottom:16},children:t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>L(),children:"Add Reward"})}),t.jsx(y,{columns:q,dataSource:r,rowKey:"id"})]},"2"),t.jsxs(qa,{tab:t.jsxs("span",{children:[t.jsx(ie,{})," Level System"]}),children:[t.jsx(w,{message:"Staff Level System",description:"Configure how staff members level up and progress through the gamification system.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsx(c,{title:"Level Settings",bordered:!1,children:t.jsxs(_,{layout:"vertical",initialValues:o,onFinish:e=>{u({...o,...e}),M.success("Level settings updated successfully")},form:V,children:[t.jsxs(d,{gutter:24,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"basePoints",label:"Base Points for Level 1",rules:[{required:!0,message:"Please enter base points"}],children:t.jsx(B,{min:1,style:{width:"100%"}})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"pointsMultiplier",label:"Points Multiplier Between Levels",rules:[{required:!0,message:"Please enter points multiplier"}],tooltip:"The multiplier applied to determine points needed for next level",children:t.jsx(B,{min:1,step:.1,style:{width:"100%"}})})})]}),t.jsx(_.Item,{name:"maxLevel",label:"Maximum Level",rules:[{required:!0,message:"Please enter maximum level"}],children:t.jsx(B,{min:1,max:100,style:{width:"100%"}})}),t.jsx(_.Item,{name:"resetPointsPeriod",label:"Points Reset Period",children:t.jsxs(x,{children:[t.jsx(Ka,{value:"never",children:"Never"}),t.jsx(Ka,{value:"monthly",children:"Monthly"}),t.jsx(Ka,{value:"quarterly",children:"Quarterly"}),t.jsx(Ka,{value:"yearly",children:"Yearly"})]})}),t.jsx(_.Item,{name:"levelUpNotification",valuePropName:"checked",label:"Level Up Notifications",children:t.jsx(O,{})}),t.jsx(_.Item,{name:"showLeaderboard",valuePropName:"checked",label:"Show Leaderboard",children:t.jsx(O,{})}),t.jsx(_.Item,{children:t.jsx(p,{type:"primary",htmlType:"submit",children:"Save Level Settings"})})]})})]},"3")]})]}),t.jsx(A,{title:I?"Edit Achievement":"Add New Achievement",visible:g,onOk:()=>{N.validateFields().then(e=>{const t={...e,status:e.status?"active":"inactive"};if(I){const e=a.map(e=>e.id===I.id?{...e,...t}:e);i(e),M.success("Achievement updated successfully")}else{const e={id:a.length+1,...t};i([...a,e]),M.success("Achievement added successfully")}f(!1)}).catch(e=>{})},onCancel:()=>f(!1),width:600,children:t.jsxs(_,{form:N,layout:"vertical",children:[t.jsx(_.Item,{name:"name",label:"Achievement Name",rules:[{required:!0,message:"Please enter achievement name"}],children:t.jsx(P,{})}),t.jsx(_.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please enter achievement description"}],children:t.jsx(P.TextArea,{rows:3})}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"pointsAwarded",label:"Points Awarded",rules:[{required:!0,message:"Please enter points"}],children:t.jsx(B,{min:1,style:{width:"100%"}})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"difficulty",label:"Difficulty Level",rules:[{required:!0,message:"Please select difficulty"}],children:t.jsxs(x,{children:[t.jsx(Ka,{value:"easy",children:"Easy"}),t.jsx(Ka,{value:"medium",children:"Medium"}),t.jsx(Ka,{value:"hard",children:"Hard"})]})})})]}),t.jsx(_.Item,{name:"badgeImage",label:"Badge Emoji",children:t.jsx(P,{})}),t.jsx(_.Item,{name:"criteria",label:"Achievement Criteria",tooltip:"Enter the criteria as a logical expression (e.g., 'sales_count >= 10')",rules:[{required:!0,message:"Please enter achievement criteria"}],children:t.jsx(P,{})}),t.jsx(_.Item,{name:"status",valuePropName:"checked",label:"Status",children:t.jsx(O,{checkedChildren:"Active",unCheckedChildren:"Inactive"})})]})}),t.jsx(A,{title:D?"Edit Reward":"Add New Reward",visible:b,onOk:()=>{F.validateFields().then(e=>{const t={...e,status:e.status?"active":"inactive"};if(D){const e=r.map(e=>e.id===D.id?{...e,...t}:e);l(e),M.success("Reward updated successfully")}else{const e={id:r.length+1,...t};l([...r,e]),M.success("Reward added successfully")}C(!1)}).catch(e=>{})},onCancel:()=>C(!1),width:600,children:t.jsxs(_,{form:F,layout:"vertical",children:[t.jsx(_.Item,{name:"name",label:"Reward Name",rules:[{required:!0,message:"Please enter reward name"}],children:t.jsx(P,{})}),t.jsx(_.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please enter reward description"}],children:t.jsx(P.TextArea,{rows:3})}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"pointsCost",label:"Points Cost",rules:[{required:!0,message:"Please enter points cost"}],children:t.jsx(B,{min:1,style:{width:"100%"}})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"category",label:"Reward Category",rules:[{required:!0,message:"Please select category"}],children:t.jsxs(x,{children:[t.jsx(Ka,{value:"time_off",children:"Time Off"}),t.jsx(Ka,{value:"voucher",children:"Voucher"}),t.jsx(Ka,{value:"learning",children:"Learning"}),t.jsx(Ka,{value:"experience",children:"Experience"}),t.jsx(Ka,{value:"financial",children:"Financial"})]})})})]}),t.jsx(_.Item,{name:"availability",label:"Availability",tooltip:"Enter number of rewards available or 'unlimited'",rules:[{required:!0,message:"Please enter availability"}],children:t.jsx(P,{})}),t.jsx(_.Item,{name:"status",valuePropName:"checked",label:"Status",children:t.jsx(O,{checkedChildren:"Active",unCheckedChildren:"Inactive"})})]})})]})}},Symbol.toStringTag,{value:"Module"})),{Title:Ua,Text:Wa}=u,{TabPane:Xa}=k,{Option:Qa}=x,Ja=[{id:1,name:"Standard Sales Commission",type:"percentage",value:2,applicableTo:"all",productCategories:[],minSaleAmount:0,active:!0},{id:2,name:"Computer Hardware Bonus",type:"percentage",value:3.5,applicableTo:"category",productCategories:["Laptops","Desktops","Components"],minSaleAmount:5e6,active:!0},{id:3,name:"Accessory Commission",type:"percentage",value:5,applicableTo:"category",productCategories:["Accessories","Peripherals"],minSaleAmount:2e5,active:!0},{id:4,name:"Service Plan Bonus",type:"fixed",value:5e4,applicableTo:"category",productCategories:["Services","Warranties"],minSaleAmount:0,active:!0},{id:5,name:"Monthly Top Seller Bonus",type:"fixed",value:5e5,applicableTo:"special",productCategories:[],minSaleAmount:0,active:!0}],Za=[{id:1,name:"Bronze Tier",monthlyTarget:5e7,bonusType:"percentage",bonusValue:.5,active:!0},{id:2,name:"Silver Tier",monthlyTarget:1e8,bonusType:"percentage",bonusValue:1,active:!0},{id:3,name:"Gold Tier",monthlyTarget:2e8,bonusType:"percentage",bonusValue:2,active:!0},{id:4,name:"Platinum Tier",monthlyTarget:5e8,bonusType:"percentage",bonusValue:3.5,active:!0}],ei=[{id:1,name:"Nguyễn Văn A",role:"Sales Manager",baseCommissionRate:3,eligibleForBonus:!0,customRules:["Monthly Top Seller Bonus"],currentTier:"Gold Tier"},{id:2,name:"Trần Thị B",role:"Senior Sales",baseCommissionRate:2.5,eligibleForBonus:!0,customRules:[],currentTier:"Silver Tier"},{id:3,name:"Lê Văn C",role:"Sales",baseCommissionRate:2,eligibleForBonus:!0,customRules:[],currentTier:"Bronze Tier"},{id:4,name:"Phạm Thị D",role:"Cashier",baseCommissionRate:1.5,eligibleForBonus:!0,customRules:[],currentTier:"Bronze Tier"},{id:5,name:"Hoàng Văn E",role:"Technician",baseCommissionRate:1,eligibleForBonus:!0,customRules:["Service Plan Bonus"],currentTier:"Bronze Tier"}],ti=["Laptops","Desktops","Components","Monitors","Accessories","Peripherals","Networking","Storage","Software","Services","Warranties"],ni=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState("1"),[a,i]=e.useState(Ja),[r,l]=e.useState(Za),[o,u]=e.useState(ei),[g,j]=e.useState(!1),[f,b]=e.useState(!1),[S,I]=e.useState(!1),[T,D]=e.useState(null),[R,N]=e.useState(null),[F,V]=e.useState(null),[E]=_.useForm(),[L]=_.useForm(),[z]=_.useForm(),K=(e=null)=>{D(e),e?E.setFieldsValue({name:e.name,type:e.type,value:e.value,applicableTo:e.applicableTo,productCategories:e.productCategories,minSaleAmount:e.minSaleAmount,active:e.active}):(E.resetFields(),E.setFieldsValue({type:"percentage",applicableTo:"all",minSaleAmount:0,active:!0,productCategories:[]})),j(!0)},$=(e=null)=>{N(e),e?L.setFieldsValue({name:e.name,monthlyTarget:e.monthlyTarget,bonusType:e.bonusType,bonusValue:e.bonusValue,active:e.active}):(L.resetFields(),L.setFieldsValue({bonusType:"percentage",active:!0})),b(!0)},H=(e=null)=>{V(e),e?z.setFieldsValue({name:e.name,role:e.role,baseCommissionRate:e.baseCommissionRate,eligibleForBonus:e.eligibleForBonus,customRules:e.customRules,currentTier:e.currentTier}):(z.resetFields(),z.setFieldsValue({eligibleForBonus:!0,customRules:[]})),I(!0)},Y=[{title:"Name",dataIndex:"name",key:"name",sorter:(e,t)=>e.name.localeCompare(t.name)},{title:"Type",dataIndex:"type",key:"type",render:e=>"percentage"===e?"Percentage (%)":"Fixed Amount (VND)",filters:[{text:"Percentage",value:"percentage"},{text:"Fixed Amount",value:"fixed"}],onFilter:(e,t)=>t.type===e},{title:"Value",key:"value",render:(e,n)=>"percentage"===n.type?t.jsxs("span",{children:[n.value,"%"]}):t.jsxs("span",{children:[n.value.toLocaleString()," VND"]}),sorter:(e,t)=>e.value-t.value},{title:"Applicable To",key:"applicableTo",render:(e,n)=>"all"===n.applicableTo?"All Products":"category"===n.applicableTo?t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Categories: "}),n.productCategories.map(e=>t.jsx(v,{children:e},e))]}):"Special Conditions",filters:[{text:"All Products",value:"all"},{text:"Specific Categories",value:"category"},{text:"Special Conditions",value:"special"}],onFilter:(e,t)=>t.applicableTo===e},{title:"Min. Sale Amount",dataIndex:"minSaleAmount",key:"minSaleAmount",render:e=>`${e.toLocaleString()} VND`,sorter:(e,t)=>e.minSaleAmount-t.minSaleAmount},{title:"Status",dataIndex:"active",key:"active",render:e=>e?t.jsx(v,{color:"green",children:"Active"}):t.jsx(v,{color:"red",children:"Inactive"}),filters:[{text:"Active",value:!0},{text:"Inactive",value:!1}],onFilter:(e,t)=>t.active===e},{title:"Actions",key:"actions",render:(e,n)=>t.jsxs(m,{children:[t.jsx(p,{type:"text",icon:t.jsx(_e,{}),onClick:()=>K(n)}),t.jsx(q,{title:"Are you sure you want to delete this rule?",onConfirm:()=>(e=>{const t=a.filter(t=>t.id!==e);i(t),M.success("Commission rule deleted successfully")})(n.id),okText:"Yes",cancelText:"No",children:t.jsx(p,{type:"text",danger:!0,icon:t.jsx(Te,{})})})]})}],U=[{title:"Tier Name",dataIndex:"name",key:"name",sorter:(e,t)=>e.name.localeCompare(t.name)},{title:"Monthly Sales Target",dataIndex:"monthlyTarget",key:"monthlyTarget",render:e=>`${e.toLocaleString()} VND`,sorter:(e,t)=>e.monthlyTarget-t.monthlyTarget},{title:"Bonus",key:"bonus",render:(e,n)=>"percentage"===n.bonusType?t.jsxs("span",{children:["+",n.bonusValue,"% on all commissions"]}):t.jsxs("span",{children:["+",n.bonusValue.toLocaleString()," VND fixed bonus"]})},{title:"Status",dataIndex:"active",key:"active",render:e=>e?t.jsx(v,{color:"green",children:"Active"}):t.jsx(v,{color:"red",children:"Inactive"}),filters:[{text:"Active",value:!0},{text:"Inactive",value:!1}],onFilter:(e,t)=>t.active===e},{title:"Actions",key:"actions",render:(e,n)=>t.jsxs(m,{children:[t.jsx(p,{type:"text",icon:t.jsx(_e,{}),onClick:()=>$(n)}),t.jsx(q,{title:"Are you sure you want to delete this tier?",onConfirm:()=>(e=>{const t=r.filter(t=>t.id!==e);l(t),M.success("Commission tier deleted successfully")})(n.id),okText:"Yes",cancelText:"No",children:t.jsx(p,{type:"text",danger:!0,icon:t.jsx(Te,{})})})]})}],W=[{title:"Staff Name",dataIndex:"name",key:"name",sorter:(e,t)=>e.name.localeCompare(t.name)},{title:"Role",dataIndex:"role",key:"role",filters:[...new Set(ei.map(e=>e.role))].map(e=>({text:e,value:e})),onFilter:(e,t)=>t.role===e},{title:"Base Commission Rate",dataIndex:"baseCommissionRate",key:"baseCommissionRate",render:e=>`${e}%`,sorter:(e,t)=>e.baseCommissionRate-t.baseCommissionRate},{title:"Current Tier",dataIndex:"currentTier",key:"currentTier",filters:r.map(e=>({text:e.name,value:e.name})),onFilter:(e,t)=>t.currentTier===e},{title:"Eligible for Bonus",dataIndex:"eligibleForBonus",key:"eligibleForBonus",render:e=>e?t.jsx(v,{icon:t.jsx(ee,{}),color:"green",children:"Yes"}):t.jsx(v,{icon:t.jsx(Ie,{}),color:"red",children:"No"}),filters:[{text:"Yes",value:!0},{text:"No",value:!1}],onFilter:(e,t)=>t.eligibleForBonus===e},{title:"Custom Rules",key:"customRules",render:(e,n)=>t.jsx(t.Fragment,{children:n.customRules.length>0?n.customRules.map(e=>t.jsx(v,{children:e},e)):t.jsx(Wa,{type:"secondary",children:"None"})})},{title:"Actions",key:"actions",render:(e,n)=>t.jsx(p,{type:"primary",icon:t.jsx(_e,{}),size:"small",onClick:()=>H(n),children:"Edit"})}];return t.jsx("div",{className:"commission-settings-container",style:{padding:"24px"},children:t.jsxs(c,{children:[t.jsxs(d,{justify:"space-between",align:"middle",style:{marginBottom:16},children:[t.jsxs(h,{children:[t.jsxs(Ua,{level:2,children:[t.jsx(me,{})," Commission Settings"]}),t.jsx(Wa,{type:"secondary",children:"Configure commission rules, tiers, and individual staff commission settings"})]}),t.jsx(h,{children:t.jsx(p,{type:"primary",icon:t.jsx(Be,{}),children:"Save All Settings"})})]}),t.jsxs(k,{activeKey:n,onChange:s,children:[t.jsxs(Xa,{tab:t.jsxs("span",{children:[t.jsx(Ce,{})," Commission Rules"]}),children:[t.jsx(w,{message:"Commission Rules",description:"Define the basic commission rules that apply to different product categories and sales scenarios.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsx("div",{style:{marginBottom:16},children:t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>K(),children:"Add Commission Rule"})}),t.jsx(y,{columns:Y,dataSource:a,rowKey:"id",pagination:{pageSize:5}})]},"1"),t.jsxs(Xa,{tab:t.jsxs("span",{children:[t.jsx(ve,{})," Commission Tiers"]}),children:[t.jsx(w,{message:"Commission Tiers",description:"Create performance-based commission tiers with escalating benefits for sales staff based on their monthly sales targets.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsx("div",{style:{marginBottom:16},children:t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>$(),children:"Add Commission Tier"})}),t.jsx(y,{columns:U,dataSource:r,rowKey:"id",pagination:{pageSize:5}})]},"2"),t.jsxs(Xa,{tab:t.jsxs("span",{children:[t.jsx(xe,{})," Staff Commission Settings"]}),children:[t.jsx(w,{message:"Staff Commission Settings",description:"Manage individual commission settings for each staff member, including base rates and eligibility for bonus programs.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsx("div",{style:{marginBottom:16},children:t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>H(),children:"Add Staff Commission"})}),t.jsx(y,{columns:W,dataSource:o,rowKey:"id",pagination:{pageSize:5}})]},"3"),t.jsxs(Xa,{tab:t.jsxs("span",{children:[t.jsx(Xe,{})," Commission Schedule"]}),children:[t.jsx(w,{message:"Commission Schedule",description:"Set up the schedule for commission calculations and payouts.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsx(c,{title:"Calculation and Payout Settings",children:t.jsxs(_,{layout:"vertical",children:[t.jsxs(d,{gutter:24,children:[t.jsx(h,{span:8,children:t.jsx(_.Item,{label:"Commission Calculation Frequency",name:"calculationFrequency",initialValue:"monthly",children:t.jsxs(x,{children:[t.jsx(Qa,{value:"daily",children:"Daily"}),t.jsx(Qa,{value:"weekly",children:"Weekly"}),t.jsx(Qa,{value:"biweekly",children:"Bi-Weekly"}),t.jsx(Qa,{value:"monthly",children:"Monthly"})]})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{label:"Commission Payout Date",name:"payoutDate",initialValue:10,tooltip:"Day of month for commission payout",children:t.jsx(B,{min:1,max:28,style:{width:"100%"}})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{label:"Commission Processing Method",name:"processMethod",initialValue:"automatic",children:t.jsxs(x,{children:[t.jsx(Qa,{value:"automatic",children:"Automatic"}),t.jsx(Qa,{value:"manual",children:"Manual Approval"})]})})})]}),t.jsx(C,{}),t.jsxs(d,{gutter:24,children:[t.jsxs(h,{span:12,children:[t.jsx(_.Item,{label:"Delay Commission for Returns",name:"delayForReturns",valuePropName:"checked",initialValue:!0,tooltip:"Hold commission for potential returns",children:t.jsx(O,{})}),t.jsx(_.Item,{label:"Return Window (days)",name:"returnWindow",initialValue:30,children:t.jsx(B,{min:0,style:{width:"100%"}})})]}),t.jsxs(h,{span:12,children:[t.jsx(_.Item,{label:"Include Tax in Commission Calculation",name:"includeTax",valuePropName:"checked",initialValue:!1,children:t.jsx(O,{})}),t.jsx(_.Item,{label:"Commission Cap",name:"commissionCap",initialValue:1e7,children:t.jsx(B,{style:{width:"100%"},formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>e.replace(/\$\s?|(,*)/g,"")})})]})]}),t.jsx(p,{type:"primary",children:"Save Schedule Settings"})]})})]},"4"),t.jsxs(Xa,{tab:t.jsxs("span",{children:[t.jsx(we,{})," Product-Specific Settings"]}),children:[t.jsx(w,{message:"Product-Specific Commission Settings",description:"Configure special commission rates for specific products or product categories.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsx(c,{title:"Category Commission Rates",children:t.jsxs(_,{layout:"vertical",children:[ti.map((e,n)=>t.jsx(_.Item,{label:e,name:["categoryCommission",e],initialValue:n%3==0?5:n%3==1?3:2,children:t.jsx(B,{min:0,max:20,formatter:e=>`${e}%`,parser:e=>e.replace("%",""),style:{width:"100%"}})},n)),t.jsx(p,{type:"primary",children:"Save Category Settings"})]})})]},"5")]}),t.jsx(A,{title:T?"Edit Commission Rule":"Add Commission Rule",visible:g,onOk:()=>{E.validateFields().then(e=>{if(T){const t=a.map(t=>t.id===T.id?{...t,...e}:t);i(t),M.success("Commission rule updated successfully")}else{const t={id:a.length+1,...e};i([...a,t]),M.success("Commission rule added successfully")}j(!1)}).catch(e=>{})},onCancel:()=>j(!1),width:600,children:t.jsxs(_,{form:E,layout:"vertical",children:[t.jsx(_.Item,{name:"name",label:"Rule Name",rules:[{required:!0,message:"Please enter a rule name"}],children:t.jsx(P,{})}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"type",label:"Commission Type",rules:[{required:!0,message:"Please select commission type"}],children:t.jsxs(G.Group,{children:[t.jsx(G,{value:"percentage",children:"Percentage (%)"}),t.jsx(G,{value:"fixed",children:"Fixed Amount (VND)"})]})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"value",label:"Value",rules:[{required:!0,message:"Please enter commission value"}],children:t.jsx(B,{style:{width:"100%"},min:0})})})]}),t.jsx(_.Item,{name:"applicableTo",label:"Applicable To",rules:[{required:!0,message:"Please select where this rule applies"}],children:t.jsxs(G.Group,{children:[t.jsx(G,{value:"all",children:"All Products"}),t.jsx(G,{value:"category",children:"Specific Categories"}),t.jsx(G,{value:"special",children:"Special Conditions"})]})}),t.jsx(_.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.applicableTo!==t.applicableTo,children:({getFieldValue:e})=>"category"===e("applicableTo")?t.jsx(_.Item,{name:"productCategories",label:"Product Categories",rules:[{required:!0,message:"Please select at least one category"}],children:t.jsx(x,{mode:"multiple",placeholder:"Select product categories",children:ti.map(e=>t.jsx(Qa,{value:e,children:e},e))})}):null}),t.jsx(_.Item,{name:"minSaleAmount",label:"Minimum Sale Amount (VND)",tooltip:"Commission applies only to sales above this amount",children:t.jsx(B,{style:{width:"100%"},min:0,step:1e5})}),t.jsx(_.Item,{name:"active",valuePropName:"checked",label:"Status",children:t.jsx(O,{checkedChildren:"Active",unCheckedChildren:"Inactive"})})]})}),t.jsx(A,{title:R?"Edit Commission Tier":"Add Commission Tier",visible:f,onOk:()=>{L.validateFields().then(e=>{if(R){const t=r.map(t=>t.id===R.id?{...t,...e}:t);l(t),M.success("Commission tier updated successfully")}else{const t={id:r.length+1,...e};l([...r,t]),M.success("Commission tier added successfully")}b(!1)}).catch(e=>{})},onCancel:()=>b(!1),width:600,children:t.jsxs(_,{form:L,layout:"vertical",children:[t.jsx(_.Item,{name:"name",label:"Tier Name",rules:[{required:!0,message:"Please enter a tier name"}],children:t.jsx(P,{})}),t.jsx(_.Item,{name:"monthlyTarget",label:"Monthly Sales Target (VND)",rules:[{required:!0,message:"Please enter monthly sales target"}],children:t.jsx(B,{style:{width:"100%"},min:1e6,step:1e6,formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>e.replace(/\$\s?|(,*)/g,"")})}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"bonusType",label:"Bonus Type",rules:[{required:!0,message:"Please select bonus type"}],children:t.jsxs(G.Group,{children:[t.jsx(G,{value:"percentage",children:"Percentage (%)"}),t.jsx(G,{value:"fixed",children:"Fixed Amount (VND)"})]})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"bonusValue",label:"Bonus Value",rules:[{required:!0,message:"Please enter bonus value"}],children:t.jsx(B,{style:{width:"100%"},min:0})})})]}),t.jsx(_.Item,{name:"active",valuePropName:"checked",label:"Status",children:t.jsx(O,{checkedChildren:"Active",unCheckedChildren:"Inactive"})})]})}),t.jsx(A,{title:F?"Edit Staff Commission Settings":"Add Staff Commission Settings",visible:S,onOk:()=>{z.validateFields().then(e=>{if(F){const t=o.map(t=>t.id===F.id?{...t,...e}:t);u(t),M.success("Staff commission settings updated successfully")}else{const t={id:o.length+1,...e};u([...o,t]),M.success("Staff commission settings added successfully")}I(!1)}).catch(e=>{})},onCancel:()=>I(!1),width:600,children:t.jsxs(_,{form:z,layout:"vertical",children:[t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"name",label:"Staff Name",rules:[{required:!0,message:"Please enter staff name"}],children:t.jsx(P,{prefix:t.jsx(de,{})})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"role",label:"Role",rules:[{required:!0,message:"Please enter staff role"}],children:t.jsx(P,{})})})]}),t.jsx(_.Item,{name:"baseCommissionRate",label:"Base Commission Rate (%)",rules:[{required:!0,message:"Please enter base commission rate"}],children:t.jsx(B,{style:{width:"100%"},min:0,max:20,step:.5})}),t.jsx(_.Item,{name:"currentTier",label:"Current Tier",children:t.jsx(x,{children:r.map(e=>t.jsx(Qa,{value:e.name,children:e.name},e.id))})}),t.jsx(_.Item,{name:"eligibleForBonus",valuePropName:"checked",label:"Eligible for Bonuses",children:t.jsx(O,{})}),t.jsx(_.Item,{name:"customRules",label:"Custom Rules",children:t.jsx(x,{mode:"multiple",placeholder:"Select custom rules",children:a.map(e=>t.jsx(Qa,{value:e.name,children:e.name},e.id))})})]})})]})})}},Symbol.toStringTag,{value:"Module"})),{Title:si,Text:ai}=u,{Search:ii}=P,{Option:ri}=x,{TabPane:li}=k,oi=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const s=n(),[a,i]=e.useState(!0),[r,l]=e.useState([]),[o,u]=e.useState([]),[g,f]=e.useState([]),[S,w]=e.useState(""),[I,P]=e.useState("all"),[_,N]=e.useState("all"),[F,B]=e.useState(!1),[O,V]=e.useState(null),[E,q]=e.useState(!1),[K,H]=e.useState(null);e.useEffect(()=>{i(!0),setTimeout(()=>{const e=Y();l(e),u(e),i(!1)},1500)},[]);const Y=()=>{const e=["active","inactive","new"],t=["Bronze","Silver","Gold","Platinum",null],n=["male","female","other"];return["Nguyễn Văn An","Trần Thị Bình","Lê Minh Cường","Phạm Thị Diễm","Hoàng Văn Em","Đỗ Thị Phương","Ngô Văn Giang","Vũ Thị Hà","Đinh Văn Indra","Bùi Thị Kim","Lý Văn Long","Mai Thị Minh","Phan Văn Nam","Đặng Thị Oanh","Huỳnh Văn Phúc","Chu Thị Quỳnh"].map((s,a)=>{const i=a+1,r=s.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"").toLowerCase()+"@gmail.com",l=Ht().subtract(Math.floor(365*Math.random()),"days").format("YYYY-MM-DD"),o=e[Math.floor(Math.random()*e.length)],c=t[Math.floor(Math.random()*t.length)],d=n[Math.floor(Math.random()*n.length)],h=`0${Math.floor(1e9*Math.random()).toString().padStart(9,"0")}`,u=Math.floor(20*Math.random()),m=Math.floor(5e7*Math.random())+5e5,x=Math.floor(1e3*Math.random());return{id:i,name:s,email:r,phone:h,gender:d,status:o,membership:c,createdDate:l,lastOrderDate:u>0?Ht(l).add(Math.floor(Math.random()*Ht().diff(Ht(l),"days")),"days").format("YYYY-MM-DD"):null,orders:u,totalSpent:m,points:x,address:"Hòa Bình, Việt Nam",notes:Math.random()>.7?"Khách hàng VIP, ưu tiên hỗ trợ nhanh":""}})};e.useEffect(()=>{let e=[...r];S&&(e=e.filter(e=>e.name.toLowerCase().includes(S.toLowerCase())||e.email.toLowerCase().includes(S.toLowerCase())||e.phone.includes(S))),"all"!==I&&(e=e.filter(e=>e.status===I)),"all"!==_&&(e="none"===_?e.filter(e=>!e.membership):e.filter(e=>e.membership===_)),u(e)},[S,I,_,r]);const G={selectedRowKeys:g,onChange:e=>f(e)},U=e=>{0!==g.length?(i(!0),setTimeout(()=>{switch(e){case"delete":l(e=>e.filter(e=>!g.includes(e.id))),M.success(`Đã xóa ${g.length} khách hàng`);break;case"active":l(e=>e.map(e=>g.includes(e.id)?{...e,status:"active"}:e)),M.success(`Đã kích hoạt ${g.length} khách hàng`);break;case"inactive":l(e=>e.map(e=>g.includes(e.id)?{...e,status:"inactive"}:e)),M.success(`Đã vô hiệu hóa ${g.length} khách hàng`);break;case"export":M.success("Đã xuất file Excel với dữ liệu đã chọn")}f([]),i(!1)},1e3)):M.warning("Vui lòng chọn ít nhất một khách hàng")},W=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),X=e=>t.jsxs(T,{children:[t.jsx(T.Item,{icon:t.jsx(ne,{}),onClick:()=>(V(e),void B(!0)),children:"Xem chi tiết"},"view"),t.jsx(T.Item,{icon:t.jsx(_e,{}),onClick:()=>s(`/admin/customers/edit/${e.id}`),children:"Chỉnh sửa"},"edit"),t.jsx(T.Divider,{}),t.jsx(T.Item,{icon:t.jsx(Te,{}),danger:!0,onClick:()=>(H(e),void q(!0)),children:"Xóa"},"delete")]}),Q=e=>{switch(e){case"active":return t.jsx(v,{color:"green",children:"Hoạt động"});case"inactive":return t.jsx(v,{color:"red",children:"Vô hiệu"});case"new":return t.jsx(v,{color:"blue",children:"Mới"});default:return t.jsx(v,{children:"Unknown"})}},J=e=>{if(!e)return t.jsx(ai,{type:"secondary",children:"Chưa có"});let n="";switch(e){case"Bronze":n="#cd7f32";break;case"Silver":n="#c0c0c0";break;case"Gold":n="#ffd700";break;case"Platinum":n="#e5e4e2";break;default:n="#999"}return t.jsx(v,{color:n,style:{color:"Gold"===e?"#5c4d00":void 0},children:e})},Z=[{title:"Khách hàng",dataIndex:"name",key:"name",render:(e,n)=>t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx(R,{icon:t.jsx(de,{}),style:{backgroundColor:"female"===n.gender?"#ff7875":"male"===n.gender?"#1890ff":"#722ed1",marginRight:"8px"}}),t.jsxs("div",{children:[t.jsx("div",{children:e}),t.jsx("div",{style:{fontSize:"12px",color:"rgba(0, 0, 0, 0.45)"},children:n.email})]})]})},{title:"Điện thoại",dataIndex:"phone",key:"phone"},{title:"Đơn hàng",dataIndex:"orders",key:"orders",sorter:(e,t)=>e.orders-t.orders,render:e=>t.jsx(j,{count:e,showZero:!0,style:{backgroundColor:e>0?"#1890ff":"#d9d9d9"}})},{title:"Tổng chi tiêu",dataIndex:"totalSpent",key:"totalSpent",sorter:(e,t)=>e.totalSpent-t.totalSpent,render:e=>W(e)},{title:"Ngày tạo",dataIndex:"createdDate",key:"createdDate",sorter:(e,t)=>Ht(e.createdDate).unix()-Ht(t.createdDate).unix(),render:e=>Ht(e).format("DD/MM/YYYY")},{title:"Lần mua cuối",dataIndex:"lastOrderDate",key:"lastOrderDate",sorter:(e,t)=>e.lastOrderDate?t.lastOrderDate?Ht(e.lastOrderDate).unix()-Ht(t.lastOrderDate).unix():-1:1,render:e=>e?Ht(e).format("DD/MM/YYYY"):t.jsx(ai,{type:"secondary",children:"Chưa mua"})},{title:"Hạng thành viên",dataIndex:"membership",key:"membership",render:e=>J(e)},{title:"Trạng thái",dataIndex:"status",key:"status",render:e=>Q(e)},{title:"Thao tác",key:"action",render:(e,n)=>t.jsx(D,{overlay:X(n),trigger:["click"],children:t.jsx(p,{type:"text",icon:t.jsx(Ne,{}),onClick:e=>e.preventDefault()})})}],te=t.jsxs(T,{children:[t.jsx(T.Item,{icon:t.jsx(ee,{}),onClick:()=>U("active"),children:"Kích hoạt đã chọn"},"active"),t.jsx(T.Item,{icon:t.jsx(ct,{}),onClick:()=>U("inactive"),children:"Vô hiệu hóa đã chọn"},"inactive"),t.jsx(T.Divider,{}),t.jsx(T.Item,{icon:t.jsx(Oe,{}),onClick:()=>U("export"),children:"Xuất Excel đã chọn"},"export"),t.jsx(T.Item,{icon:t.jsx(Te,{}),danger:!0,onClick:()=>U("delete"),children:"Xóa đã chọn"},"delete")]});return t.jsxs("div",{className:"customer-management",children:[t.jsx(c,{bordered:!1,className:"header-card",children:t.jsxs(d,{justify:"space-between",align:"middle",gutter:[24,24],children:[t.jsxs(h,{xs:24,sm:12,children:[t.jsx(si,{level:3,children:"Quản lý khách hàng"}),t.jsx(ai,{type:"secondary",children:"Quản lý thông tin và dữ liệu khách hàng"})]}),t.jsx(h,{xs:24,sm:12,children:t.jsxs(m,{wrap:!0,style:{width:"100%",justifyContent:"flex-end"},children:[t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>s("/admin/customers/add"),children:"Thêm khách hàng"}),t.jsx(p,{icon:t.jsx(Re,{}),children:"Nhập Excel"}),t.jsx(p,{icon:t.jsx(ke,{}),children:"Xuất Excel"}),t.jsx(p,{icon:t.jsx(Le,{}),loading:a,onClick:()=>i(!0),children:"Làm mới"})]})})]})}),t.jsx("div",{style:{margin:"24px 0"},children:(()=>{const e=r.length,n=r.filter(e=>"active"===e.status).length,s=r.filter(e=>"inactive"===e.status).length,a=r.filter(e=>"new"===e.status).length,i=r.filter(e=>e.orders>0).length;return t.jsxs(d,{gutter:[16,16],children:[t.jsx(h,{xs:12,sm:8,md:6,lg:4,children:t.jsx(c,{size:"small",children:t.jsx(b,{title:"Tổng khách hàng",value:e,prefix:t.jsx(xe,{})})})}),t.jsx(h,{xs:12,sm:8,md:6,lg:4,children:t.jsx(c,{size:"small",children:t.jsx(b,{title:"Đang hoạt động",value:n,valueStyle:{color:"#52c41a"},prefix:t.jsx(de,{})})})}),t.jsx(h,{xs:12,sm:8,md:6,lg:4,children:t.jsx(c,{size:"small",children:t.jsx(b,{title:"Không hoạt động",value:s,valueStyle:{color:"#cf1322"},prefix:t.jsx(de,{})})})}),t.jsx(h,{xs:12,sm:8,md:6,lg:4,children:t.jsx(c,{size:"small",children:t.jsx(b,{title:"Mới",value:a,valueStyle:{color:"#1890ff"},prefix:t.jsx(at,{})})})}),t.jsx(h,{xs:12,sm:8,md:6,lg:4,children:t.jsx(c,{size:"small",children:t.jsx(b,{title:"Đã mua hàng",value:i,valueStyle:{color:"#722ed1"},prefix:t.jsx(we,{})})})}),t.jsx(h,{xs:12,sm:8,md:6,lg:4,children:t.jsx(c,{size:"small",children:t.jsx(b,{title:"Tỉ lệ mua hàng",value:e?(i/e*100).toFixed(1):0,suffix:"%",precision:1,prefix:t.jsx(ht,{})})})})]})})()}),t.jsxs(c,{bordered:!1,children:[t.jsx("div",{style:{marginBottom:"16px"},children:t.jsxs(d,{gutter:[16,16],align:"middle",children:[t.jsx(h,{xs:24,md:8,children:t.jsx(ii,{placeholder:"Tìm khách hàng theo tên, email, SĐT...",allowClear:!0,enterButton:!0,onSearch:e=>w(e),onChange:e=>w(e.target.value)})}),t.jsx(h,{xs:12,md:4,children:t.jsxs(x,{style:{width:"100%"},placeholder:"Lọc theo trạng thái",onChange:e=>P(e),value:I,children:[t.jsx(ri,{value:"all",children:"Tất cả trạng thái"}),t.jsx(ri,{value:"active",children:"Hoạt động"}),t.jsx(ri,{value:"inactive",children:"Vô hiệu"}),t.jsx(ri,{value:"new",children:"Mới"})]})}),t.jsx(h,{xs:12,md:4,children:t.jsxs(x,{style:{width:"100%"},placeholder:"Lọc theo hạng thành viên",onChange:e=>N(e),value:_,children:[t.jsx(ri,{value:"all",children:"Tất cả hạng"}),t.jsx(ri,{value:"Bronze",children:"Bronze"}),t.jsx(ri,{value:"Silver",children:"Silver"}),t.jsx(ri,{value:"Gold",children:"Gold"}),t.jsx(ri,{value:"Platinum",children:"Platinum"}),t.jsx(ri,{value:"none",children:"Chưa có hạng"})]})}),t.jsx(h,{xs:24,md:8,style:{textAlign:"right"},children:t.jsxs(m,{children:[g.length>0&&t.jsxs(ai,{type:"secondary",children:["Đã chọn ",g.length," khách hàng"]}),g.length>0&&t.jsx(D,{overlay:te,children:t.jsxs(p,{children:["Thao tác ",t.jsx(Me,{})]})}),t.jsx(p,{icon:t.jsx(De,{}),onClick:()=>{w(""),P("all"),N("all")},children:"Xóa bộ lọc"})]})})]})}),t.jsx(y,{rowSelection:G,columns:Z,dataSource:o,rowKey:"id",loading:a,pagination:{pageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"]}})]}),t.jsxs(A,{title:"Xác nhận xóa khách hàng",visible:E,onOk:()=>{i(!0),setTimeout(()=>{l(e=>e.filter(e=>e.id!==K.id)),M.success(`Đã xóa khách hàng: ${K.name}`),q(!1),H(null),i(!1)},1e3)},onCancel:()=>q(!1),okText:"Xóa",cancelText:"Hủy",okButtonProps:{danger:!0},children:[t.jsxs("p",{children:["Bạn có chắc chắn muốn xóa khách hàng ",t.jsx("strong",{children:K?.name}),"?"]}),t.jsx("p",{children:"Hành động này không thể hoàn tác và sẽ xóa tất cả dữ liệu liên quan đến khách hàng này."})]}),t.jsx(z,{title:"Chi tiết khách hàng",width:500,placement:"right",onClose:()=>B(!1),visible:F,footer:t.jsxs(m,{children:[t.jsx(p,{onClick:()=>{B(!1),s(`/admin/customers/edit/${O?.id}`)},type:"primary",children:"Chỉnh sửa"}),t.jsx(p,{onClick:()=>B(!1),children:"Đóng"})]}),children:O&&t.jsxs("div",{children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[t.jsx(R,{size:80,icon:t.jsx(de,{}),style:{backgroundColor:"female"===O.gender?"#ff7875":"male"===O.gender?"#1890ff":"#722ed1"}}),t.jsx(si,{level:4,style:{marginTop:"16px",marginBottom:"0"},children:O.name}),J(O.membership),Q(O.status)]}),t.jsx(C,{orientation:"left",children:"Thông tin liên hệ"}),t.jsxs("p",{children:[t.jsx(Ge,{})," Email: ",t.jsx(ai,{copyable:!0,children:O.email})]}),t.jsxs("p",{children:[t.jsx(it,{})," Điện thoại: ",t.jsx(ai,{copyable:!0,children:O.phone})]}),t.jsxs("p",{children:[t.jsx(dt,{})," Địa chỉ: ",O.address]}),t.jsx(C,{orientation:"left",children:"Thông tin tài khoản"}),t.jsxs("p",{children:[t.jsx(ge,{})," Ngày tạo: ",Ht(O.createdDate).format("DD/MM/YYYY")]}),t.jsxs("p",{children:[t.jsx(we,{})," Tổng đơn hàng: ",O.orders]}),t.jsxs("p",{children:[t.jsx(ht,{})," Tổng chi tiêu: ",W(O.totalSpent)]}),t.jsxs("p",{children:[t.jsx(pe,{})," Điểm tích lũy: ",O.points," điểm"]}),O.notes&&t.jsxs(t.Fragment,{children:[t.jsx(C,{orientation:"left",children:"Ghi chú"}),t.jsx("p",{children:O.notes})]}),t.jsx(C,{orientation:"left",children:"Hoạt động gần đây"}),t.jsxs(k,{defaultActiveKey:"orders",children:[t.jsx(li,{tab:"Đơn hàng",children:O.orders>0?t.jsx(y,{size:"small",pagination:!1,columns:[{title:"Mã đơn",dataIndex:"code",key:"code"},{title:"Ngày",dataIndex:"date",key:"date"},{title:"Giá trị",dataIndex:"value",key:"value",align:"right"}],dataSource:Array(Math.min(O.orders,5)).fill().map((e,t)=>({key:t,code:`ORD-${1e5+t}`,date:Ht(O.lastOrderDate).subtract(15*t,"days").format("DD/MM/YYYY"),value:W(Math.floor(5e6*Math.random())+5e5)}))}):t.jsx(L,{description:"Chưa có đơn hàng nào"})},"orders"),t.jsx(li,{tab:"Lịch sử",children:t.jsxs($,{children:[t.jsxs($.Item,{color:"green",children:["Tạo tài khoản - ",Ht(O.createdDate).format("DD/MM/YYYY")]}),O.orders>0&&t.jsxs($.Item,{color:"blue",children:["Đơn hàng đầu tiên - ",Ht(O.createdDate).add(5,"days").format("DD/MM/YYYY")]}),O.membership&&t.jsxs($.Item,{color:"gold",children:["Đạt hạng ",O.membership," - ",Ht(O.createdDate).add(30,"days").format("DD/MM/YYYY")]}),O.orders>3&&t.jsxs($.Item,{color:"purple",children:["Lần mua hàng gần nhất - ",Ht(O.lastOrderDate).format("DD/MM/YYYY")]})]})},"history")]})]})})]})}},Symbol.toStringTag,{value:"Module"})),{Title:ci,Text:di,Paragraph:hi}=u,{TabPane:ui}=k,{Option:mi}=x,{RangePicker:xi}=f,{TextArea:pi}=P,gi=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState("programs"),[a,i]=e.useState(!0),[r,l]=e.useState([]),[o,u]=e.useState([]),[j,f]=e.useState(!1),[b,C]=e.useState(!1),[I,T]=e.useState(null),[D,R]=e.useState(null),[N]=_.useForm(),[F]=_.useForm(),O=[{id:1,name:"Chương trình thành viên cơ bản",description:"Tích điểm cơ bản cho mọi đơn hàng",pointsPerVnd:1e-4,status:"active",startDate:"2023-01-01",endDate:null,memberCount:450,rules:["Tích 1 điểm cho mỗi 10,000 VND chi tiêu","Điểm có hiệu lực trong vòng 12 tháng","Áp dụng cho tất cả khách hàng đã đăng ký"]},{id:2,name:"Chương trình khách hàng VIP",description:"Đặc quyền cho khách hàng chi tiêu cao",pointsPerVnd:2e-4,status:"active",startDate:"2023-03-15",endDate:null,memberCount:85,rules:["Tích 1 điểm cho mỗi 5,000 VND chi tiêu","Ưu đãi giảm giá đặc biệt hàng tháng","Chỉ áp dụng cho khách hàng chi tiêu trên 50 triệu/năm","Tặng voucher sinh nhật trị giá 500,000 VND"]},{id:3,name:"Chương trình khuyến mãi hè 2023",description:"Tích điểm tăng gấp đôi trong mùa hè",pointsPerVnd:2e-4,status:"inactive",startDate:"2023-06-01",endDate:"2023-08-31",memberCount:320,rules:["Tích điểm gấp đôi cho tất cả đơn hàng","Áp dụng cho tất cả khách hàng","Có hiệu lực từ 01/06 đến 31/08/2023"]}],V=[{id:1,name:"Voucher giảm giá 50,000 VND",description:"Áp dụng cho đơn hàng từ 500,000 VND",pointsCost:50,type:"voucher",status:"active",redemptionCount:125,expiryDays:30,image:"https://via.placeholder.com/100",conditions:"Áp dụng cho đơn hàng từ 500,000 VND"},{id:2,name:"Voucher giảm giá 100,000 VND",description:"Áp dụng cho đơn hàng từ 1,000,000 VND",pointsCost:90,type:"voucher",status:"active",redemptionCount:78,expiryDays:30,image:"https://via.placeholder.com/100",conditions:"Áp dụng cho đơn hàng từ 1,000,000 VND"},{id:3,name:"Quà tặng tai nghe không dây",description:"Tai nghe Bluetooth chất lượng cao",pointsCost:500,type:"gift",status:"active",redemptionCount:45,expiryDays:null,image:"https://via.placeholder.com/100",conditions:"Số lượng có hạn, chỉ áp dụng đến khi hết hàng"},{id:4,name:"Miễn phí vận chuyển",description:"Miễn phí vận chuyển cho đơn hàng bất kỳ",pointsCost:30,type:"shipping",status:"active",redemptionCount:210,expiryDays:15,image:"https://via.placeholder.com/100",conditions:"Áp dụng cho tất cả đơn hàng, không áp dụng cùng khuyến mãi khác"},{id:5,name:"Giảm giá 15%",description:"Giảm giá 15% cho đơn hàng",pointsCost:150,type:"discount",status:"inactive",redemptionCount:32,expiryDays:30,image:"https://via.placeholder.com/100",conditions:"Không áp dụng cho sản phẩm đã giảm giá"}];e.useEffect(()=>{setTimeout(()=>{l(O),u(V),i(!1)},1e3)},[]);const E=e=>{T(e),N.setFieldsValue({name:e.name,description:e.description,pointsPerVnd:e.pointsPerVnd,status:e.status,dateRange:e.endDate?[new Date(e.startDate),new Date(e.endDate)]:[new Date(e.startDate),null],rules:e.rules.join("\n")}),f(!0)},L=e=>{R(e),F.setFieldsValue({name:e.name,description:e.description,pointsCost:e.pointsCost,type:e.type,status:e.status,expiryDays:e.expiryDays,conditions:e.conditions}),C(!0)},z=e=>t.jsx(v,{color:{active:"green",inactive:"orange",draft:"blue",expired:"red"}[e]||"default",children:{active:"Hoạt động",inactive:"Tạm dừng",draft:"Bản nháp",expired:"Hết hạn"}[e]||e}),K=e=>{switch(e){case"voucher":return t.jsx(mt,{style:{color:"#1890ff"}});case"discount":return t.jsx(He,{style:{color:"#52c41a"}});case"gift":return t.jsx(ut,{style:{color:"#faad14"}});case"shipping":return t.jsx(xt,{style:{color:"#722ed1"}});default:return t.jsx(mt,{})}},$=[{title:"Tên chương trình",dataIndex:"name",key:"name",render:(e,n)=>t.jsxs(m,{children:[t.jsx(ut,{style:{color:"#faad14"}}),t.jsx("a",{onClick:()=>E(n),children:e})]})},{title:"Mô tả",dataIndex:"description",key:"description",ellipsis:!0},{title:"Tỷ lệ điểm",dataIndex:"pointsPerVnd",key:"pointsPerVnd",render:e=>`1 điểm / ${new Intl.NumberFormat("vi-VN").format(1/e)} VND`},{title:"Trạng thái",dataIndex:"status",key:"status",render:e=>z(e)},{title:"Thời gian",key:"time",render:(e,n)=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:["Bắt đầu: ",n.startDate]}),n.endDate&&t.jsxs("div",{children:["Kết thúc: ",n.endDate]})]})},{title:"Số thành viên",dataIndex:"memberCount",key:"memberCount",sorter:(e,t)=>e.memberCount-t.memberCount},{title:"Thao tác",key:"actions",render:(e,n)=>t.jsxs(m,{children:[t.jsx(p,{icon:t.jsx(_e,{}),size:"small",onClick:()=>E(n)}),t.jsx(q,{title:"Bạn có chắc chắn muốn xóa chương trình này?",onConfirm:()=>{return e=n.id,l(r.filter(t=>t.id!==e)),void M.success("Đã xóa chương trình!");var e},okText:"Xóa",cancelText:"Hủy",children:t.jsx(p,{icon:t.jsx(Te,{}),size:"small",danger:!0})})]})}],H=[{title:"Phần thưởng",dataIndex:"name",key:"name",render:(e,n)=>t.jsxs(m,{children:[K(n.type),t.jsx("a",{onClick:()=>L(n),children:e})]})},{title:"Mô tả",dataIndex:"description",key:"description",ellipsis:!0},{title:"Loại",dataIndex:"type",key:"type",render:e=>({voucher:"Voucher",discount:"Giảm giá",gift:"Quà tặng",shipping:"Vận chuyển"}[e]||e)},{title:"Điểm đổi",dataIndex:"pointsCost",key:"pointsCost",sorter:(e,t)=>e.pointsCost-t.pointsCost},{title:"Trạng thái",dataIndex:"status",key:"status",render:e=>z(e)},{title:"Đã đổi",dataIndex:"redemptionCount",key:"redemptionCount",sorter:(e,t)=>e.redemptionCount-t.redemptionCount},{title:"Thao tác",key:"actions",render:(e,n)=>t.jsxs(m,{children:[t.jsx(p,{icon:t.jsx(_e,{}),size:"small",onClick:()=>L(n)}),t.jsx(q,{title:"Bạn có chắc chắn muốn xóa phần thưởng này?",onConfirm:()=>{return e=n.id,u(o.filter(t=>t.id!==e)),void M.success("Đã xóa phần thưởng!");var e},okText:"Xóa",cancelText:"Hủy",children:t.jsx(p,{icon:t.jsx(Te,{}),size:"small",danger:!0})})]})}];return t.jsxs("div",{children:[t.jsx(ci,{level:2,children:"Quản lý chương trình khách hàng thân thiết"}),t.jsxs(k,{activeKey:n,onChange:s,children:[t.jsxs(ui,{tab:"Chương trình thành viên",children:[t.jsx("div",{style:{marginBottom:16},children:t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>{T(null),N.resetFields(),f(!0)},children:"Thêm chương trình mới"})}),t.jsx(y,{columns:$,dataSource:r,rowKey:"id",loading:a,expandable:{expandedRowRender:e=>t.jsxs("div",{children:[t.jsx(ci,{level:5,children:"Quy tắc chương trình:"}),t.jsx(g,{size:"small",bordered:!0,dataSource:e.rules,renderItem:e=>t.jsxs(g.Item,{children:[t.jsx(ee,{style:{color:"#52c41a",marginRight:8}}),e]})})]})}})]},"programs"),t.jsxs(ui,{tab:"Phần thưởng & Đổi điểm",children:[t.jsx("div",{style:{marginBottom:16},children:t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>{R(null),F.resetFields(),C(!0)},children:"Thêm phần thưởng mới"})}),t.jsx(y,{columns:H,dataSource:o,rowKey:"id",loading:a})]},"rewards"),t.jsx(ui,{tab:"Thống kê & Báo cáo",children:t.jsx(w,{message:"Báo cáo chương trình thành viên",description:"Chức năng báo cáo đang được phát triển và sẽ có sẵn trong phiên bản tới.",type:"info",showIcon:!0})},"stats"),t.jsx(ui,{tab:"Thiết lập",children:t.jsx(c,{title:"Thiết lập chung",children:t.jsxs(_,{layout:"vertical",children:[t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{label:"Tỷ lệ tích điểm mặc định",tooltip:"Số điểm tích được cho mỗi VND chi tiêu",children:t.jsx(B,{style:{width:"100%"},min:0,step:1e-5,defaultValue:1e-4})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{label:"Thời hạn điểm (ngày)",tooltip:"Số ngày điểm có hiệu lực kể từ ngày tích lũy",children:t.jsx(B,{style:{width:"100%"},min:30,defaultValue:365})})})]}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{label:"Số tiền tối thiểu để tích điểm",children:t.jsx(B,{style:{width:"100%"},min:0,step:1e4,defaultValue:0,formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>e.replace(/\$\s?|(,*)/g,"")})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{label:"Giá trị tối thiểu để sử dụng điểm",children:t.jsx(B,{style:{width:"100%"},min:0,step:1e4,defaultValue:0,formatter:e=>`${e}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:e=>e.replace(/\$\s?|(,*)/g,"")})})})]}),t.jsx(_.Item,{label:"Các cấp độ thành viên",children:t.jsxs(x,{defaultValue:"basic",style:{width:"100%"},children:[t.jsx(mi,{value:"basic",children:"Cơ bản (3 cấp độ)"}),t.jsx(mi,{value:"advanced",children:"Nâng cao (5 cấp độ)"}),t.jsx(mi,{value:"custom",children:"Tùy chỉnh"})]})}),t.jsx(_.Item,{children:t.jsx(p,{type:"primary",children:"Lưu thiết lập"})})]})})},"settings")]}),t.jsx(A,{title:I?"Chỉnh sửa chương trình":"Thêm chương trình mới",visible:j,onOk:()=>{N.validateFields().then(e=>{const{name:t,description:n,pointsPerVnd:s,status:a,dateRange:i,rules:o}=e,c=o.split("\n").filter(e=>""!==e.trim());if(I){const e={...I,name:t,description:n,pointsPerVnd:s,status:a,startDate:i[0].toISOString().split("T")[0],endDate:i[1]?i[1].toISOString().split("T")[0]:null,rules:c},o=r.map(t=>t.id===I.id?e:t);l(o),M.success("Cập nhật chương trình thành công!")}else{const e={id:r.length+1,name:t,description:n,pointsPerVnd:s,status:a,startDate:i[0].toISOString().split("T")[0],endDate:i[1]?i[1].toISOString().split("T")[0]:null,memberCount:0,rules:c};l([...r,e]),M.success("Thêm chương trình thành công!")}f(!1),T(null),N.resetFields()})},onCancel:()=>{f(!1),T(null),N.resetFields()},width:700,okText:I?"Cập nhật":"Thêm mới",cancelText:"Hủy",children:t.jsxs(_,{form:N,layout:"vertical",children:[t.jsx(_.Item,{name:"name",label:"Tên chương trình",rules:[{required:!0,message:"Vui lòng nhập tên chương trình"}],children:t.jsx(P,{})}),t.jsx(_.Item,{name:"description",label:"Mô tả",rules:[{required:!0,message:"Vui lòng nhập mô tả"}],children:t.jsx(pi,{rows:3})}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"pointsPerVnd",label:t.jsxs("span",{children:["Tỷ lệ điểm",t.jsx(S,{title:"Số điểm tích được cho mỗi VND chi tiêu",children:t.jsx(Ee,{style:{marginLeft:4}})})]}),rules:[{required:!0,message:"Vui lòng nhập tỷ lệ điểm"}],children:t.jsx(B,{style:{width:"100%"},min:0,step:1e-5})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"status",label:"Trạng thái",rules:[{required:!0,message:"Vui lòng chọn trạng thái"}],children:t.jsxs(x,{children:[t.jsx(mi,{value:"active",children:"Hoạt động"}),t.jsx(mi,{value:"inactive",children:"Tạm dừng"}),t.jsx(mi,{value:"draft",children:"Bản nháp"})]})})})]}),t.jsx(_.Item,{name:"dateRange",label:"Thời gian áp dụng",rules:[{required:!0,message:"Vui lòng chọn thời gian áp dụng"}],children:t.jsx(xi,{style:{width:"100%"}})}),t.jsx(_.Item,{name:"rules",label:"Quy tắc chương trình (mỗi quy tắc một dòng)",children:t.jsx(pi,{rows:5})})]})}),t.jsx(A,{title:D?"Chỉnh sửa phần thưởng":"Thêm phần thưởng mới",visible:b,onOk:()=>{F.validateFields().then(e=>{const{name:t,description:n,pointsCost:s,type:a,status:i,expiryDays:r,conditions:l}=e;if(D){const e={...D,name:t,description:n,pointsCost:s,type:a,status:i,expiryDays:r,conditions:l},c=o.map(t=>t.id===D.id?e:t);u(c),M.success("Cập nhật phần thưởng thành công!")}else{const e={id:o.length+1,name:t,description:n,pointsCost:s,type:a,status:i,expiryDays:r,redemptionCount:0,image:"https://via.placeholder.com/100",conditions:l};u([...o,e]),M.success("Thêm phần thưởng thành công!")}C(!1),R(null),F.resetFields()})},onCancel:()=>{C(!1),R(null),F.resetFields()},width:700,okText:D?"Cập nhật":"Thêm mới",cancelText:"Hủy",children:t.jsxs(_,{form:F,layout:"vertical",children:[t.jsx(_.Item,{name:"name",label:"Tên phần thưởng",rules:[{required:!0,message:"Vui lòng nhập tên phần thưởng"}],children:t.jsx(P,{})}),t.jsx(_.Item,{name:"description",label:"Mô tả",rules:[{required:!0,message:"Vui lòng nhập mô tả"}],children:t.jsx(pi,{rows:2})}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"pointsCost",label:"Số điểm đổi",rules:[{required:!0,message:"Vui lòng nhập số điểm đổi"}],children:t.jsx(B,{style:{width:"100%"},min:1})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"type",label:"Loại phần thưởng",rules:[{required:!0,message:"Vui lòng chọn loại phần thưởng"}],children:t.jsxs(x,{children:[t.jsx(mi,{value:"voucher",children:"Voucher"}),t.jsx(mi,{value:"discount",children:"Giảm giá"}),t.jsx(mi,{value:"gift",children:"Quà tặng"}),t.jsx(mi,{value:"shipping",children:"Vận chuyển"})]})})})]}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"status",label:"Trạng thái",rules:[{required:!0,message:"Vui lòng chọn trạng thái"}],children:t.jsxs(x,{children:[t.jsx(mi,{value:"active",children:"Hoạt động"}),t.jsx(mi,{value:"inactive",children:"Tạm dừng"})]})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"expiryDays",label:"Thời hạn (ngày)",tooltip:"Số ngày phần thưởng có hiệu lực sau khi đổi. Để trống nếu không có hạn",children:t.jsx(B,{style:{width:"100%"},min:1})})})]}),t.jsx(_.Item,{name:"conditions",label:"Điều kiện áp dụng",children:t.jsx(pi,{rows:3})})]})})]})}},Symbol.toStringTag,{value:"Module"})),{Title:ji,Text:yi,Paragraph:vi}=u,{Option:fi}=x,{TabPane:bi}=k,Si=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState(!0),[a,i]=e.useState("year"),[r,l]=e.useState([]),[o,u]=e.useState([]),[m,g]=e.useState([]),[j,f]=e.useState([]),[S,C]=e.useState([]),[I,T]=e.useState([]),[P,D]=e.useState([]);e.useEffect(()=>{s(!0),setTimeout(()=>{const e=A(),t=M(),n=R(),a=_(),i=N(),r=F();l([{segment:"Khách hàng VIP",value:52,percentage:5.2,color:"#722ed1"},{segment:"Khách hàng trung thành",value:187,percentage:18.7,color:"#2f54eb"},{segment:"Khách hàng tiềm năng",value:245,percentage:24.5,color:"#1890ff"},{segment:"Khách hàng mới",value:321,percentage:32.1,color:"#52c41a"},{segment:"Khách hàng không hoạt động",value:195,percentage:19.5,color:"#faad14"}]),f(e),u(t),g(n),C(a),T(i),D(r),s(!1)},1500)},[a]);const A=()=>{const e=[];for(let t=1;t<=5;t++)for(let n=1;n<=5;n++)for(let s=1;s<=5;s++){let a="",i=0;t>=4&&n>=4&&s>=4?(a="VIP",i=Math.floor(10*Math.random())+5):t>=3&&n>=3&&s>=3?(a="Trung thành",i=Math.floor(20*Math.random())+10):t>=3&&(n>=3||s>=3)?(a="Tiềm năng",i=Math.floor(30*Math.random())+15):t<=2&&n<=2&&s<=2?(a="Ngủ đông",i=Math.floor(25*Math.random())+10):(a="Trung bình",i=Math.floor(40*Math.random())+20),e.push({r:t,f:n,m:s,segment:a,value:i})}return e},M=()=>[{category:"Dưới 1tr",value:352,color:"#d9d9d9"},{category:"1tr - 5tr",value:421,color:"#faad14"},{category:"5tr - 15tr",value:127,color:"#52c41a"},{category:"15tr - 30tr",value:68,color:"#1890ff"},{category:"Trên 30tr",value:32,color:"#722ed1"}],R=()=>[{time:"0-7 ngày",value:143},{time:"8-30 ngày",value:205},{time:"31-60 ngày",value:187},{time:"61-90 ngày",value:139},{time:"91-180 ngày",value:117},{time:"181-365 ngày",value:112},{time:"Trên 365 ngày",value:97}],_=()=>{const e=[],t=Ht().subtract(12,"months");for(let n=0;n<12;n++){const s=t.clone().add(n,"months").format("MM/YYYY");e.push({month:s,"Mới":Math.floor(2e5*Math.random())+1e5,"0-6 tháng":Math.floor(5e5*Math.random())+3e5,"6-12 tháng":Math.floor(8e5*Math.random())+5e5,"1-2 năm":Math.floor(12e5*Math.random())+8e5,"Trên 2 năm":Math.floor(2e6*Math.random())+12e5})}return e},N=()=>[{age:"18-24",male:87,female:95},{age:"25-34",male:147,female:158},{age:"35-44",male:118,female:103},{age:"45-54",male:73,female:67},{age:"55-64",male:52,female:48},{age:"65+",male:32,female:20}],F=()=>[{id:1,name:"Nguyễn Văn A",orders:12,totalSpent:458e5,lastOrder:"2023-06-18",segment:"VIP"},{id:2,name:"Trần Thị B",orders:8,totalSpent:385e5,lastOrder:"2023-06-22",segment:"Trung thành"},{id:3,name:"Lê Minh C",orders:15,totalSpent:372e5,lastOrder:"2023-06-10",segment:"VIP"},{id:4,name:"Phạm Văn D",orders:10,totalSpent:326e5,lastOrder:"2023-06-15",segment:"Trung thành"},{id:5,name:"Hoàng Thị E",orders:7,totalSpent:289e5,lastOrder:"2023-06-05",segment:"Tiềm năng"}],B=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),O={data:r,angleField:"value",colorField:"segment",radius:.8,label:{type:"outer",content:"{name}: {percentage}"},color:({segment:e})=>{const t=r.find(t=>t.segment===e);return t?t.color:"#1890ff"},interactions:[{type:"element-active"}]},V={data:o,angleField:"value",colorField:"category",radius:.8,label:{type:"inner",content:"{percentage}"},color:({category:e})=>{const t=o.find(t=>t.category===e);return t?t.color:"#1890ff"},interactions:[{type:"element-active"}]},E={data:m,xField:"time",yField:"value",color:"#1890ff",label:{position:"middle",style:{fill:"#FFFFFF",opacity:.6}}},L={data:S,xField:"month",yField:"value",seriesField:"segment",isStack:!0,label:!1,legend:{position:"top"},color:["#1890ff","#52c41a","#faad14","#eb2f96","#722ed1"]},z=S.reduce((e,t)=>{const{month:n,...s}=t;return Object.entries(s).forEach(([t,s])=>{e.push({month:n,segment:t,value:s})}),e},[]),q={data:I,xField:"age",yField:["male","female"],isGroup:!0,color:["#1890ff","#eb2f96"],label:{position:"middle",layout:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"}]},legend:{position:"top-right",itemName:{formatter:e=>"male"===e?"Nam":"female"===e?"Nữ":e}}},K=[{title:"Khách hàng",dataIndex:"name",key:"name"},{title:"Đơn hàng",dataIndex:"orders",key:"orders",align:"right"},{title:"Tổng chi tiêu",dataIndex:"totalSpent",key:"totalSpent",align:"right",render:e=>B(e)},{title:"Mua gần nhất",dataIndex:"lastOrder",key:"lastOrder",render:e=>Ht(e).format("DD/MM/YYYY")},{title:"Phân khúc",dataIndex:"segment",key:"segment",render:e=>{let n="";switch(e){case"VIP":n="#722ed1";break;case"Trung thành":n="#2f54eb";break;default:n="#1890ff"}return t.jsx(v,{color:n,children:e})}}];return t.jsxs("div",{className:"customer-segmentation",children:[t.jsx(c,{bordered:!1,className:"header-card",children:t.jsxs(d,{justify:"space-between",align:"middle",gutter:[24,24],children:[t.jsxs(h,{xs:24,sm:12,children:[t.jsx(ji,{level:3,children:"Phân khúc khách hàng"}),t.jsx(yi,{type:"secondary",children:"Phân tích và phân khúc khách hàng để hiểu rõ hơn về đối tượng mục tiêu"})]}),t.jsx(h,{xs:24,sm:12,children:t.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px",flexWrap:"wrap"},children:[t.jsxs(x,{style:{width:120},value:a,onChange:e=>{i(e),s(!0),setTimeout(()=>s(!1),1e3)},loading:n,children:[t.jsx(fi,{value:"month",children:"30 ngày qua"}),t.jsx(fi,{value:"quarter",children:"90 ngày qua"}),t.jsx(fi,{value:"year",children:"365 ngày qua"}),t.jsx(fi,{value:"all",children:"Tất cả thời gian"})]}),t.jsx(p,{icon:t.jsx(Z,{}),onClick:()=>{s(!0),setTimeout(()=>s(!1),1e3)},loading:n,children:"Làm mới"}),t.jsx(p,{icon:t.jsx(fe,{}),disabled:n,children:"Xuất báo cáo"})]})})]})}),t.jsxs(d,{gutter:[24,24],style:{marginTop:"24px"},children:[t.jsx(h,{xs:24,sm:8,children:t.jsx(c,{bordered:!1,loading:n,children:t.jsx(b,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx(de,{}),t.jsx("span",{children:"Tổng khách hàng"})]}),value:1e3,suffix:t.jsxs("div",{style:{fontSize:"14px",color:"#52c41a"},children:[t.jsx(ie,{})," +12.5% so với kỳ trước"]})})})}),t.jsx(h,{xs:24,sm:8,children:t.jsx(c,{bordered:!1,loading:n,children:t.jsx(b,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx(ht,{}),t.jsx("span",{children:"Giá trị trung bình"})]}),value:1245e4,precision:0,formatter:e=>B(e),suffix:t.jsxs("div",{style:{fontSize:"14px",color:"#52c41a"},children:[t.jsx(ie,{})," +8.3% so với kỳ trước"]})})})}),t.jsx(h,{xs:24,sm:8,children:t.jsx(c,{bordered:!1,loading:n,children:t.jsx(b,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx(we,{}),t.jsx("span",{children:"Tỷ lệ mua lại"})]}),value:42.5,suffix:"%",precision:1,valueStyle:{color:"#1890ff"}})})})]}),t.jsxs(d,{gutter:[24,24],style:{marginTop:"24px"},children:[t.jsx(h,{xs:24,lg:12,children:t.jsx(c,{title:t.jsxs("span",{children:[t.jsx(Se,{})," Phân khúc khách hàng"]}),bordered:!1,loading:n,children:t.jsx(qt,{...O,height:300})})}),t.jsx(h,{xs:24,lg:12,children:t.jsxs(k,{defaultActiveKey:"value",children:[t.jsx(bi,{tab:t.jsxs("span",{children:[t.jsx(ht,{})," Phân bố giá trị"]}),children:t.jsx(c,{bordered:!1,loading:n,bodyStyle:{padding:"12px"},children:t.jsx(qt,{...V,height:300})})},"value"),t.jsx(bi,{tab:t.jsxs("span",{children:[t.jsx(ge,{})," Thời gian mua gần nhất"]}),children:t.jsx(c,{bordered:!1,loading:n,bodyStyle:{padding:"12px"},children:t.jsx(Kt,{...E,height:300})})},"recency")]})})]}),t.jsxs(d,{gutter:[24,24],style:{marginTop:"24px"},children:[t.jsx(h,{xs:24,lg:12,children:t.jsx(c,{title:t.jsxs("span",{children:[t.jsx(le,{})," Top khách hàng giá trị"]}),bordered:!1,loading:n,children:t.jsx(y,{dataSource:P,columns:K,pagination:!1,rowKey:"id"})})}),t.jsx(h,{xs:24,lg:12,children:t.jsx(c,{title:t.jsxs("span",{children:[t.jsx(ot,{})," Phân bố khách hàng theo độ tuổi và giới tính"]}),bordered:!1,loading:n,children:t.jsx(Kt,{...q,height:300})})})]}),t.jsx(d,{gutter:[24,24],style:{marginTop:"24px"},children:t.jsx(h,{xs:24,children:t.jsxs(c,{title:t.jsxs("span",{children:[t.jsx(Je,{})," Giá trị khách hàng theo vòng đời"]}),bordered:!1,loading:n,children:[t.jsx("div",{style:{marginBottom:"16px"},children:t.jsxs(G.Group,{defaultValue:"stack",buttonStyle:"solid",children:[t.jsx(G.Button,{value:"stack",children:"Biểu đồ xếp chồng"}),t.jsx(G.Button,{value:"line",children:"Biểu đồ đường"})]})}),t.jsx("div",{style:{height:"350px"},children:n?t.jsx("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:t.jsx(H,{})}):t.jsx(Kt,{height:350,...L,data:z})})]})})}),t.jsx(d,{gutter:[24,24],style:{marginTop:"24px"},children:t.jsx(h,{xs:24,children:t.jsx(w,{message:"Phân tích phân khúc khách hàng RFM",description:t.jsxs(t.Fragment,{children:[t.jsx(vi,{children:"Phân tích RFM là phương pháp phân tích khách hàng dựa trên ba chỉ số:"}),t.jsxs("ul",{children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Recency (R):"})," Độ gần đây của lần mua hàng cuối cùng"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Frequency (F):"})," Tần suất mua hàng"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Monetary (M):"})," Giá trị chi tiêu"]})]}),t.jsx(vi,{children:"Mỗi khách hàng được chấm điểm từ 1-5 cho mỗi chỉ số, với 5 là tốt nhất. Khách hàng có điểm cao ở cả 3 chỉ số (VIP) là đối tượng cần được chăm sóc đặc biệt."})]}),type:"info",showIcon:!0})})})]})}},Symbol.toStringTag,{value:"Module"})),{Title:ki,Text:wi,Paragraph:Ci}=u,{TabPane:Ii}=k,{Option:Ti}=x,Pi=[{id:1,name:"Chào mừng khách hàng mới",description:"Hiển thị thông báo chào mừng cho khách hàng lần đầu mua hàng",trigger:"first_purchase",action:"show_notification",content:"Chào mừng quý khách đến với Trường Phát Computer! Sử dụng mã WELCOME10 để được giảm 10% cho đơn hàng đầu tiên.",status:"active",segment:"new_customers",priority:1,createdAt:"2023-06-15",lastRun:"2023-07-20",performance:{impressions:124,engagements:98,conversions:45,conversionRate:36.3}},{id:2,name:"Đề xuất phụ kiện laptop",description:"Hiển thị phụ kiện liên quan khi khách hàng mua laptop",trigger:"product_category_view",action:"show_recommendations",content:"Laptop",status:"active",segment:"all",priority:2,createdAt:"2023-06-18",lastRun:"2023-07-20",performance:{impressions:256,engagements:120,conversions:68,conversionRate:26.6}},{id:3,name:"Nhắc nhở giỏ hàng bị bỏ quên",description:"Gửi email nhắc nhở khi khách hàng bỏ quên giỏ hàng sau 24h",trigger:"cart_abandonment",action:"send_email",content:"Quý khách có sản phẩm trong giỏ hàng đang chờ thanh toán. Hoàn tất đơn hàng ngay để không bỏ lỡ sản phẩm yêu thích!",status:"active",segment:"all",priority:3,createdAt:"2023-06-20",lastRun:"2023-07-19",performance:{impressions:87,engagements:32,conversions:18,conversionRate:20.7}},{id:4,name:"Khuyến mãi sinh nhật",description:"Gửi mã giảm giá vào ngày sinh nhật của khách hàng",trigger:"birthday",action:"send_coupon",content:"BIRTHDAY20",status:"active",segment:"registered_customers",priority:1,createdAt:"2023-06-25",lastRun:"2023-07-20",performance:{impressions:45,engagements:38,conversions:30,conversionRate:66.7}},{id:5,name:"Đề xuất nâng cấp PC",description:"Hiển thị đề xuất nâng cấp cho khách hàng đã mua PC trước đây",trigger:"previous_purchase",action:"show_recommendations",content:"PC",status:"inactive",segment:"returning_customers",priority:4,createdAt:"2023-07-05",lastRun:null,performance:{impressions:0,engagements:0,conversions:0,conversionRate:0}}],Di=[{id:"all",name:"Tất cả khách hàng",description:"Tất cả khách hàng trong hệ thống",count:2450,createdAt:"2023-06-10"},{id:"new_customers",name:"Khách hàng mới",description:"Khách hàng lần đầu mua hàng trong 30 ngày qua",count:187,createdAt:"2023-06-10"},{id:"returning_customers",name:"Khách hàng quay lại",description:"Khách hàng đã mua hàng ít nhất 2 lần",count:780,createdAt:"2023-06-10"},{id:"registered_customers",name:"Khách hàng đã đăng ký",description:"Khách hàng đã tạo tài khoản",count:1842,createdAt:"2023-06-10"},{id:"vip_customers",name:"Khách hàng VIP",description:"Khách hàng chi tiêu trên 20 triệu VNĐ",count:245,createdAt:"2023-06-15"}],Ai=[{value:"first_purchase",label:"Lần đầu mua hàng",icon:t.jsx(we,{})},{value:"product_category_view",label:"Xem danh mục sản phẩm",icon:t.jsx(jt,{})},{value:"cart_abandonment",label:"Bỏ quên giỏ hàng",icon:t.jsx(we,{})},{value:"birthday",label:"Sinh nhật khách hàng",icon:t.jsx(mt,{})},{value:"previous_purchase",label:"Mua hàng trước đây",icon:t.jsx(we,{})},{value:"login",label:"Đăng nhập",icon:t.jsx(de,{})},{value:"inactivity",label:"Không hoạt động",icon:t.jsx(Ie,{})}],Mi=[{value:"show_notification",label:"Hiển thị thông báo",icon:t.jsx(yt,{})},{value:"show_recommendations",label:"Hiển thị đề xuất",icon:t.jsx(vt,{})},{value:"send_email",label:"Gửi email",icon:t.jsx(Ge,{})},{value:"send_coupon",label:"Gửi mã giảm giá",icon:t.jsx(mt,{})},{value:"show_popup",label:"Hiển thị popup",icon:t.jsx(We,{})}],Ri=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState([]),[a,i]=e.useState([]),[r,l]=e.useState(!0),[o,u]=e.useState(!1),[g,f]=e.useState(null),[b]=_.useForm(),[T,D]=e.useState(""),[M,R]=e.useState(null),[N,F]=e.useState(null);e.useEffect(()=>{setTimeout(()=>{s(Pi),i(Di),l(!1)},1e3)},[]);const B=n.filter(e=>{const t=!T||e.name.toLowerCase().includes(T.toLowerCase())||e.description.toLowerCase().includes(T.toLowerCase()),n=!M||e.status===M,s=!N||e.segment===N;return t&&n&&s}),V=e=>{const t=a.find(t=>t.id===e);return t?t.name:e},E=[{title:"Quy tắc",dataIndex:"name",key:"name",render:(e,n)=>t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"bold"},children:e}),t.jsx(wi,{type:"secondary",children:n.description})]})},{title:"Kích hoạt",dataIndex:"trigger",key:"trigger",render:e=>(e=>{const t=Ai.find(t=>t.value===e);return t?t.label:e})(e)},{title:"Hành động",dataIndex:"action",key:"action",render:e=>(e=>{const t=Mi.find(t=>t.value===e);return t?t.label:e})(e)},{title:"Phân khúc",dataIndex:"segment",key:"segment",render:e=>t.jsx(v,{color:"blue",children:V(e)})},{title:"Trạng thái",dataIndex:"status",key:"status",render:e=>(e=>{switch(e){case"active":return t.jsx(j,{status:"success",text:"Đang hoạt động"});case"inactive":return t.jsx(j,{status:"default",text:"Không hoạt động"});default:return t.jsx(j,{status:"processing",text:e})}})(e)},{title:"Hiệu suất",key:"performance",render:(e,n)=>t.jsx(S,{title:`Tỷ lệ chuyển đổi: ${n.performance.conversionRate}%`,children:t.jsx(I,{percent:n.performance.conversionRate,size:"small",status:n.performance.conversionRate>0?"active":"exception",style:{width:100}})})},{title:"Thao tác",key:"operations",render:(e,a)=>t.jsxs(m,{size:"small",children:[t.jsx(p,{size:"small",icon:t.jsx(_e,{}),onClick:()=>{return f(e=a),b.setFieldsValue({name:e.name,description:e.description,trigger:e.trigger,action:e.action,content:e.content,status:e.status,segment:e.segment,priority:e.priority}),void u(!0);var e},children:"Sửa"}),t.jsx(O,{size:"small",checked:"active"===a.status,onChange:()=>(e=>{const t="active"===e.status?"inactive":"active",a=n.map(n=>n.id===e.id?{...n,status:t}:n);s(a)})(a)}),t.jsx(q,{title:"Bạn có chắc chắn muốn xóa quy tắc này?",onConfirm:()=>{return e=a.id,void s(n.filter(t=>t.id!==e));var e},okText:"Xóa",cancelText:"Hủy",children:t.jsx(p,{size:"small",danger:!0,icon:t.jsx(Te,{})})})]})}],L=[{title:"Tên phân khúc",dataIndex:"name",key:"name"},{title:"Mô tả",dataIndex:"description",key:"description"},{title:"Số khách hàng",dataIndex:"count",key:"count",sorter:(e,t)=>e.count-t.count},{title:"Ngày tạo",dataIndex:"createdAt",key:"createdAt"},{title:"Thao tác",key:"operations",render:()=>t.jsxs(m,{size:"small",children:[t.jsx(p,{size:"small",icon:t.jsx(_e,{}),children:"Sửa"}),t.jsx(p,{size:"small",icon:t.jsx(gt,{}),children:"Xem khách hàng"})]})}];return t.jsx("div",{className:"personalization-engine",children:t.jsxs(c,{children:[t.jsx(ki,{level:2,children:"Công cụ cá nhân hóa"}),t.jsx(Ci,{type:"secondary",children:"Tạo và quản lý các quy tắc cá nhân hóa để cung cấp trải nghiệm tùy chỉnh cho khách hàng"}),t.jsxs(k,{defaultActiveKey:"rules",children:[t.jsxs(Ii,{tab:t.jsxs("span",{children:[t.jsx(he,{})," Quy tắc cá nhân hóa"]}),children:[t.jsxs(d,{gutter:16,style:{marginBottom:16},children:[t.jsx(h,{flex:"auto",children:t.jsxs(m,{children:[t.jsx(P,{placeholder:"Tìm kiếm quy tắc",value:T,onChange:e=>D(e.target.value),style:{width:200},allowClear:!0}),t.jsxs(x,{placeholder:"Trạng thái",style:{width:150},value:M,onChange:R,allowClear:!0,children:[t.jsx(Ti,{value:"active",children:"Đang hoạt động"}),t.jsx(Ti,{value:"inactive",children:"Không hoạt động"})]}),t.jsx(x,{placeholder:"Phân khúc",style:{width:180},value:N,onChange:F,allowClear:!0,children:a.map(e=>t.jsx(Ti,{value:e.id,children:e.name},e.id))})]})}),t.jsx(h,{children:t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>{f(null),b.resetFields(),b.setFieldsValue({status:"active",priority:5,segment:"all"}),u(!0)},children:"Thêm quy tắc mới"})})]}),t.jsx(y,{columns:E,dataSource:B,rowKey:"id",loading:r,pagination:{pageSize:5}})]},"rules"),t.jsxs(Ii,{tab:t.jsxs("span",{children:[t.jsx(de,{})," Phân khúc khách hàng"]}),children:[t.jsx("div",{style:{marginBottom:16,textAlign:"right"},children:t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),children:"Tạo phân khúc mới"})}),t.jsx(y,{columns:L,dataSource:a,rowKey:"id",loading:r,pagination:!1})]},"segments"),t.jsx(Ii,{tab:t.jsxs("span",{children:[t.jsx(pt,{})," A/B Testing"]}),children:t.jsx(w,{message:"Tính năng đang phát triển",description:"Tính năng A/B Testing đang được phát triển và sẽ sớm ra mắt.",type:"info",showIcon:!0})},"ab_testing")]}),t.jsx(A,{title:g?"Chỉnh sửa quy tắc":"Thêm quy tắc mới",open:o,onOk:()=>{b.validateFields().then(e=>{if(g){const t=n.map(t=>t.id===g.id?{...t,...e,lastRun:t.lastRun}:t);s(t)}else{const t={id:n.length+1,...e,createdAt:(new Date).toISOString().split("T")[0],lastRun:null,performance:{impressions:0,engagements:0,conversions:0,conversionRate:0}};s([...n,t])}u(!1)}).catch(e=>{})},onCancel:()=>u(!1),width:700,okText:g?"Cập nhật":"Thêm",cancelText:"Hủy",children:t.jsxs(_,{form:b,layout:"vertical",children:[t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:24,children:t.jsx(_.Item,{name:"name",label:"Tên quy tắc",rules:[{required:!0,message:"Vui lòng nhập tên quy tắc"}],children:t.jsx(P,{placeholder:"Nhập tên quy tắc"})})}),t.jsx(h,{span:24,children:t.jsx(_.Item,{name:"description",label:"Mô tả",children:t.jsx(P.TextArea,{placeholder:"Mô tả ngắn về quy tắc này",rows:2})})})]}),t.jsx(C,{children:"Điều kiện"}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"trigger",label:"Kích hoạt khi",rules:[{required:!0,message:"Vui lòng chọn điều kiện kích hoạt"}],children:t.jsx(x,{placeholder:"Chọn điều kiện kích hoạt",children:Ai.map(e=>t.jsx(Ti,{value:e.value,children:t.jsxs(m,{children:[e.icon,t.jsx("span",{children:e.label})]})},e.value))})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"segment",label:"Áp dụng cho phân khúc",rules:[{required:!0,message:"Vui lòng chọn phân khúc"}],children:t.jsx(x,{placeholder:"Chọn phân khúc khách hàng",children:a.map(e=>t.jsx(Ti,{value:e.id,children:e.name},e.id))})})})]}),t.jsx(C,{children:"Hành động"}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"action",label:"Thực hiện hành động",rules:[{required:!0,message:"Vui lòng chọn hành động"}],children:t.jsx(x,{placeholder:"Chọn hành động",children:Mi.map(e=>t.jsx(Ti,{value:e.value,children:t.jsxs(m,{children:[e.icon,t.jsx("span",{children:e.label})]})},e.value))})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"content",label:"Nội dung",rules:[{required:!0,message:"Vui lòng nhập nội dung"}],children:t.jsx(P.TextArea,{placeholder:"Nội dung của hành động",rows:2})})})]}),t.jsx(C,{children:"Cài đặt"}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"status",label:"Trạng thái",children:t.jsxs(G.Group,{children:[t.jsx(G,{value:"active",children:"Hoạt động"}),t.jsx(G,{value:"inactive",children:"Không hoạt động"})]})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"priority",label:"Độ ưu tiên (1-10, 1 là cao nhất)",rules:[{required:!0,message:"Vui lòng nhập độ ưu tiên"}],children:t.jsx(x,{placeholder:"Chọn độ ưu tiên",children:[1,2,3,4,5,6,7,8,9,10].map(e=>t.jsx(Ti,{value:e,children:e},e))})})})]})]})})]})})}},Symbol.toStringTag,{value:"Module"}));const _i=new class{constructor(){this.baseURL="https://khochuan-pos-api.bangachieu2.workers.dev",this.supportedPlatforms=["shopee","lazada","tiki","sendo","facebook","instagram"]}async connectShopee(e){try{const t=await fetch(`${this.baseURL}/api/integrations/shopee/connect`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({partner_id:e.partnerId,partner_key:e.partnerKey,shop_id:e.shopId,access_token:e.accessToken})}),n=await t.json();if(n.success)return M.success("Shopee integration connected successfully!"),n;throw new Error(n.message)}catch(t){throw M.error(`Shopee connection failed: ${t.message}`),t}}async syncShopeeProducts(){try{const e=await fetch(`${this.baseURL}/api/integrations/shopee/sync-products`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),t=await e.json();if(t.success)return M.success(`Synced ${t.count} products from Shopee`),t}catch(e){throw M.error(`Product sync failed: ${e.message}`),e}}async syncShopeeOrders(){try{const e=await fetch(`${this.baseURL}/api/integrations/shopee/sync-orders`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),t=await e.json();if(t.success)return M.success(`Synced ${t.count} orders from Shopee`),t}catch(e){throw M.error(`Order sync failed: ${e.message}`),e}}async connectLazada(e){try{const t=await fetch(`${this.baseURL}/api/integrations/lazada/connect`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({app_key:e.appKey,app_secret:e.appSecret,access_token:e.accessToken,seller_id:e.sellerId})}),n=await t.json();if(n.success)return M.success("Lazada integration connected successfully!"),n;throw new Error(n.message)}catch(t){throw M.error(`Lazada connection failed: ${t.message}`),t}}async connectTiki(e){try{const t=await fetch(`${this.baseURL}/api/integrations/tiki/connect`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({client_id:e.clientId,client_secret:e.clientSecret,access_token:e.accessToken,seller_id:e.sellerId})}),n=await t.json();if(n.success)return M.success("Tiki integration connected successfully!"),n;throw new Error(n.message)}catch(t){throw M.error(`Tiki connection failed: ${t.message}`),t}}async syncAllProducts(){try{const e=await fetch(`${this.baseURL}/api/integrations/sync-all-products`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),t=await e.json();if(t.success)return M.success("Synced products from all connected platforms"),t}catch(e){throw M.error(`Universal sync failed: ${e.message}`),e}}async syncAllOrders(){try{const e=await fetch(`${this.baseURL}/api/integrations/sync-all-orders`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),t=await e.json();if(t.success)return M.success("Synced orders from all connected platforms"),t}catch(e){throw M.error(`Universal order sync failed: ${e.message}`),e}}async syncInventoryToMarketplaces(e,t){try{const n=await fetch(`${this.baseURL}/api/integrations/sync-inventory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({product_id:e,quantity:t})}),s=await n.json();if(s.success)return M.success("Inventory synced to all marketplaces"),s}catch(n){throw M.error(`Inventory sync failed: ${n.message}`),n}}async syncPricesToMarketplaces(e,t){try{const n=await fetch(`${this.baseURL}/api/integrations/sync-prices`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({product_id:e,price:t})}),s=await n.json();if(s.success)return M.success("Prices synced to all marketplaces"),s}catch(n){throw M.error(`Price sync failed: ${n.message}`),n}}async getIntegrationStatus(){try{const e=await fetch(`${this.baseURL}/api/integrations/status`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return(await e.json()).data||{}}catch(e){return{}}}async connectFacebookShop(e){try{const t=await fetch(`${this.baseURL}/api/integrations/facebook/connect`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({page_id:e.pageId,access_token:e.accessToken,catalog_id:e.catalogId})}),n=await t.json();if(n.success)return M.success("Facebook Shop connected successfully!"),n;throw new Error(n.message)}catch(t){throw M.error(`Facebook Shop connection failed: ${t.message}`),t}}async connectInstagramShop(e){try{const t=await fetch(`${this.baseURL}/api/integrations/instagram/connect`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({business_account_id:e.businessAccountId,access_token:e.accessToken,catalog_id:e.catalogId})}),n=await t.json();if(n.success)return M.success("Instagram Shop connected successfully!"),n;throw new Error(n.message)}catch(t){throw M.error(`Instagram Shop connection failed: ${t.message}`),t}}async disconnectPlatform(e){try{const t=await fetch(`${this.baseURL}/api/integrations/${e}/disconnect`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),n=await t.json();if(n.success)return M.success(`${e} disconnected successfully`),n}catch(t){throw M.error(`Failed to disconnect ${e}: ${t.message}`),t}}},{Title:Ni,Text:Fi}=u,{TabPane:Bi}=k,Oi=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState(!1),[a,i]=e.useState({}),[r,l]=e.useState(!1),[u,x]=e.useState(null),[g,y]=e.useState({}),[f]=_.useForm();e.useEffect(()=>{S(),k()},[]);const S=async()=>{try{const e=await _i.getIntegrationStatus();i(e)}catch(e){}},k=async()=>{y({totalProducts:1250,syncedProducts:1180,totalOrders:450,syncedOrders:445,lastSync:(new Date).toISOString(),syncErrors:5})},C=async e=>{try{switch(s(!0),u.id){case"shopee":await _i.connectShopee(e);break;case"lazada":await _i.connectLazada(e);break;case"tiki":await _i.connectTiki(e);break;case"facebook":await _i.connectFacebookShop(e);break;case"instagram":await _i.connectInstagramShop(e);break;default:throw new Error("Platform not supported yet")}l(!1),await S(),o.success({message:"Integration Connected",description:`Successfully connected to ${u.name}`})}catch(t){o.error({message:"Connection Failed",description:t.message})}finally{s(!1)}};return t.jsxs("div",{style:{padding:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsxs(Ni,{level:2,children:[t.jsx(tt,{})," Marketplace Integration"]}),t.jsxs(m,{children:[t.jsx(p,{icon:t.jsx(Z,{}),onClick:S,loading:n,children:"Refresh"}),t.jsx(p,{type:"primary",icon:t.jsx(ft,{}),onClick:async()=>{try{s(!0),await Promise.all([_i.syncAllProducts(),_i.syncAllOrders()]),await k(),o.success({message:"Sync Completed",description:"All platforms have been synchronized successfully"})}catch(e){o.error({message:"Sync Failed",description:e.message})}finally{s(!1)}},loading:n,children:"Sync All"})]})]}),t.jsxs(d,{gutter:16,style:{marginBottom:24},children:[t.jsx(h,{span:6,children:t.jsx(c,{children:t.jsx(b,{title:"Total Products",value:g.totalProducts,prefix:t.jsx(ce,{})})})}),t.jsx(h,{span:6,children:t.jsx(c,{children:t.jsx(b,{title:"Synced Products",value:g.syncedProducts,prefix:t.jsx(Le,{}),suffix:t.jsx(I,{type:"circle",size:20,percent:Math.round(g.syncedProducts/g.totalProducts*100),showInfo:!1})})})}),t.jsx(h,{span:6,children:t.jsx(c,{children:t.jsx(b,{title:"Total Orders",value:g.totalOrders,prefix:t.jsx(oe,{})})})}),t.jsx(h,{span:6,children:t.jsx(c,{children:t.jsx(b,{title:"Sync Errors",value:g.syncErrors,prefix:t.jsx(te,{}),valueStyle:{color:g.syncErrors>0?"#cf1322":"#3f8600"}})})})]}),t.jsx(d,{gutter:[16,16],children:[{id:"shopee",name:"Shopee",icon:"🛒",color:"#ee4d2d",description:"Leading e-commerce platform in Southeast Asia",features:["Product Sync","Order Management","Inventory Sync","Price Sync"]},{id:"lazada",name:"Lazada",icon:"🛍️",color:"#0f146d",description:"Popular online shopping platform",features:["Product Sync","Order Management","Inventory Sync","Promotion Sync"]},{id:"tiki",name:"Tiki",icon:"📦",color:"#189eff",description:"Fast delivery e-commerce platform",features:["Product Sync","Order Management","Inventory Sync","Review Sync"]},{id:"sendo",name:"Sendo",icon:"🏪",color:"#d0021b",description:"Vietnamese e-commerce marketplace",features:["Product Sync","Order Management","Inventory Sync"]},{id:"facebook",name:"Facebook Shop",icon:"📘",color:"#1877f2",description:"Social commerce on Facebook",features:["Product Catalog","Social Selling","Customer Messaging"]},{id:"instagram",name:"Instagram Shop",icon:"📷",color:"#e4405f",description:"Visual commerce on Instagram",features:["Product Tags","Stories Shopping","Reels Shopping"]}].map(e=>{const n=(e=>{const t=a[e];return t?{connected:t.connected,status:t.connected?"Connected":"Disconnected",lastSync:t.lastSync,syncCount:t.syncCount||0}:{connected:!1,status:"Not Connected"}})(e.id);return t.jsx(h,{xs:24,sm:12,lg:8,children:t.jsxs(c,{hoverable:!0,style:{height:"100%",borderColor:n.connected?e.color:"#d9d9d9"},actions:[n.connected?t.jsx(p,{type:"text",icon:t.jsx(bt,{}),onClick:()=>(async e=>{A.confirm({title:"Disconnect Platform",content:`Are you sure you want to disconnect from ${e}? This will stop all synchronization.`,okText:"Disconnect",okType:"danger",onOk:async()=>{try{s(!0),await _i.disconnectPlatform(e),await S()}catch(t){o.error({message:"Disconnection Failed",description:t.message})}finally{s(!1)}}})})(e.id),danger:!0,children:"Disconnect"}):t.jsx(p,{type:"text",icon:t.jsx(tt,{}),onClick:()=>(e=>{x(e),l(!0),f.resetFields()})(e),children:"Connect"}),t.jsx(p,{type:"text",icon:t.jsx(he,{}),disabled:!n.connected,children:"Settings"})],children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:16},children:[t.jsx("div",{style:{fontSize:48,marginBottom:8},children:e.icon}),t.jsx(Ni,{level:4,style:{margin:0,color:e.color},children:e.name}),t.jsx(Fi,{type:"secondary",children:e.description})]}),t.jsxs("div",{style:{marginBottom:16},children:[t.jsx(j,{status:n.connected?"success":"default",text:n.status}),n.connected&&n.lastSync&&t.jsx("div",{style:{marginTop:4},children:t.jsxs(Fi,{type:"secondary",style:{fontSize:12},children:["Last sync: ",new Date(n.lastSync).toLocaleString()]})})]}),t.jsxs("div",{children:[t.jsx(Fi,{strong:!0,children:"Features:"}),t.jsx("div",{style:{marginTop:8},children:e.features.map(e=>t.jsx(v,{size:"small",color:n.connected?"green":"default",style:{marginBottom:4},children:e},e))})]})]})},e.id)})}),(()=>{if(!u)return null;return t.jsxs(A,{title:`Connect to ${u.name}`,open:r,onCancel:()=>l(!1),onOk:()=>f.submit(),confirmLoading:n,width:600,children:[t.jsx(w,{message:"Integration Setup",description:`Configure your ${u.name} integration credentials. Make sure you have the necessary API access and permissions.`,type:"info",style:{marginBottom:24}}),t.jsx(_,{form:f,layout:"vertical",onFinish:C,children:(()=>{switch(u.id){case"shopee":return t.jsxs(t.Fragment,{children:[t.jsx(_.Item,{name:"partnerId",label:"Partner ID",rules:[{required:!0}],children:t.jsx(P,{placeholder:"Enter Shopee Partner ID"})}),t.jsx(_.Item,{name:"partnerKey",label:"Partner Key",rules:[{required:!0}],children:t.jsx(P.Password,{placeholder:"Enter Shopee Partner Key"})}),t.jsx(_.Item,{name:"shopId",label:"Shop ID",rules:[{required:!0}],children:t.jsx(P,{placeholder:"Enter Shop ID"})}),t.jsx(_.Item,{name:"accessToken",label:"Access Token",rules:[{required:!0}],children:t.jsx(P.Password,{placeholder:"Enter Access Token"})})]});case"lazada":return t.jsxs(t.Fragment,{children:[t.jsx(_.Item,{name:"appKey",label:"App Key",rules:[{required:!0}],children:t.jsx(P,{placeholder:"Enter Lazada App Key"})}),t.jsx(_.Item,{name:"appSecret",label:"App Secret",rules:[{required:!0}],children:t.jsx(P.Password,{placeholder:"Enter App Secret"})}),t.jsx(_.Item,{name:"sellerId",label:"Seller ID",rules:[{required:!0}],children:t.jsx(P,{placeholder:"Enter Seller ID"})}),t.jsx(_.Item,{name:"accessToken",label:"Access Token",rules:[{required:!0}],children:t.jsx(P.Password,{placeholder:"Enter Access Token"})})]});case"tiki":return t.jsxs(t.Fragment,{children:[t.jsx(_.Item,{name:"clientId",label:"Client ID",rules:[{required:!0}],children:t.jsx(P,{placeholder:"Enter Tiki Client ID"})}),t.jsx(_.Item,{name:"clientSecret",label:"Client Secret",rules:[{required:!0}],children:t.jsx(P.Password,{placeholder:"Enter Client Secret"})}),t.jsx(_.Item,{name:"sellerId",label:"Seller ID",rules:[{required:!0}],children:t.jsx(P,{placeholder:"Enter Seller ID"})}),t.jsx(_.Item,{name:"accessToken",label:"Access Token",rules:[{required:!0}],children:t.jsx(P.Password,{placeholder:"Enter Access Token"})})]});case"facebook":return t.jsxs(t.Fragment,{children:[t.jsx(_.Item,{name:"pageId",label:"Page ID",rules:[{required:!0}],children:t.jsx(P,{placeholder:"Enter Facebook Page ID"})}),t.jsx(_.Item,{name:"accessToken",label:"Access Token",rules:[{required:!0}],children:t.jsx(P.Password,{placeholder:"Enter Page Access Token"})}),t.jsx(_.Item,{name:"catalogId",label:"Catalog ID",rules:[{required:!0}],children:t.jsx(P,{placeholder:"Enter Product Catalog ID"})})]});case"instagram":return t.jsxs(t.Fragment,{children:[t.jsx(_.Item,{name:"businessAccountId",label:"Business Account ID",rules:[{required:!0}],children:t.jsx(P,{placeholder:"Enter Instagram Business Account ID"})}),t.jsx(_.Item,{name:"accessToken",label:"Access Token",rules:[{required:!0}],children:t.jsx(P.Password,{placeholder:"Enter Access Token"})}),t.jsx(_.Item,{name:"catalogId",label:"Catalog ID",rules:[{required:!0}],children:t.jsx(P,{placeholder:"Enter Product Catalog ID"})})]});default:return t.jsx(w,{message:"Platform configuration not available yet",type:"info"})}})()})]})})()]})}},Symbol.toStringTag,{value:"Module"}));const Vi=new class{constructor(){this.baseURL="https://khochuan-pos-api.bangachieu2.workers.dev",this.supportedDevices=["thermal_printer","barcode_scanner","cash_drawer","payment_terminal","customer_display","scale"],this.connectedDevices=new Map}async connectThermalPrinter(e){try{const t=await fetch(`${this.baseURL}/api/hardware/printer/connect`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({type:"thermal",port:e.port,baudRate:e.baudRate||9600,paperWidth:e.paperWidth||80,characterSet:e.characterSet||"UTF-8"})}),n=await t.json();if(n.success)return this.connectedDevices.set("thermal_printer",e),M.success("Thermal printer connected successfully!"),n;throw new Error(n.message)}catch(t){throw M.error(`Printer connection failed: ${t.message}`),t}}async printReceipt(e){try{if(!this.connectedDevices.has("thermal_printer"))throw new Error("Thermal printer not connected");const t=await fetch(`${this.baseURL}/api/hardware/printer/print`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(e)}),n=await t.json();if(n.success)return M.success("Receipt printed successfully!"),n;throw new Error(n.message)}catch(t){throw M.error(`Print failed: ${t.message}`),t}}async connectBarcodeScanner(e){try{const t=await fetch(`${this.baseURL}/api/hardware/scanner/connect`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({type:e.type||"usb_hid",port:e.port,autoScan:e.autoScan||!0,scanMode:e.scanMode||"continuous"})}),n=await t.json();if(n.success)return this.connectedDevices.set("barcode_scanner",e),M.success("Barcode scanner connected successfully!"),this.startScannerListener(),n;throw new Error(n.message)}catch(t){throw M.error(`Scanner connection failed: ${t.message}`),t}}startScannerListener(){"undefined"!=typeof window&&window.addEventListener("keydown",this.handleBarcodeInput.bind(this))}handleBarcodeInput(e){if("Enter"===e.key&&this.barcodeBuffer){const e=this.barcodeBuffer;this.barcodeBuffer="",this.onBarcodeScanned(e)}else 1===e.key.length&&(this.barcodeBuffer=(this.barcodeBuffer||"")+e.key)}onBarcodeScanned(e){const t=new CustomEvent("barcodeScanned",{detail:{barcode:e}});window.dispatchEvent(t)}async connectCashDrawer(e){try{const t=await fetch(`${this.baseURL}/api/hardware/cashdrawer/connect`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({type:e.type||"rj11",port:e.port,kickCode:e.kickCode||"1B7000"})}),n=await t.json();if(n.success)return this.connectedDevices.set("cash_drawer",e),M.success("Cash drawer connected successfully!"),n;throw new Error(n.message)}catch(t){throw M.error(`Cash drawer connection failed: ${t.message}`),t}}async openCashDrawer(){try{if(!this.connectedDevices.has("cash_drawer"))throw new Error("Cash drawer not connected");const e=await fetch(`${this.baseURL}/api/hardware/cashdrawer/open`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),t=await e.json();if(t.success)return M.success("Cash drawer opened!"),t;throw new Error(t.message)}catch(e){throw M.error(`Failed to open cash drawer: ${e.message}`),e}}async connectPaymentTerminal(e){try{const t=await fetch(`${this.baseURL}/api/hardware/payment/connect`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({type:e.type,port:e.port,merchantId:e.merchantId,terminalId:e.terminalId})}),n=await t.json();if(n.success)return this.connectedDevices.set("payment_terminal",e),M.success("Payment terminal connected successfully!"),n;throw new Error(n.message)}catch(t){throw M.error(`Payment terminal connection failed: ${t.message}`),t}}async processCardPayment(e,t="sale"){try{if(!this.connectedDevices.has("payment_terminal"))throw new Error("Payment terminal not connected");const n=await fetch(`${this.baseURL}/api/hardware/payment/process`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({amount:e,transactionType:t,timestamp:(new Date).toISOString()})}),s=await n.json();if(s.success)return M.success("Card payment processed successfully!"),s;throw new Error(s.message)}catch(n){throw M.error(`Card payment failed: ${n.message}`),n}}async connectCustomerDisplay(e){try{const t=await fetch(`${this.baseURL}/api/hardware/display/connect`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({type:e.type||"usb",port:e.port,displaySize:e.displaySize||"20x2"})}),n=await t.json();if(n.success)return this.connectedDevices.set("customer_display",e),M.success("Customer display connected successfully!"),n;throw new Error(n.message)}catch(t){throw M.error(`Customer display connection failed: ${t.message}`),t}}async updateCustomerDisplay(e){try{if(!this.connectedDevices.has("customer_display"))throw new Error("Customer display not connected");const t=await fetch(`${this.baseURL}/api/hardware/display/update`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({text:e})}),n=await t.json();if(n.success)return n;throw new Error(n.message)}catch(t){throw t}}async connectScale(e){try{const t=await fetch(`${this.baseURL}/api/hardware/scale/connect`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({type:e.type||"serial",port:e.port,baudRate:e.baudRate||9600,unit:e.unit||"kg"})}),n=await t.json();if(n.success)return this.connectedDevices.set("scale",e),M.success("Scale connected successfully!"),n;throw new Error(n.message)}catch(t){throw M.error(`Scale connection failed: ${t.message}`),t}}async getWeight(){try{if(!this.connectedDevices.has("scale"))throw new Error("Scale not connected");const e=await fetch(`${this.baseURL}/api/hardware/scale/weight`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),t=await e.json();if(t.success)return t.weight;throw new Error(t.message)}catch(e){throw M.error(`Failed to get weight: ${e.message}`),e}}async getDeviceStatus(){try{const e=await fetch(`${this.baseURL}/api/hardware/status`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return(await e.json()).data||{}}catch(e){return{}}}async disconnectDevice(e){try{const t=await fetch(`${this.baseURL}/api/hardware/${e}/disconnect`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),n=await t.json();if(n.success)return this.connectedDevices.delete(e),M.success(`${e} disconnected successfully`),n}catch(t){throw M.error(`Failed to disconnect ${e}: ${t.message}`),t}}getConnectedDevices(){return Array.from(this.connectedDevices.keys())}isDeviceConnected(e){return this.connectedDevices.has(e)}},{Title:Ei,Text:Li}=u,{TabPane:zi}=k,{Option:qi}=x,Ki=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState(!1),[a,i]=e.useState({}),[r,l]=e.useState(!1),[u,g]=e.useState(null),[y,f]=e.useState(!1),[S]=_.useForm(),k=[{id:"thermal_printer",name:"Thermal Printer",icon:t.jsx($e,{}),color:"#1890ff",description:"Receipt and label printing",features:["Receipt Printing","Logo Support","Barcode Printing","Cut Paper"],ports:["COM1","COM2","COM3","USB","Network"]},{id:"barcode_scanner",name:"Barcode Scanner",icon:t.jsx(wt,{}),color:"#52c41a",description:"Product barcode scanning",features:["1D Barcodes","2D QR Codes","Auto-scan","Manual Trigger"],ports:["USB HID","COM1","COM2","Bluetooth"]},{id:"cash_drawer",name:"Cash Drawer",icon:t.jsx(Ct,{}),color:"#faad14",description:"Automatic cash drawer control",features:["Auto Open","Manual Open","Status Detection","Security Lock"],ports:["RJ11","USB","Parallel"]},{id:"payment_terminal",name:"Payment Terminal",icon:t.jsx(me,{}),color:"#722ed1",description:"Card payment processing",features:["Chip Cards","Contactless","PIN Entry","Receipt Print"],ports:["USB","Serial","Ethernet","Bluetooth"]},{id:"customer_display",name:"Customer Display",icon:t.jsx(kt,{}),color:"#eb2f96",description:"Customer-facing display",features:["Price Display","Promotions","Branding","Multi-line"],ports:["USB","Serial","VGA","HDMI"]},{id:"scale",name:"Electronic Scale",icon:t.jsx(ze,{}),color:"#13c2c2",description:"Weight measurement for bulk items",features:["Precision Weighing","Tare Function","Unit Conversion","Price Calculation"],ports:["Serial","USB","Ethernet"]}];e.useEffect(()=>{C()},[]);const C=async()=>{try{const e=await Vi.getDeviceStatus();i(e)}catch(e){}},I=async e=>{try{switch(s(!0),u.id){case"thermal_printer":await Vi.connectThermalPrinter(e);break;case"barcode_scanner":await Vi.connectBarcodeScanner(e);break;case"cash_drawer":await Vi.connectCashDrawer(e);break;case"payment_terminal":await Vi.connectPaymentTerminal(e);break;case"customer_display":await Vi.connectCustomerDisplay(e);break;case"scale":await Vi.connectScale(e);break;default:throw new Error("Device type not supported")}l(!1),await C(),o.success({message:"Device Connected",description:`Successfully connected to ${u.name}`})}catch(t){o.error({message:"Connection Failed",description:t.message})}finally{s(!1)}};return t.jsxs("div",{style:{padding:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsxs(Ei,{level:2,children:[t.jsx(St,{})," Hardware Integration"]}),t.jsx(m,{children:t.jsx(p,{icon:t.jsx(Z,{}),onClick:C,loading:n,children:"Refresh"})})]}),t.jsxs(d,{gutter:16,style:{marginBottom:24},children:[t.jsx(h,{span:6,children:t.jsx(c,{children:t.jsx(b,{title:"Connected Devices",value:Object.values(a).filter(e=>e?.connected).length,suffix:`/ ${k.length}`,prefix:t.jsx(ee,{})})})}),t.jsx(h,{span:6,children:t.jsx(c,{children:t.jsx(b,{title:"Active Sessions",value:Object.values(a).reduce((e,t)=>e+(t?.sessions||0),0),prefix:t.jsx(kt,{})})})}),t.jsx(h,{span:6,children:t.jsx(c,{children:t.jsx(b,{title:"Error Count",value:Object.values(a).reduce((e,t)=>e+(t?.errors||0),0),prefix:t.jsx(te,{}),valueStyle:{color:"#cf1322"}})})}),t.jsx(h,{span:6,children:t.jsx(c,{children:t.jsx(b,{title:"Uptime",value:98.5,suffix:"%",prefix:t.jsx(ee,{}),valueStyle:{color:"#3f8600"}})})})]}),t.jsx(d,{gutter:[16,16],children:k.map(e=>{const n=(e=>{const t=a[e];return t?{connected:t.connected,status:t.connected?"Connected":"Disconnected",lastActivity:t.lastActivity,port:t.port}:{connected:!1,status:"Not Connected"}})(e.id);return t.jsx(h,{xs:24,sm:12,lg:8,children:t.jsxs(c,{hoverable:!0,style:{height:"100%",borderColor:n.connected?e.color:"#d9d9d9"},actions:[n.connected?t.jsx(p,{type:"text",icon:t.jsx(bt,{}),onClick:()=>(async e=>{A.confirm({title:"Disconnect Device",content:`Are you sure you want to disconnect ${e}? This will stop all communication with the device.`,okText:"Disconnect",okType:"danger",onOk:async()=>{try{s(!0),await Vi.disconnectDevice(e),await C()}catch(t){o.error({message:"Disconnection Failed",description:t.message})}finally{s(!1)}}})})(e.id),danger:!0,children:"Disconnect"}):t.jsx(p,{type:"text",icon:e.icon,onClick:()=>(e=>{g(e),l(!0),S.resetFields()})(e),children:"Connect"}),t.jsx(p,{type:"text",icon:t.jsx(he,{}),disabled:!n.connected,onClick:()=>(async e=>{try{switch(s(!0),e){case"thermal_printer":await Vi.printReceipt({type:"test",content:"Test Receipt\nPrinter Working!\n\n"});break;case"cash_drawer":await Vi.openCashDrawer();break;case"customer_display":await Vi.updateCustomerDisplay("Test Display\nWorking!");break;case"scale":const t=await Vi.getWeight();o.info({message:"Scale Reading",description:`Current weight: ${t} kg`});break;case"payment_terminal":o.info({message:"Payment Terminal Test",description:"Please insert or tap a test card"});break;default:o.success({message:"Device Test",description:`${e} test completed successfully`})}}catch(t){o.error({message:"Test Failed",description:t.message})}finally{s(!1)}})(e.id),children:"Test"})],children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:16},children:[t.jsx("div",{style:{fontSize:48,marginBottom:8,color:e.color},children:e.icon}),t.jsx(Ei,{level:4,style:{margin:0,color:e.color},children:e.name}),t.jsx(Li,{type:"secondary",children:e.description})]}),t.jsxs("div",{style:{marginBottom:16},children:[t.jsx(j,{status:n.connected?"success":"default",text:n.status}),n.connected&&n.port&&t.jsx("div",{style:{marginTop:4},children:t.jsxs(Li,{type:"secondary",style:{fontSize:12},children:["Port: ",n.port]})})]}),t.jsxs("div",{children:[t.jsx(Li,{strong:!0,children:"Features:"}),t.jsx("div",{style:{marginTop:8},children:e.features.map(e=>t.jsx(v,{size:"small",color:n.connected?"green":"default",style:{marginBottom:4},children:e},e))})]})]})},e.id)})}),(()=>{if(!u)return null;return t.jsxs(A,{title:`Connect ${u.name}`,open:r,onCancel:()=>l(!1),onOk:()=>S.submit(),confirmLoading:n,width:600,children:[t.jsx(w,{message:"Hardware Setup",description:`Configure your ${u.name} connection settings. Make sure the device is properly connected and powered on.`,type:"info",style:{marginBottom:24}}),t.jsx(_,{form:S,layout:"vertical",onFinish:I,children:(()=>{const e=t.jsx(t.Fragment,{children:t.jsx(_.Item,{name:"port",label:"Port",rules:[{required:!0}],children:t.jsx(x,{placeholder:"Select port",children:u.ports.map(e=>t.jsx(qi,{value:e,children:e},e))})})});switch(u.id){case"thermal_printer":return t.jsxs(t.Fragment,{children:[e,t.jsx(_.Item,{name:"baudRate",label:"Baud Rate",initialValue:9600,children:t.jsxs(x,{children:[t.jsx(qi,{value:9600,children:"9600"}),t.jsx(qi,{value:19200,children:"19200"}),t.jsx(qi,{value:38400,children:"38400"}),t.jsx(qi,{value:115200,children:"115200"})]})}),t.jsx(_.Item,{name:"paperWidth",label:"Paper Width (mm)",initialValue:80,children:t.jsxs(x,{children:[t.jsx(qi,{value:58,children:"58mm"}),t.jsx(qi,{value:80,children:"80mm"})]})})]});case"barcode_scanner":return t.jsxs(t.Fragment,{children:[e,t.jsx(_.Item,{name:"autoScan",label:"Auto Scan",valuePropName:"checked",initialValue:!0,children:t.jsx(O,{})}),t.jsx(_.Item,{name:"scanMode",label:"Scan Mode",initialValue:"continuous",children:t.jsxs(x,{children:[t.jsx(qi,{value:"continuous",children:"Continuous"}),t.jsx(qi,{value:"trigger",children:"Manual Trigger"})]})})]});case"payment_terminal":return t.jsxs(t.Fragment,{children:[e,t.jsx(_.Item,{name:"merchantId",label:"Merchant ID",rules:[{required:!0}],children:t.jsx(P,{placeholder:"Enter merchant ID"})}),t.jsx(_.Item,{name:"terminalId",label:"Terminal ID",rules:[{required:!0}],children:t.jsx(P,{placeholder:"Enter terminal ID"})})]});case"customer_display":return t.jsxs(t.Fragment,{children:[e,t.jsx(_.Item,{name:"displaySize",label:"Display Size",initialValue:"20x2",children:t.jsxs(x,{children:[t.jsx(qi,{value:"20x2",children:"20x2 Characters"}),t.jsx(qi,{value:"20x4",children:"20x4 Characters"}),t.jsx(qi,{value:"40x2",children:"40x2 Characters"})]})})]});case"scale":return t.jsxs(t.Fragment,{children:[e,t.jsx(_.Item,{name:"baudRate",label:"Baud Rate",initialValue:9600,children:t.jsxs(x,{children:[t.jsx(qi,{value:9600,children:"9600"}),t.jsx(qi,{value:19200,children:"19200"})]})}),t.jsx(_.Item,{name:"unit",label:"Weight Unit",initialValue:"kg",children:t.jsxs(x,{children:[t.jsx(qi,{value:"kg",children:"Kilograms"}),t.jsx(qi,{value:"g",children:"Grams"}),t.jsx(qi,{value:"lb",children:"Pounds"})]})})]});default:return e}})()})]})})()]})}},Symbol.toStringTag,{value:"Module"})),{Title:$i,Text:Hi,Paragraph:Yi}=u,{TabPane:Gi}=k,{Option:Ui}=x,{TextArea:Wi}=P,Xi=[{id:1,name:"VNPay",logo:"/logos/vnpay.png",status:"active",integration:"direct",methods:["credit_card","bank_transfer","qr_code"],fee:"2.5%",transactions:1245,volume:856e6},{id:2,name:"Momo",logo:"/logos/momo.png",status:"active",integration:"direct",methods:["ewallet","qr_code"],fee:"2.2%",transactions:980,volume:543e6},{id:3,name:"ZaloPay",logo:"/logos/zalopay.png",status:"inactive",integration:"direct",methods:["ewallet","qr_code","credit_card"],fee:"2.4%",transactions:0,volume:0},{id:4,name:"Paypal",logo:"/logos/paypal.png",status:"active",integration:"direct",methods:["credit_card","paypal_balance"],fee:"3.9% + 0.3 USD",transactions:65,volume:158e6},{id:5,name:"Stripe",logo:"/logos/stripe.png",status:"inactive",integration:"available",methods:["credit_card","bank_transfer"],fee:"3.4% + 0.5 USD",transactions:0,volume:0}],Qi=[{id:"TXN-1001",date:"2023-10-07 14:32:15",gateway:"VNPay",amount:245e4,method:"credit_card",status:"success",customer:"Nguyen Van A",orderId:"ORD-5432"},{id:"TXN-1002",date:"2023-10-07 13:45:21",gateway:"Momo",amount:185e4,method:"ewallet",status:"success",customer:"Tran Thi B",orderId:"ORD-5431"},{id:"TXN-1003",date:"2023-10-07 11:22:45",gateway:"VNPay",amount:378e4,method:"bank_transfer",status:"success",customer:"Le Van C",orderId:"ORD-5430"},{id:"TXN-1004",date:"2023-10-07 10:15:33",gateway:"Paypal",amount:425e4,method:"credit_card",status:"success",customer:"John Smith",orderId:"ORD-5429"},{id:"TXN-1005",date:"2023-10-07 09:42:18",gateway:"VNPay",amount:165e4,method:"qr_code",status:"failed",customer:"Hoang Van D",orderId:"ORD-5428",errorMessage:"Transaction timeout"}],Ji=[{id:"vnpay",name:"VNPay",logo:"/logos/vnpay.png",description:"Leading payment gateway in Vietnam supporting bank transfer, cards, and QR payments",status:"connected",countries:["Vietnam"],currencies:["VND"]},{id:"momo",name:"Momo",logo:"/logos/momo.png",description:"Popular e-wallet in Vietnam with extensive user base",status:"connected",countries:["Vietnam"],currencies:["VND"]},{id:"zalopay",name:"ZaloPay",logo:"/logos/zalopay.png",description:"E-wallet from Zalo with growing market share in Vietnam",status:"connected",countries:["Vietnam"],currencies:["VND"]},{id:"paypal",name:"PayPal",logo:"/logos/paypal.png",description:"Global payment processor for international sales",status:"connected",countries:["Global"],currencies:["USD","EUR","GBP","AUD","CAD","JPY","VND"]},{id:"stripe",name:"Stripe",logo:"/logos/stripe.png",description:"Comprehensive payment platform for web and mobile transactions",status:"available",countries:["Global"],currencies:["USD","EUR","GBP","AUD","CAD","JPY","VND"]},{id:"onepay",name:"OnePay",logo:"/logos/onepay.png",description:"Vietnamese payment gateway for domestic and international cards",status:"available",countries:["Vietnam"],currencies:["VND","USD"]},{id:"alepay",name:"Alepay",logo:"/logos/alepay.png",description:"Payment gateway specializing in installment payments",status:"available",countries:["Vietnam"],currencies:["VND"]},{id:"2checkout",name:"2Checkout",logo:"/logos/2checkout.png",description:"Global payment processor with tax and compliance management",status:"available",countries:["Global"],currencies:["USD","EUR","GBP","VND"]}],Zi=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState("gateways"),[a,i]=e.useState(!1),[r,l]=e.useState(!1),[o,u]=e.useState(null),[g]=_.useForm(),[f,b]=e.useState(1e4),[C,I]=e.useState(!1),T=e=>{u(e),i(!0)},D=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(e),N=[{title:"Gateway",dataIndex:"name",key:"name",render:(e,n)=>t.jsxs(m,{children:[n.logo?t.jsx(R,{src:n.logo}):t.jsx(R,{icon:t.jsx(It,{})}),t.jsx(Hi,{strong:!0,children:e})]})},{title:"Status",dataIndex:"status",key:"status",render:(e,n)=>t.jsx(O,{checked:"active"===e,onChange:e=>((e,t)=>{M.success(`${t.name} ${e?"activated":"deactivated"} successfully`)})(e,n)})},{title:"Methods",dataIndex:"methods",key:"methods",render:e=>t.jsxs(m,{children:[e.includes("credit_card")&&t.jsx(S,{title:"Credit Card",children:t.jsx(It,{style:{fontSize:"16px"}})}),e.includes("bank_transfer")&&t.jsx(S,{title:"Bank Transfer",children:t.jsx(Tt,{style:{fontSize:"16px"}})}),e.includes("ewallet")&&t.jsx(S,{title:"E-Wallet",children:t.jsx(ht,{style:{fontSize:"16px"}})}),e.includes("qr_code")&&t.jsx(S,{title:"QR Code",children:t.jsx(Pt,{style:{fontSize:"16px"}})}),e.includes("paypal_balance")&&t.jsx(S,{title:"PayPal Balance",children:t.jsx(me,{style:{fontSize:"16px"}})})]})},{title:"Fee",dataIndex:"fee",key:"fee"},{title:"Transactions",dataIndex:"transactions",key:"transactions",sorter:(e,t)=>e.transactions-t.transactions},{title:"Volume",dataIndex:"volume",key:"volume",render:e=>D(e),sorter:(e,t)=>e.volume-t.volume},{title:"Actions",key:"actions",render:(e,n)=>t.jsxs(m,{children:[t.jsx(p,{icon:t.jsx(he,{}),onClick:()=>T(n),children:"Configure"}),t.jsx(p,{icon:t.jsx(ee,{}),onClick:()=>(u(n),void l(!0)),disabled:"active"!==n.status,children:"Test"})]})}],F=[{title:"Transaction ID",dataIndex:"id",key:"id",render:e=>t.jsx("a",{children:e})},{title:"Date",dataIndex:"date",key:"date",sorter:(e,t)=>new Date(e.date)-new Date(t.date)},{title:"Gateway",dataIndex:"gateway",key:"gateway",filters:[{text:"VNPay",value:"VNPay"},{text:"Momo",value:"Momo"},{text:"ZaloPay",value:"ZaloPay"},{text:"PayPal",value:"PayPal"}],onFilter:(e,t)=>t.gateway===e},{title:"Amount",dataIndex:"amount",key:"amount",render:e=>D(e),sorter:(e,t)=>e.amount-t.amount},{title:"Payment Method",dataIndex:"method",key:"method",render:e=>{const n={credit_card:{icon:t.jsx(It,{}),text:"Credit Card"},bank_transfer:{icon:t.jsx(Tt,{}),text:"Bank Transfer"},ewallet:{icon:t.jsx(ht,{}),text:"E-Wallet"},qr_code:{icon:t.jsx(Pt,{}),text:"QR Code"},paypal_balance:{icon:t.jsx(me,{}),text:"PayPal Balance"}};return t.jsxs(m,{children:[n[e].icon,n[e].text]})}},{title:"Status",dataIndex:"status",key:"status",render:(e,n)=>"success"===e?t.jsx(j,{status:"success",text:"Success"}):"failed"===e?t.jsx(S,{title:n.errorMessage||"Transaction failed",children:t.jsx(j,{status:"error",text:"Failed"})}):"pending"===e?t.jsx(j,{status:"processing",text:"Pending"}):"refunded"===e?t.jsx(j,{status:"warning",text:"Refunded"}):t.jsx(j,{status:"default",text:e}),filters:[{text:"Success",value:"success"},{text:"Failed",value:"failed"},{text:"Pending",value:"pending"},{text:"Refunded",value:"refunded"}],onFilter:(e,t)=>t.status===e},{title:"Customer",dataIndex:"customer",key:"customer"},{title:"Order",dataIndex:"orderId",key:"orderId",render:e=>t.jsx("a",{children:e})}];return t.jsxs("div",{style:{padding:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[t.jsxs($i,{level:2,children:[t.jsx(It,{})," Payment Gateways"]}),t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>s("available"),children:"Add Payment Gateway"})]}),t.jsx(c,{children:t.jsxs(k,{activeKey:n,onChange:s,children:[t.jsx(Gi,{tab:t.jsxs("span",{children:[t.jsx(It,{})," Active Gateways"]}),children:t.jsx(y,{columns:N,dataSource:Xi.filter(e=>"available"!==e.integration),rowKey:"id",pagination:!1})},"gateways"),t.jsxs(Gi,{tab:t.jsxs("span",{children:[t.jsx(Qe,{})," Transaction History"]}),children:[t.jsx("div",{style:{marginBottom:16},children:t.jsxs(m,{children:[t.jsx(P.Search,{placeholder:"Search transactions",style:{width:250}}),t.jsxs(x,{placeholder:"Payment Gateway",style:{width:150},allowClear:!0,children:[t.jsx(Ui,{value:"vnpay",children:"VNPay"}),t.jsx(Ui,{value:"momo",children:"Momo"}),t.jsx(Ui,{value:"zalopay",children:"ZaloPay"}),t.jsx(Ui,{value:"paypal",children:"PayPal"})]}),t.jsxs(x,{placeholder:"Status",style:{width:150},allowClear:!0,children:[t.jsx(Ui,{value:"success",children:"Success"}),t.jsx(Ui,{value:"failed",children:"Failed"}),t.jsx(Ui,{value:"pending",children:"Pending"}),t.jsx(Ui,{value:"refunded",children:"Refunded"})]})]})}),t.jsx(y,{columns:F,dataSource:Qi,rowKey:"id",pagination:{pageSize:10}})]},"transactions"),t.jsx(Gi,{tab:t.jsxs("span",{children:[t.jsx(Ae,{})," Available Gateways"]}),children:t.jsx(d,{gutter:[24,24],children:Ji.map(e=>t.jsx(h,{xs:24,sm:12,lg:8,children:t.jsx(c,{hoverable:!0,style:{height:"100%"},actions:["connected"===e.status?t.jsx(p,{type:"default",disabled:!0,children:"Connected"}):t.jsx(p,{type:"primary",onClick:()=>T(e),children:"Connect"})],children:t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"16px 0"},children:[e.logo?t.jsx(R,{size:64,src:e.logo,style:{marginBottom:16}}):t.jsx(R,{size:64,icon:t.jsx(It,{}),style:{marginBottom:16}}),t.jsx($i,{level:4,children:e.name}),t.jsx(Yi,{style:{textAlign:"center"},children:e.description}),t.jsx("div",{style:{marginTop:16},children:t.jsx(m,{children:e.countries.map((e,n)=>t.jsx(v,{icon:t.jsx(nt,{}),children:e},n))})})]})})},e.id))})},"available"),t.jsx(Gi,{tab:t.jsxs("span",{children:[t.jsx(he,{})," Global Settings"]}),children:t.jsxs(_,{layout:"vertical",children:[t.jsxs(d,{gutter:24,children:[t.jsxs(h,{span:12,children:[t.jsxs(c,{title:"Default Payment Settings",style:{marginBottom:24},children:[t.jsx(_.Item,{label:"Default Payment Gateway",name:"defaultGateway",initialValue:"vnpay",children:t.jsxs(x,{children:[t.jsx(Ui,{value:"vnpay",children:"VNPay"}),t.jsx(Ui,{value:"momo",children:"Momo"}),t.jsx(Ui,{value:"zalopay",children:"ZaloPay"}),t.jsx(Ui,{value:"paypal",children:"PayPal"})]})}),t.jsx(_.Item,{label:"Payment Page Timeout",name:"paymentTimeout",tooltip:"Time in minutes before payment session expires",initialValue:30,children:t.jsxs(x,{children:[t.jsx(Ui,{value:15,children:"15 minutes"}),t.jsx(Ui,{value:30,children:"30 minutes"}),t.jsx(Ui,{value:60,children:"1 hour"}),t.jsx(Ui,{value:120,children:"2 hours"})]})}),t.jsx(_.Item,{label:"Payment Methods Display Order",name:"methodsOrder",initialValue:["card","ewallet","bank","qr"],children:t.jsxs(x,{mode:"multiple",children:[t.jsx(Ui,{value:"card",children:"Credit/Debit Cards"}),t.jsx(Ui,{value:"ewallet",children:"E-Wallets"}),t.jsx(Ui,{value:"bank",children:"Bank Transfer"}),t.jsx(Ui,{value:"qr",children:"QR Payments"})]})})]}),t.jsxs(c,{title:"Security Settings",children:[t.jsx(_.Item,{label:"Fraud Protection",name:"fraudProtection",valuePropName:"checked",initialValue:!0,children:t.jsx(O,{checkedChildren:"Enabled",unCheckedChildren:"Disabled"})}),t.jsx(_.Item,{label:"IP Address Verification",name:"ipVerification",valuePropName:"checked",initialValue:!0,children:t.jsx(O,{checkedChildren:"Enabled",unCheckedChildren:"Disabled"})}),t.jsx(_.Item,{label:"Maximum Failed Attempts",name:"maxFailedAttempts",tooltip:"Number of failed payment attempts before blocking",initialValue:5,children:t.jsxs(x,{children:[t.jsx(Ui,{value:3,children:"3 attempts"}),t.jsx(Ui,{value:5,children:"5 attempts"}),t.jsx(Ui,{value:10,children:"10 attempts"})]})})]})]}),t.jsxs(h,{span:12,children:[t.jsxs(c,{title:"Checkout Experience",style:{marginBottom:24},children:[t.jsx(_.Item,{label:"Payment Form Layout",name:"paymentLayout",initialValue:"embedded",children:t.jsxs(G.Group,{children:[t.jsx(G,{value:"embedded",children:"Embedded Form"}),t.jsx(G,{value:"redirect",children:"Redirect to Gateway"})]})}),t.jsx(_.Item,{label:"Save Payment Methods",name:"savePaymentMethods",valuePropName:"checked",initialValue:!0,tooltip:"Allow customers to save payment methods for future purchases",children:t.jsx(O,{checkedChildren:"Enabled",unCheckedChildren:"Disabled"})}),t.jsx(_.Item,{label:"Display Payment Icons",name:"displayIcons",valuePropName:"checked",initialValue:!0,children:t.jsx(O,{checkedChildren:"Enabled",unCheckedChildren:"Disabled"})})]}),t.jsxs(c,{title:"Notification Settings",children:[t.jsx(_.Item,{label:"Email Notifications",name:"emailNotifications",valuePropName:"checked",initialValue:!0,children:t.jsx(O,{checkedChildren:"Enabled",unCheckedChildren:"Disabled"})}),t.jsx(_.Item,{label:"Payment Receipt",name:"paymentReceipt",valuePropName:"checked",initialValue:!0,tooltip:"Send payment receipt to customers",children:t.jsx(O,{checkedChildren:"Enabled",unCheckedChildren:"Disabled"})}),t.jsx(_.Item,{label:"Admin Notification Email",name:"adminEmail",initialValue:"finance@truongphat.com",children:t.jsx(P,{placeholder:"Email to receive payment notifications"})})]})]})]}),t.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:24},children:t.jsx(p,{type:"primary",children:"Save Settings"})})]})},"settings")]})}),t.jsx(A,{title:`Configure ${o?.name}`,visible:a,onCancel:()=>i(!1),width:800,footer:[t.jsx(p,{onClick:()=>i(!1),children:"Cancel"},"back"),t.jsx(p,{type:"primary",onClick:()=>{g.validateFields().then(e=>{M.success(`${o.name} configuration saved successfully`),i(!1)}).catch(e=>{})},children:"Save Configuration"},"submit")],children:o?t.jsx(_,{form:g,layout:"vertical",initialValues:{environment:"production",captureMethod:"automatic",recurringPayments:!1,webhookUrl:"https://api.truongphat.com/webhooks/payments",notificationEmail:"payments@truongphat.com",currency:"VND",threeDSecure:!0},children:t.jsxs(k,{defaultActiveKey:"credentials",children:[t.jsxs(Gi,{tab:t.jsxs("span",{children:[t.jsx(Ct,{})," Authentication"]}),children:[t.jsx(w,{message:"Sensitive Information",description:"API keys and credentials are encrypted and stored securely. Only authorized users can view and modify these settings.",type:"warning",showIcon:!0,style:{marginBottom:"24px"}}),t.jsxs(d,{gutter:24,children:[t.jsxs(h,{span:12,children:[t.jsx(_.Item,{label:"API Key",name:"apiKey",rules:[{required:!0,message:"API Key is required"}],children:t.jsx(P.Password,{placeholder:"Enter API Key"})}),t.jsx(_.Item,{label:"Secret Key",name:"secretKey",rules:[{required:!0,message:"Secret Key is required"}],children:t.jsx(P.Password,{placeholder:"Enter Secret Key"})})]}),t.jsxs(h,{span:12,children:[t.jsx(_.Item,{label:"Merchant ID",name:"merchantId",rules:[{required:!0,message:"Merchant ID is required"}],children:t.jsx(P,{placeholder:"Enter Merchant ID"})}),t.jsx(_.Item,{label:"Environment",name:"environment",children:t.jsxs(G.Group,{children:[t.jsx(G.Button,{value:"sandbox",children:"Sandbox"}),t.jsx(G.Button,{value:"production",children:"Production"})]})})]})]})]},"credentials"),t.jsx(Gi,{tab:t.jsxs("span",{children:[t.jsx(he,{})," Payment Settings"]}),children:t.jsxs(d,{gutter:24,children:[t.jsxs(h,{span:12,children:[t.jsx(_.Item,{label:"Default Currency",name:"currency",children:t.jsxs(x,{children:[t.jsx(Ui,{value:"VND",children:"VND"}),t.jsx(Ui,{value:"USD",children:"USD"}),t.jsx(Ui,{value:"EUR",children:"EUR"}),t.jsx(Ui,{value:"JPY",children:"JPY"}),t.jsx(Ui,{value:"SGD",children:"SGD"})]})}),t.jsx(_.Item,{label:"Capture Method",name:"captureMethod",tooltip:"Choose when to capture payment",children:t.jsxs(x,{children:[t.jsx(Ui,{value:"automatic",children:"Automatic (capture immediately)"}),t.jsx(Ui,{value:"manual",children:"Manual (authorize now, capture later)"})]})}),t.jsx(_.Item,{label:"Statement Descriptor",name:"statementDescriptor",tooltip:"Text that appears on customer's bank statement",children:t.jsx(P,{placeholder:"E.g., Trường Phát Computer"})})]}),t.jsxs(h,{span:12,children:[t.jsx(_.Item,{label:"3D Secure",name:"threeDSecure",valuePropName:"checked",tooltip:"Add an extra layer of fraud protection",children:t.jsx(O,{})}),t.jsx(_.Item,{label:"Recurring Payments",name:"recurringPayments",valuePropName:"checked",children:t.jsx(O,{})}),t.jsx(_.Item,{label:"Minimum Transaction Amount",name:"minTransaction",children:t.jsx(P,{type:"number",prefix:"₫",placeholder:"0",addonAfter:"VND"})})]})]})},"settings"),t.jsxs(Gi,{tab:t.jsxs("span",{children:[t.jsx(Dt,{})," Webhooks & Notifications"]}),children:[t.jsx(_.Item,{label:"Webhook URL",name:"webhookUrl",tooltip:"Your server endpoint that will receive payment notifications",children:t.jsx(P,{placeholder:"https://your-website.com/webhook/payment"})}),t.jsx(_.Item,{label:"Webhook Secret",name:"webhookSecret",tooltip:"Secret key to verify webhook requests",children:t.jsx(P.Password,{placeholder:"Webhook secret"})}),t.jsx(_.Item,{label:"Notification Email",name:"notificationEmail",tooltip:"Email to receive payment notifications",children:t.jsx(P,{type:"email",placeholder:"payments@yourcompany.com"})}),t.jsx(_.Item,{label:"Events to Notify",name:"notifyEvents",initialValue:["payment_success","payment_failed","refund"],children:t.jsx(Checkbox.Group,{children:t.jsxs(d,{children:[t.jsx(h,{span:8,children:t.jsx(Checkbox,{value:"payment_success",children:"Payment Success"})}),t.jsx(h,{span:8,children:t.jsx(Checkbox,{value:"payment_failed",children:"Payment Failed"})}),t.jsx(h,{span:8,children:t.jsx(Checkbox,{value:"payment_pending",children:"Payment Pending"})}),t.jsx(h,{span:8,children:t.jsx(Checkbox,{value:"refund",children:"Refund"})}),t.jsx(h,{span:8,children:t.jsx(Checkbox,{value:"dispute",children:"Dispute"})}),t.jsx(h,{span:8,children:t.jsx(Checkbox,{value:"chargeback",children:"Chargeback"})})]})})})]},"webhooks")]})}):null}),t.jsxs(A,{title:`Test Payment - ${o?.name}`,visible:r,onCancel:()=>l(!1),footer:[t.jsx(p,{onClick:()=>l(!1),children:"Cancel"},"back"),t.jsx(p,{type:"primary",onClick:()=>{I(!0),M.loading(`Processing test payment via ${o.name}...`,2),setTimeout(()=>{I(!1),M.success("Test payment completed successfully"),l(!1)},2500)},loading:C,children:"Process Test Payment"},"submit")],children:[t.jsx(w,{message:"Test Mode",description:"This will create a test transaction with the selected payment gateway. No actual money will be charged.",type:"info",showIcon:!0,style:{marginBottom:24}}),t.jsxs(_,{layout:"vertical",children:[t.jsx(_.Item,{label:"Amount",name:"amount",children:t.jsx(P,{type:"number",prefix:"₫",value:f,onChange:e=>b(e.target.value),addonAfter:"VND",defaultValue:"10000"})}),t.jsx(_.Item,{label:"Payment Method",name:"paymentMethod",children:t.jsx(x,{defaultValue:"credit_card",children:o?.methods?.map(e=>t.jsx(Ui,{value:e,children:{credit_card:{text:"Credit Card"},bank_transfer:{text:"Bank Transfer"},ewallet:{text:"E-Wallet"},qr_code:{text:"QR Code"},paypal_balance:{text:"PayPal Balance"}}[e]?.text||e},e))})})]})]})]})}},Symbol.toStringTag,{value:"Module"})),{Title:er,Text:tr,Paragraph:nr}=u,{Option:sr}=x,{TabPane:ar}=k,{TextArea:ir}=P,rr=[{id:1,name:"Quickbooks",logo:"/logos/quickbooks.png",category:"Accounting",status:"active",description:"Accounting and financial management",installedDate:"2023-06-15",lastSync:"2023-10-07 14:30",dataAccess:["orders","customers","products","finances"],owner:"admin@truongphat.com"},{id:2,name:"MailChimp",logo:"/logos/mailchimp.png",category:"Marketing",status:"active",description:"Email marketing automation",installedDate:"2023-07-21",lastSync:"2023-10-06 18:45",dataAccess:["customers","orders"],owner:"marketing@truongphat.com"},{id:3,name:"Google Analytics",logo:"/logos/google-analytics.png",category:"Analytics",status:"active",description:"Web analytics and reporting",installedDate:"2023-05-12",lastSync:"Continuous",dataAccess:["web_traffic","user_behavior"],owner:"admin@truongphat.com"},{id:4,name:"Xero",logo:"/logos/xero.png",category:"Accounting",status:"error",description:"Accounting and financial management",installedDate:"2023-08-03",lastSync:"2023-10-01 09:15",dataAccess:["orders","finances"],owner:"finance@truongphat.com",errorMessage:"Authentication token expired"},{id:5,name:"Facebook Ads",logo:"/logos/facebook-ads.png",category:"Marketing",status:"inactive",description:"Facebook advertising platform",installedDate:"2023-04-18",lastSync:"2023-09-15 11:30",dataAccess:["customer_audiences"],owner:"marketing@truongphat.com"}],lr=[{id:"quickbooks",name:"Quickbooks",logo:"/logos/quickbooks.png",category:"Accounting",description:"Sync orders, invoices, and payments with Quickbooks accounting software",pricing:"Free",rating:4.8,status:"installed"},{id:"mailchimp",name:"MailChimp",logo:"/logos/mailchimp.png",category:"Marketing",description:"Email marketing, automations, and customer segmentation",pricing:"Free",rating:4.7,status:"installed"},{id:"google-analytics",name:"Google Analytics",logo:"/logos/google-analytics.png",category:"Analytics",description:"Track website traffic and user behavior",pricing:"Free",rating:4.9,status:"installed"},{id:"xero",name:"Xero",logo:"/logos/xero.png",category:"Accounting",description:"Cloud-based accounting software for small businesses",pricing:"Free",rating:4.6,status:"installed"},{id:"facebook-ads",name:"Facebook Ads",logo:"/logos/facebook-ads.png",category:"Marketing",description:"Create and manage Facebook advertising campaigns",pricing:"Free",rating:4.5,status:"installed"},{id:"hubspot",name:"HubSpot",logo:"/logos/hubspot.png",category:"CRM",description:"Customer relationship management and marketing automation",pricing:"Free / Paid",rating:4.7,status:"available"},{id:"shipstation",name:"ShipStation",logo:"/logos/shipstation.png",category:"Shipping",description:"Streamline order fulfillment and shipping processes",pricing:"Paid",rating:4.6,status:"available"},{id:"zendesk",name:"Zendesk",logo:"/logos/zendesk.png",category:"Support",description:"Customer support and ticketing system",pricing:"Paid",rating:4.5,status:"available"},{id:"dropbox",name:"Dropbox",logo:"/logos/dropbox.png",category:"File Storage",description:"Cloud storage and file synchronization",pricing:"Free / Paid",rating:4.4,status:"available"},{id:"slack",name:"Slack",logo:"/logos/slack.png",category:"Communication",description:"Team communication and notifications",pricing:"Free / Paid",rating:4.8,status:"available"},{id:"google-drive",name:"Google Drive",logo:"/logos/google-drive.png",category:"File Storage",description:"Cloud storage and file sharing",pricing:"Free / Paid",rating:4.7,status:"available"},{id:"zapier",name:"Zapier",logo:"/logos/zapier.png",category:"Automation",description:"Connect apps and automate workflows",pricing:"Free / Paid",rating:4.6,status:"available"}],or=[{id:1,app:"Quickbooks",activity:"Data Sync",timestamp:"2023-10-07 14:30:22",status:"success",details:"Successfully synced 24 new orders and 8 updated products"},{id:2,app:"MailChimp",activity:"Customer Export",timestamp:"2023-10-06 18:45:11",status:"success",details:"Exported 156 new customers to mailing list"},{id:3,app:"Xero",activity:"Authentication",timestamp:"2023-10-05 09:15:48",status:"error",details:"Authentication token expired. Please reconnect the integration."},{id:4,app:"Google Analytics",activity:"Tracking Update",timestamp:"2023-10-04 11:23:05",status:"success",details:"Updated tracking parameters for new campaign"},{id:5,app:"Quickbooks",activity:"Configuration Change",timestamp:"2023-10-03 15:42:19",status:"success",details:"Updated tax settings and account mappings"}],cr=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState("installed"),[a,i]=e.useState(!1),[r,l]=e.useState(!1),[o,u]=e.useState(null),[g]=_.useForm(),[f,b]=e.useState(""),[I,T]=e.useState("all"),[D,N]=e.useState(!1),F=lr.filter(e=>{const t=e.name.toLowerCase().includes(f.toLowerCase())||e.description.toLowerCase().includes(f.toLowerCase()),n="all"===I||e.category===I;return t&&n}),B=[{title:"Application",dataIndex:"app",key:"app"},{title:"Activity",dataIndex:"activity",key:"activity"},{title:"Timestamp",dataIndex:"timestamp",key:"timestamp",sorter:(e,t)=>new Date(e.timestamp)-new Date(t.timestamp)},{title:"Status",dataIndex:"status",key:"status",render:e=>"success"===e?t.jsx(j,{status:"success",text:"Success"}):"error"===e?t.jsx(j,{status:"error",text:"Error"}):"warning"===e?t.jsx(j,{status:"warning",text:"Warning"}):"pending"===e?t.jsx(j,{status:"processing",text:"Pending"}):t.jsx(j,{status:"default",text:e}),filters:[{text:"Success",value:"success"},{text:"Error",value:"error"},{text:"Warning",value:"warning"},{text:"Pending",value:"pending"}],onFilter:(e,t)=>t.status===e},{title:"Details",dataIndex:"details",key:"details",ellipsis:{showTitle:!1},render:e=>t.jsx(S,{placement:"topLeft",title:e,children:e})},{title:"Actions",key:"actions",render:(e,n)=>t.jsxs(m,{children:[t.jsx(p,{size:"small",children:"View Details"}),"error"===n.status&&t.jsx(p,{type:"primary",size:"small",danger:!0,children:"Resolve"})]})}],V=e=>({Accounting:t.jsx(We,{}),Analytics:t.jsx(ve,{}),Marketing:t.jsx(ve,{}),CRM:t.jsx(UserOutlined,{}),Shipping:t.jsx(oe,{}),Support:t.jsx(CustomerServiceOutlined,{}),"File Storage":t.jsx(Mt,{}),Communication:t.jsx(MessageOutlined,{}),Automation:t.jsx(At,{}),Productivity:t.jsx(ToolOutlined,{})}[e]||t.jsx(et,{}));return t.jsxs("div",{style:{padding:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[t.jsxs(er,{level:2,children:[t.jsx(et,{})," Third-Party Apps"]}),t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>s("marketplace"),children:"Add New App"})]}),t.jsx(c,{children:t.jsxs(k,{activeKey:n,onChange:s,children:[t.jsxs(ar,{tab:t.jsxs("span",{children:[t.jsx(et,{})," Installed Apps"]}),children:[t.jsx(d,{gutter:[24,24],children:rr.map(e=>t.jsx(h,{xs:24,sm:12,md:8,lg:6,children:t.jsx(c,{hoverable:!0,style:{height:"100%"},actions:[t.jsx(S,{title:"Configure",children:t.jsx(p,{type:"text",icon:t.jsx(he,{}),onClick:()=>(e=>{u(e),l(!0),g.setFieldsValue({name:e.name,status:"active"===e.status,owner:e.owner,dataAccess:e.dataAccess})})(e)})}),t.jsx(S,{title:"Sync Now",children:t.jsx(p,{type:"text",icon:t.jsx(Le,{}),onClick:()=>(e=>{M.loading(`Syncing data with ${e.name}...`,2),setTimeout(()=>{M.success(`Successfully synced with ${e.name}`)},2e3)})(e),disabled:"active"!==e.status})}),t.jsx(q,{title:`Are you sure you want to uninstall ${e.name}?`,onConfirm:()=>(e=>{M.success(`${e.name} has been uninstalled`)})(e),okText:"Yes",cancelText:"No",children:t.jsx(S,{title:"Uninstall",children:t.jsx(p,{type:"text",danger:!0,icon:t.jsx(Te,{})})})})],children:t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.logo?t.jsx(R,{size:64,src:e.logo,style:{marginBottom:16}}):t.jsx(R,{size:64,icon:V(e.category),style:{marginBottom:16}}),t.jsxs("div",{style:{textAlign:"center"},children:[t.jsxs("div",{style:{marginBottom:8},children:[t.jsx(tr,{strong:!0,children:e.name}),"active"===e.status&&t.jsx(j,{status:"success",style:{marginLeft:8}}),"inactive"===e.status&&t.jsx(j,{status:"default",style:{marginLeft:8}}),"error"===e.status&&t.jsx(S,{title:e.errorMessage,children:t.jsx(j,{status:"error",style:{marginLeft:8}})})]}),t.jsx(v,{color:"blue",children:e.category}),t.jsx("div",{style:{marginTop:8},children:t.jsxs(tr,{type:"secondary",style:{fontSize:12},children:["Last sync: ",e.lastSync]})})]})]})})},e.id))}),0===rr.length&&t.jsx(L,{description:"No apps installed",image:L.PRESENTED_IMAGE_SIMPLE,children:t.jsx(p,{type:"primary",onClick:()=>s("marketplace"),children:"Explore App Marketplace"})})]},"installed"),t.jsxs(ar,{tab:t.jsxs("span",{children:[t.jsx(ShopOutlined,{})," App Marketplace"]}),children:[t.jsx("div",{style:{marginBottom:24},children:t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:16,children:t.jsx(P.Search,{placeholder:"Search apps...",value:f,onChange:e=>b(e.target.value),style:{width:"100%"}})}),t.jsx(h,{span:8,children:t.jsxs(x,{style:{width:"100%"},placeholder:"Filter by category",value:I,onChange:T,children:[t.jsx(sr,{value:"all",children:"All Categories"}),t.jsx(sr,{value:"Accounting",children:"Accounting"}),t.jsx(sr,{value:"Analytics",children:"Analytics"}),t.jsx(sr,{value:"Marketing",children:"Marketing"}),t.jsx(sr,{value:"CRM",children:"CRM"}),t.jsx(sr,{value:"Shipping",children:"Shipping"}),t.jsx(sr,{value:"Support",children:"Support"}),t.jsx(sr,{value:"File Storage",children:"File Storage"}),t.jsx(sr,{value:"Communication",children:"Communication"}),t.jsx(sr,{value:"Automation",children:"Automation"})]})})]})}),t.jsx(d,{gutter:[24,24],children:F.map(e=>t.jsx(h,{xs:24,sm:12,md:8,lg:6,children:t.jsx(c,{hoverable:!0,style:{height:"100%"},actions:["installed"===e.status?t.jsx(p,{disabled:!0,children:"Installed"}):t.jsx(p,{type:"primary",onClick:()=>(e=>{u(e),i(!0)})(e),children:"Install"})],children:t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.logo?t.jsx(R,{size:64,src:e.logo,style:{marginBottom:16}}):t.jsx(R,{size:64,icon:V(e.category),style:{marginBottom:16}}),t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx("div",{style:{marginBottom:8},children:t.jsx(tr,{strong:!0,children:e.name})}),t.jsx(v,{color:"blue",children:e.category}),t.jsx("div",{style:{marginTop:8},children:t.jsx(nr,{ellipsis:{rows:2},style:{fontSize:12},children:e.description})}),t.jsxs("div",{style:{marginTop:8,display:"flex",justifyContent:"space-between"},children:[t.jsxs(tr,{type:"secondary",style:{fontSize:12},children:["Price: ",e.pricing]}),t.jsxs(tr,{type:"secondary",style:{fontSize:12},children:["Rating: ",e.rating,"/5"]})]})]})]})})},e.id))}),0===F.length&&t.jsx(L,{description:"No apps found matching your search"})]},"marketplace"),t.jsx(ar,{tab:t.jsxs("span",{children:[t.jsx(HistoryOutlined,{})," Activity Log"]}),children:t.jsx(y,{columns:B,dataSource:or,rowKey:"id",pagination:{pageSize:10}})},"activity"),t.jsx(ar,{tab:t.jsxs("span",{children:[t.jsx(he,{})," Integration Settings"]}),children:t.jsx(c,{children:t.jsxs(_,{layout:"vertical",children:[t.jsxs(d,{gutter:24,children:[t.jsx(h,{span:12,children:t.jsxs(c,{title:"Data Sync Settings",bordered:!1,children:[t.jsx(_.Item,{label:"Default Sync Frequency",name:"syncFrequency",initialValue:"hourly",children:t.jsxs(x,{children:[t.jsx(sr,{value:"realtime",children:"Real-time"}),t.jsx(sr,{value:"15min",children:"Every 15 minutes"}),t.jsx(sr,{value:"hourly",children:"Hourly"}),t.jsx(sr,{value:"daily",children:"Daily"}),t.jsx(sr,{value:"weekly",children:"Weekly"})]})}),t.jsx(_.Item,{label:"Sync Time Window",name:"syncWindow",initialValue:"all",children:t.jsxs(x,{children:[t.jsx(sr,{value:"all",children:"All Hours"}),t.jsx(sr,{value:"business",children:"Business Hours (9AM-5PM)"}),t.jsx(sr,{value:"night",children:"Off Hours (7PM-7AM)"}),t.jsx(sr,{value:"custom",children:"Custom Schedule"})]})}),t.jsx(_.Item,{label:"Sync Failure Notifications",name:"syncFailureNotifications",valuePropName:"checked",initialValue:!0,children:t.jsx(O,{})})]})}),t.jsx(h,{span:12,children:t.jsxs(c,{title:"Integration Security",bordered:!1,children:[t.jsx(_.Item,{label:"Require Re-authentication",name:"reauth",initialValue:"90days",children:t.jsxs(x,{children:[t.jsx(sr,{value:"30days",children:"Every 30 days"}),t.jsx(sr,{value:"60days",children:"Every 60 days"}),t.jsx(sr,{value:"90days",children:"Every 90 days"}),t.jsx(sr,{value:"never",children:"Never"})]})}),t.jsx(_.Item,{label:"Auto-Disconnect Inactive Integrations",name:"autoDisconnect",valuePropName:"checked",initialValue:!0,children:t.jsx(O,{})}),t.jsx(_.Item,{label:"Inactive Period Before Disconnection",name:"inactivePeriod",initialValue:"90days",children:t.jsxs(x,{children:[t.jsx(sr,{value:"30days",children:"30 days"}),t.jsx(sr,{value:"60days",children:"60 days"}),t.jsx(sr,{value:"90days",children:"90 days"}),t.jsx(sr,{value:"180days",children:"180 days"})]})})]})})]}),t.jsxs(d,{gutter:24,style:{marginTop:24},children:[t.jsx(h,{span:12,children:t.jsxs(c,{title:"OAuth Settings",bordered:!1,children:[t.jsx(_.Item,{label:"OAuth Redirect URL",name:"oauthRedirect",children:t.jsx(P,{readOnly:!0,defaultValue:"https://truongphat.com/oauth/callback"})}),t.jsx(_.Item,{label:"Default OAuth Scopes",name:"oauthScopes",initialValue:["read_products","read_customers","read_orders"],children:t.jsxs(x,{mode:"multiple",children:[t.jsx(sr,{value:"read_products",children:"Read Products"}),t.jsx(sr,{value:"write_products",children:"Write Products"}),t.jsx(sr,{value:"read_customers",children:"Read Customers"}),t.jsx(sr,{value:"write_customers",children:"Write Customers"}),t.jsx(sr,{value:"read_orders",children:"Read Orders"}),t.jsx(sr,{value:"write_orders",children:"Write Orders"})]})})]})}),t.jsx(h,{span:12,children:t.jsxs(c,{title:"Developer Settings",bordered:!1,children:[t.jsx(_.Item,{label:"Enable Developer Mode",name:"devMode",valuePropName:"checked",initialValue:!1,children:t.jsx(O,{})}),t.jsx(_.Item,{label:"API Logging Level",name:"apiLogging",initialValue:"error",children:t.jsxs(x,{children:[t.jsx(sr,{value:"none",children:"None"}),t.jsx(sr,{value:"error",children:"Errors Only"}),t.jsx(sr,{value:"info",children:"Info + Errors"}),t.jsx(sr,{value:"debug",children:"Debug (All)"})]})}),t.jsx(_.Item,{label:"Sandbox Testing",name:"sandbox",valuePropName:"checked",initialValue:!1,children:t.jsx(O,{})})]})})]}),t.jsx("div",{style:{marginTop:24,textAlign:"right"},children:t.jsx(p,{type:"primary",children:"Save Settings"})})]})})},"settings")]})}),t.jsx(A,{title:`Install ${o?.name}`,visible:a,onCancel:()=>i(!1),footer:[t.jsx(p,{onClick:()=>i(!1),children:"Cancel"},"back"),t.jsx(p,{type:"primary",loading:D,onClick:()=>{N(!0),setTimeout(()=>{M.success(`${o.name} has been successfully installed`),N(!1),i(!1)},2e3)},children:"Install"},"submit")],children:o&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[o.logo?t.jsx(R,{size:64,src:o.logo}):t.jsx(R,{size:64,icon:V(o.category)}),t.jsx(er,{level:4,style:{marginTop:"16px",marginBottom:"8px"},children:o.name}),t.jsx(tr,{children:o.description})]}),t.jsx(w,{message:"Permission Request",description:`${o.name} is requesting access to your store data. Please review the permissions below.`,type:"info",showIcon:!0,style:{marginBottom:"16px"}}),t.jsxs(Descriptions,{title:"App Details",column:1,bordered:!0,children:[t.jsxs(Descriptions.Item,{label:"Developer",children:[o.name," Inc."]}),t.jsx(Descriptions.Item,{label:"Category",children:o.category}),t.jsx(Descriptions.Item,{label:"Pricing",children:o.pricing}),t.jsxs(Descriptions.Item,{label:"Rating",children:[o.rating,"/5"]}),t.jsx(Descriptions.Item,{label:"Permissions Required",children:t.jsxs("ul",{style:{paddingLeft:"20px",margin:0},children:[t.jsx("li",{children:"Read product information"}),t.jsx("li",{children:"Read customer information"}),t.jsx("li",{children:"Read order information"}),"Accounting"===o.category&&t.jsx("li",{children:"Read financial information"})]})}),t.jsx(Descriptions.Item,{label:"Privacy Policy",children:t.jsx("a",{href:"#",target:"_blank",children:"View Privacy Policy"})}),t.jsx(Descriptions.Item,{label:"Terms of Service",children:t.jsx("a",{href:"#",target:"_blank",children:"View Terms of Service"})})]})]})}),t.jsx(A,{title:`Configure ${o?.name}`,visible:r,onCancel:()=>l(!1),footer:[t.jsx(p,{onClick:()=>l(!1),children:"Cancel"},"back"),t.jsx(p,{type:"primary",onClick:()=>{g.validateFields().then(e=>{M.success(`${o.name} configuration updated successfully`),l(!1)}).catch(e=>{})},children:"Save Configuration"},"submit")],children:o&&t.jsxs(_,{form:g,layout:"vertical",children:[t.jsx(_.Item,{name:"name",label:"Integration Name",rules:[{required:!0,message:"Please enter a name for this integration"}],children:t.jsx(P,{})}),t.jsx(_.Item,{name:"status",label:"Status",valuePropName:"checked",children:t.jsx(O,{checkedChildren:"Active",unCheckedChildren:"Inactive"})}),t.jsx(_.Item,{name:"owner",label:"Integration Owner",rules:[{required:!0,message:"Please select an owner"}],children:t.jsxs(x,{children:[t.jsx(sr,{value:"admin@truongphat.com",children:"Admin (admin@truongphat.com)"}),t.jsx(sr,{value:"marketing@truongphat.com",children:"Marketing (marketing@truongphat.com)"}),t.jsx(sr,{value:"finance@truongphat.com",children:"Finance (finance@truongphat.com)"}),t.jsx(sr,{value:"inventory@truongphat.com",children:"Inventory (inventory@truongphat.com)"})]})}),t.jsx(_.Item,{name:"dataAccess",label:"Data Access",rules:[{required:!0,message:"Please select at least one data access type"}],children:t.jsxs(x,{mode:"multiple",children:[t.jsx(sr,{value:"products",children:"Products"}),t.jsx(sr,{value:"customers",children:"Customers"}),t.jsx(sr,{value:"orders",children:"Orders"}),t.jsx(sr,{value:"finances",children:"Financial Data"}),t.jsx(sr,{value:"inventory",children:"Inventory"}),t.jsx(sr,{value:"web_traffic",children:"Web Traffic"}),t.jsx(sr,{value:"user_behavior",children:"User Behavior"})]})}),t.jsx(_.Item,{name:"syncFrequency",label:"Sync Frequency",initialValue:"hourly",children:t.jsxs(x,{children:[t.jsx(sr,{value:"realtime",children:"Real-time"}),t.jsx(sr,{value:"15min",children:"Every 15 minutes"}),t.jsx(sr,{value:"hourly",children:"Hourly"}),t.jsx(sr,{value:"daily",children:"Daily"}),t.jsx(sr,{value:"weekly",children:"Weekly"}),t.jsx(sr,{value:"manual",children:"Manual Only"})]})}),t.jsx(C,{children:"Advanced Configuration"}),t.jsx(_.Item,{name:"webhookUrl",label:"Webhook URL",tooltip:"For receiving real-time notifications",children:t.jsx(P,{placeholder:"https://example.com/webhook"})}),t.jsx(_.Item,{name:"customFields",label:"Custom Field Mapping",tooltip:"Map custom fields between systems",children:t.jsx(ir,{rows:4,placeholder:"Enter custom field mappings (JSON format)"})})]})})]})}},Symbol.toStringTag,{value:"Module"})),{Title:dr,Text:hr,Paragraph:ur}=u,{TabPane:mr}=k,{Option:xr}=x,{TextArea:pr}=P,{confirm:gr}=A,jr=[{id:1,name:"Production API Key",key:"pk_live_51HDx2EGKtcBDE56JowSQIwHu7FiH8nBu2p7m7ZBEgTXUJF2vXDKslT2tPis98DqCXqLCPcrdZtj1ozidCjnXObHX00xUDEkwwD",status:"active",permissions:["read","write"],created:"2023-06-15",lastUsed:"2023-10-07",requestCount:12456,ipRestrictions:["103.21.244.0/22","103.22.200.0/22"],expiryDate:"2024-06-15"},{id:2,name:"Ecommerce Integration",key:"pk_live_51HDx2EGKtcBDE56JowSQcdutiTVExn7PzVhw2VtSIgzpDmVGgBfGEJDtZjpvJ2CrDbRDftGglERPw3IAyYNd9TjJ00KZf41hQY",status:"active",permissions:["read"],created:"2023-08-23",lastUsed:"2023-10-06",requestCount:5672,ipRestrictions:[],expiryDate:null},{id:3,name:"Mobile App",key:"pk_live_51HDx2EGKtcBDE56JowSQMHJtyxCph2aIzeQWtKzVj5jH8M8iNToB7mCJXpRnbYxcjfJgVz9mHalZ4ZO8k6YQQnC900cyyvqfOx",status:"active",permissions:["read","write","delete"],created:"2023-07-12",lastUsed:"2023-10-07",requestCount:8943,ipRestrictions:[],expiryDate:null},{id:4,name:"Analytics Integration",key:"pk_live_51HDx2EGKtcBDE56JowSQKHcUYLJWVeVkZVLsdV1NFcBGnMTfDbwFKLW9cX9TSHFL6gfgHmG8gFjgz2OEdWHH9ae700WrZXMfz5",status:"expired",permissions:["read"],created:"2023-01-05",lastUsed:"2023-08-15",requestCount:1254,ipRestrictions:[],expiryDate:"2023-08-31"},{id:5,name:"Development Key",key:"pk_test_51HDx2EGKtcBDE56JowSQvnvk9GcbbDkXyJnS4YegNfpnmsVXoPxBHpBgm0vQnhKfZrheBwZFBBNlJ5lYJZTKTyQi00Sle0UgSJ",status:"inactive",permissions:["read","write","delete"],created:"2023-05-20",lastUsed:"2023-09-01",requestCount:3452,ipRestrictions:[],expiryDate:null}],yr=[{date:"2023-09-01",requests:1245,errors:23,avgResponseTime:142},{date:"2023-09-02",requests:1312,errors:18,avgResponseTime:138},{date:"2023-09-03",requests:1156,errors:15,avgResponseTime:145},{date:"2023-09-04",requests:1432,errors:12,avgResponseTime:136},{date:"2023-09-05",requests:1523,errors:28,avgResponseTime:150},{date:"2023-09-06",requests:1387,errors:14,avgResponseTime:141},{date:"2023-09-07",requests:1298,errors:9,avgResponseTime:138}],vr=[{path:"/api/v1/products",method:"GET",description:"List all products with pagination",params:["page","limit","category","search"],auth:!0,rateLimit:"1000/hour",avgResponseTime:128,status:"active"},{path:"/api/v1/products/{id}",method:"GET",description:"Get a single product by ID",params:["id"],auth:!0,rateLimit:"1000/hour",avgResponseTime:115,status:"active"},{path:"/api/v1/products",method:"POST",description:"Create a new product",params:[],auth:!0,rateLimit:"500/hour",avgResponseTime:245,status:"active"},{path:"/api/v1/products/{id}",method:"PUT",description:"Update an existing product",params:["id"],auth:!0,rateLimit:"500/hour",avgResponseTime:186,status:"active"},{path:"/api/v1/products/{id}",method:"DELETE",description:"Delete a product",params:["id"],auth:!0,rateLimit:"200/hour",avgResponseTime:156,status:"active"},{path:"/api/v1/orders",method:"GET",description:"List all orders with pagination",params:["page","limit","status","customer_id"],auth:!0,rateLimit:"1000/hour",avgResponseTime:172,status:"active"},{path:"/api/v1/orders/{id}",method:"GET",description:"Get a single order by ID",params:["id"],auth:!0,rateLimit:"1000/hour",avgResponseTime:143,status:"active"},{path:"/api/v1/customers",method:"GET",description:"List all customers with pagination",params:["page","limit","search"],auth:!0,rateLimit:"800/hour",avgResponseTime:165,status:"active"},{path:"/api/v1/analytics/sales",method:"GET",description:"Get sales analytics",params:["start_date","end_date","group_by"],auth:!0,rateLimit:"100/hour",avgResponseTime:348,status:"active"},{path:"/api/v1/webhooks",method:"POST",description:"Register a new webhook",params:[],auth:!0,rateLimit:"50/hour",avgResponseTime:205,status:"active"}],fr=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState("api-keys"),[a,i]=e.useState({}),[r,l]=e.useState(!1),[o,u]=e.useState(!1),[f,S]=e.useState(null),[T]=_.useForm(),D=[{title:"Name",dataIndex:"name",key:"name",render:e=>t.jsx("a",{children:e})},{title:"API Key",dataIndex:"key",key:"key",render:(e,n)=>t.jsxs(m,{children:[t.jsx(hr,{code:!0,children:a[n.id]?e:`${e.substring(0,8)}...${e.substring(e.length-4)}`}),t.jsx(p,{type:"text",icon:a[n.id]?t.jsx(Ft,{}):t.jsx(ne,{}),onClick:()=>{return e=n.id,void i({...a,[e]:!a[e]});var e}})]})},{title:"Status",dataIndex:"status",key:"status",render:e=>"active"===e?t.jsx(j,{status:"success",text:"Active"}):"inactive"===e?t.jsx(j,{status:"default",text:"Inactive"}):"expired"===e?t.jsx(j,{status:"error",text:"Expired"}):t.jsx(j,{status:"warning",text:e}),filters:[{text:"Active",value:"active"},{text:"Inactive",value:"inactive"},{text:"Expired",value:"expired"}],onFilter:(e,t)=>t.status===e},{title:"Permissions",dataIndex:"permissions",key:"permissions",render:e=>t.jsxs(m,{children:[e.includes("read")&&t.jsx(v,{color:"blue",children:"Read"}),e.includes("write")&&t.jsx(v,{color:"green",children:"Write"}),e.includes("delete")&&t.jsx(v,{color:"red",children:"Delete"})]})},{title:"Created",dataIndex:"created",key:"created"},{title:"Last Used",dataIndex:"lastUsed",key:"lastUsed"},{title:"Expiry Date",dataIndex:"expiryDate",key:"expiryDate",render:e=>e||"Never expires"},{title:"Actions",key:"actions",render:(e,n)=>t.jsxs(m,{children:[t.jsx(p,{icon:t.jsx(_e,{}),onClick:()=>{return S(e=n),u(!0),void T.setFieldsValue({name:e.name,permissions:e.permissions,ipRestrictions:e.ipRestrictions.join("\n"),status:e.status,expiryDate:e.expiryDate?moment(e.expiryDate):null});var e},children:"Edit"}),t.jsx(p,{icon:t.jsx(Le,{}),onClick:()=>{M.success("API key regenerated. Make sure to update all applications using this key.")},children:"Regenerate"}),t.jsx(q,{title:"Are you sure you want to delete this API key?",onConfirm:()=>(n.id,void gr({title:"Are you sure you want to delete this API key?",content:"This action cannot be undone. Any applications using this key will no longer be able to access the API.",okText:"Yes, Delete",okType:"danger",cancelText:"Cancel",onOk(){M.success("API key deleted successfully")}})),okText:"Yes",cancelText:"No",children:t.jsx(p,{danger:!0,icon:t.jsx(Te,{}),children:"Delete"})})]})}],N=[{title:"Endpoint",dataIndex:"path",key:"path",render:e=>t.jsx(hr,{code:!0,children:e})},{title:"Method",dataIndex:"method",key:"method",render:e=>t.jsx(v,{color:{GET:"green",POST:"blue",PUT:"orange",DELETE:"red",PATCH:"purple"}[e],children:e}),filters:[{text:"GET",value:"GET"},{text:"POST",value:"POST"},{text:"PUT",value:"PUT"},{text:"DELETE",value:"DELETE"}],onFilter:(e,t)=>t.method===e},{title:"Description",dataIndex:"description",key:"description"},{title:"Auth Required",dataIndex:"auth",key:"auth",render:e=>e?t.jsx(j,{status:"success",text:"Yes"}):t.jsx(j,{status:"default",text:"No"}),filters:[{text:"Required",value:!0},{text:"Not Required",value:!1}],onFilter:(e,t)=>t.auth===e},{title:"Rate Limit",dataIndex:"rateLimit",key:"rateLimit"},{title:"Avg Response Time",dataIndex:"avgResponseTime",key:"avgResponseTime",render:e=>`${e} ms`,sorter:(e,t)=>e.avgResponseTime-t.avgResponseTime},{title:"Actions",key:"actions",render:()=>t.jsxs(m,{children:[t.jsx(p,{icon:t.jsx(_t,{}),children:"Docs"}),t.jsx(p,{icon:t.jsx(ve,{}),children:"Stats"})]})}],F=()=>t.jsxs(_,{form:T,layout:"vertical",children:[t.jsx(_.Item,{name:"name",label:"Key Name",rules:[{required:!0,message:"Please enter a name for this API key"}],children:t.jsx(P,{placeholder:"e.g., Production API Key"})}),t.jsx(_.Item,{name:"permissions",label:"Permissions",rules:[{required:!0,message:"Please select at least one permission"}],initialValue:["read"],children:t.jsx(Checkbox.Group,{children:t.jsxs(d,{children:[t.jsx(h,{span:8,children:t.jsx(Checkbox,{value:"read",children:"Read"})}),t.jsx(h,{span:8,children:t.jsx(Checkbox,{value:"write",children:"Write"})}),t.jsx(h,{span:8,children:t.jsx(Checkbox,{value:"delete",children:"Delete"})})]})})}),t.jsx(_.Item,{name:"ipRestrictions",label:"IP Restrictions",tooltip:"Enter one IP or CIDR range per line (e.g., 192.168.1.1 or 192.168.1.0/24)",children:t.jsx(pr,{placeholder:"Leave blank to allow all IPs",rows:3})}),t.jsx(_.Item,{name:"expiryDate",label:"Expiry Date",tooltip:"Leave blank for a non-expiring key",children:t.jsx(DatePicker,{style:{width:"100%"}})}),o&&t.jsx(_.Item,{name:"status",label:"Status",children:t.jsxs(G.Group,{children:[t.jsx(G.Button,{value:"active",children:"Active"}),t.jsx(G.Button,{value:"inactive",children:"Inactive"})]})})]});return t.jsxs("div",{style:{padding:"24px"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[t.jsxs(dr,{level:2,children:[t.jsx(Dt,{})," API Management"]}),t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>{T.resetFields(),l(!0)},children:"Create New API Key"})]}),t.jsx(c,{children:t.jsxs(k,{activeKey:n,onChange:s,children:[t.jsxs(mr,{tab:t.jsxs("span",{children:[t.jsx(Rt,{})," API Keys"]}),children:[t.jsx(w,{message:"Security Notice",description:"API keys provide full access to your account. Never share your API keys in publicly accessible areas or client-side code. Limit their permissions and use IP restrictions where possible.",type:"warning",showIcon:!0,style:{marginBottom:"24px"}}),t.jsx(y,{columns:D,dataSource:jr,rowKey:"id",pagination:{pageSize:10}})]},"api-keys"),t.jsxs(mr,{tab:t.jsxs("span",{children:[t.jsx(ve,{})," API Usage"]}),children:[t.jsxs(d,{gutter:16,style:{marginBottom:"24px"},children:[t.jsx(h,{span:6,children:t.jsxs(c,{children:[t.jsx(b,{title:"Total Requests (Today)",value:3854,valueStyle:{color:"#3f8600"},suffix:"requests"}),t.jsx("div",{style:{marginTop:"10px"},children:t.jsx(hr,{type:"secondary",children:"Average: 160.6/hr"})})]})}),t.jsx(h,{span:6,children:t.jsxs(c,{children:[t.jsx(b,{title:"Success Rate",value:98.7,valueStyle:{color:"#3f8600"},suffix:"%"}),t.jsx("div",{style:{marginTop:"10px"},children:t.jsx(I,{percent:98.7,size:"small",showInfo:!1})})]})}),t.jsx(h,{span:6,children:t.jsxs(c,{children:[t.jsx(b,{title:"Avg Response Time",value:147,valueStyle:{color:"#1890ff"},suffix:"ms"}),t.jsx("div",{style:{marginTop:"10px"},children:t.jsx(hr,{type:"success",children:"-5% vs last week"})})]})}),t.jsx(h,{span:6,children:t.jsxs(c,{children:[t.jsx(b,{title:"Error Rate",value:1.3,valueStyle:{color:"#cf1322"},suffix:"%"}),t.jsx("div",{style:{marginTop:"10px"},children:t.jsx(hr,{type:"success",children:"-0.2% vs last week"})})]})})]}),t.jsx(c,{title:"API Requests Over Time",style:{marginBottom:"24px"},children:t.jsx(Yt,{width:"100%",height:300,children:t.jsxs(nn,{data:yr,children:[t.jsx(Ut,{strokeDasharray:"3 3"}),t.jsx(Wt,{dataKey:"date"}),t.jsx(Xt,{}),t.jsx(Qt,{}),t.jsx(Jt,{}),t.jsx(en,{type:"monotone",dataKey:"requests",name:"Total Requests",stroke:"#1890ff",activeDot:{r:8}}),t.jsx(en,{type:"monotone",dataKey:"errors",name:"Error Count",stroke:"#ff4d4f"})]})})}),t.jsx(c,{title:"Response Time",children:t.jsx(Yt,{width:"100%",height:300,children:t.jsxs(tn,{data:yr,children:[t.jsx(Ut,{strokeDasharray:"3 3"}),t.jsx(Wt,{dataKey:"date"}),t.jsx(Xt,{}),t.jsx(Qt,{}),t.jsx(Jt,{}),t.jsx(Zt,{dataKey:"avgResponseTime",name:"Avg Response Time (ms)",fill:"#52c41a"})]})})})]},"api-usage"),t.jsx(mr,{tab:t.jsxs("span",{children:[t.jsx(_t,{})," Endpoints"]}),children:t.jsx(y,{columns:N,dataSource:vr,rowKey:e=>`${e.path}-${e.method}`,pagination:{pageSize:10},expandable:{expandedRowRender:e=>t.jsxs("div",{style:{padding:"0 50px"},children:[t.jsx(dr,{level:5,children:"Parameters"}),e.params.length>0?t.jsx(g,{size:"small",bordered:!0,dataSource:e.params,renderItem:e=>t.jsx(g.Item,{children:t.jsx(v,{color:"blue",children:e})})}):t.jsx(hr,{type:"secondary",children:"No parameters"}),t.jsx(dr,{level:5,style:{marginTop:"16px"},children:"Example Request"}),t.jsx(hr,{code:!0,children:`curl -X ${e.method} \\\n  "${window.location.origin}${e.path}" \\\n  -H "Authorization: Bearer YOUR_API_KEY" \\\n  -H "Content-Type: application/json"`})]})}})},"endpoints"),t.jsxs(mr,{tab:t.jsxs("span",{children:[t.jsx(Nt,{})," Security"]}),children:[t.jsx(c,{title:"API Security Settings",children:t.jsxs(_,{layout:"vertical",children:[t.jsxs(d,{gutter:24,children:[t.jsxs(h,{span:12,children:[t.jsx(_.Item,{label:"Rate Limiting",tooltip:"Limit the number of requests per API key",children:t.jsx(B,{min:1,defaultValue:1e3,addonAfter:"requests/hour",style:{width:"100%"}})}),t.jsx(_.Item,{label:"Max Token Lifetime",tooltip:"Maximum lifetime of auth tokens",children:t.jsxs(x,{defaultValue:"24h",children:[t.jsx(xr,{value:"1h",children:"1 hour"}),t.jsx(xr,{value:"6h",children:"6 hours"}),t.jsx(xr,{value:"12h",children:"12 hours"}),t.jsx(xr,{value:"24h",children:"24 hours"}),t.jsx(xr,{value:"7d",children:"7 days"}),t.jsx(xr,{value:"30d",children:"30 days"})]})}),t.jsx(_.Item,{label:"CORS Origins",tooltip:"Allowed origins for cross-origin requests",children:t.jsx(x,{mode:"tags",placeholder:"Enter allowed origins (e.g., https://example.com)"})})]}),t.jsxs(h,{span:12,children:[t.jsx(_.Item,{label:"API Key Prefix",tooltip:"Prefix for generated API keys",children:t.jsx(P,{defaultValue:"pk_live_"})}),t.jsx(_.Item,{label:"Default API Key Expiry",children:t.jsxs(x,{defaultValue:"never",children:[t.jsx(xr,{value:"30d",children:"30 days"}),t.jsx(xr,{value:"90d",children:"90 days"}),t.jsx(xr,{value:"180d",children:"180 days"}),t.jsx(xr,{value:"365d",children:"1 year"}),t.jsx(xr,{value:"never",children:"Never"})]})}),t.jsx(_.Item,{label:"Security Measures",children:t.jsx(Checkbox.Group,{defaultValue:["ssl","cors","ip_logging"],children:t.jsxs(d,{children:[t.jsx(h,{span:24,children:t.jsx(Checkbox,{value:"ssl",children:"Require SSL/TLS"})}),t.jsx(h,{span:24,children:t.jsx(Checkbox,{value:"cors",children:"Enable CORS Protection"})}),t.jsx(h,{span:24,children:t.jsx(Checkbox,{value:"ip_logging",children:"Log IP Addresses"})}),t.jsx(h,{span:24,children:t.jsx(Checkbox,{value:"auto_block",children:"Auto-block Suspicious Activity"})})]})})})]})]}),t.jsx(p,{type:"primary",children:"Save Security Settings"})]})}),t.jsxs(c,{title:"API Access Log",style:{marginTop:"24px"},children:[t.jsxs($,{children:[t.jsxs($.Item,{dot:t.jsx(ee,{style:{color:"green"}}),children:[t.jsxs("p",{children:[t.jsx(hr,{strong:!0,children:"Successful authentication"})," - API Key: pk_live_***"]}),t.jsx("p",{children:"IP: 103.21.244.2 - Timestamp: 2023-10-07 15:32:15"}),t.jsx("p",{children:"Endpoint: GET /api/v1/products"})]}),t.jsxs($.Item,{dot:t.jsx(ee,{style:{color:"green"}}),children:[t.jsxs("p",{children:[t.jsx(hr,{strong:!0,children:"Successful authentication"})," - API Key: pk_live_***"]}),t.jsx("p",{children:"IP: 103.21.244.2 - Timestamp: 2023-10-07 15:30:45"}),t.jsx("p",{children:"Endpoint: GET /api/v1/products/156"})]}),t.jsxs($.Item,{dot:t.jsx(Ie,{style:{color:"red"}}),children:[t.jsxs("p",{children:[t.jsx(hr,{type:"danger",strong:!0,children:"Authentication failed"})," - Invalid API Key"]}),t.jsx("p",{children:"IP: 185.176.43.87 - Timestamp: 2023-10-07 15:28:22"}),t.jsx("p",{children:"Endpoint: POST /api/v1/orders"})]}),t.jsxs($.Item,{dot:t.jsx(ge,{style:{color:"orange"}}),children:[t.jsxs("p",{children:[t.jsx(hr,{strong:!0,children:"Rate limit warning"})," - API Key: pk_live_***"]}),t.jsx("p",{children:"IP: 103.21.244.2 - Timestamp: 2023-10-07 15:25:18"}),t.jsx("p",{children:"Reached 85% of hourly limit (850/1000 requests)"})]}),t.jsxs($.Item,{dot:t.jsx(ee,{style:{color:"green"}}),children:[t.jsxs("p",{children:[t.jsx(hr,{strong:!0,children:"Successful authentication"})," - API Key: pk_live_***"]}),t.jsx("p",{children:"IP: 103.21.244.2 - Timestamp: 2023-10-07 15:22:05"}),t.jsx("p",{children:"Endpoint: POST /api/v1/products"})]})]}),t.jsx("div",{style:{textAlign:"center",marginTop:"16px"},children:t.jsx(p,{type:"primary",children:"View Full Access Log"})})]})]},"security"),t.jsx(mr,{tab:t.jsxs("span",{children:[t.jsx(Ee,{})," Documentation"]}),children:t.jsxs(c,{children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[t.jsx(dr,{level:3,children:"API Documentation"}),t.jsx(ur,{children:"Comprehensive documentation for integrating with the Trường Phát Computer API"}),t.jsxs(m,{size:"large",children:[t.jsx(p,{icon:t.jsx(_t,{}),type:"primary",children:"Interactive API Explorer"}),t.jsx(p,{icon:t.jsx(fe,{}),children:"Download OpenAPI Spec"})]})]}),t.jsx(C,{}),t.jsx(dr,{level:4,children:"Getting Started"}),t.jsx(ur,{children:"To use the API, you need an API key. Follow these steps to create and use your API key:"}),t.jsxs("ol",{children:[t.jsxs("li",{children:["Create an API key in the ",t.jsx("a",{children:"API Keys"})," section"]}),t.jsx("li",{children:"Include your API key in each request's Authorization header"}),t.jsx("li",{children:"Make requests to the API endpoints"})]}),t.jsx(w,{message:"Authentication Example",description:t.jsx("div",{children:t.jsxs(hr,{code:!0,children:['curl -X GET "https://api.truongphat.com/v1/products" \\',t.jsx("br",{}),'-H "Authorization: Bearer YOUR_API_KEY"']})}),type:"info",style:{marginTop:"16px",marginBottom:"16px"}}),t.jsx(dr,{level:4,children:"API Guides"}),t.jsx(g,{grid:{gutter:16,column:3},dataSource:[{title:"Product Management",description:"Create, update, and manage products",icon:t.jsx(ShopOutlined,{})},{title:"Order Processing",description:"Work with customer orders",icon:t.jsx(ShoppingCartOutlined,{})},{title:"Customer Data",description:"Access and manage customer information",icon:t.jsx(UserOutlined,{})},{title:"Inventory Management",description:"Track and update inventory",icon:t.jsx(DatabaseOutlined,{})},{title:"Analytics",description:"Access sales and performance data",icon:t.jsx(se,{})},{title:"Webhooks",description:"Set up and manage event notifications",icon:t.jsx(Dt,{})}],renderItem:e=>t.jsx(g.Item,{children:t.jsxs(c,{hoverable:!0,children:[t.jsx(c.Meta,{avatar:t.jsx(R,{icon:e.icon}),title:e.title,description:e.description}),t.jsx("div",{style:{marginTop:"16px"},children:t.jsx(p,{type:"link",style:{padding:0},children:"View Documentation"})})]})})})]})},"documentation")]})}),t.jsx(A,{title:"Create New API Key",visible:r,onCancel:()=>l(!1),onOk:()=>{T.validateFields().then(e=>{M.success("New API key created successfully"),l(!1),T.resetFields()}).catch(e=>{})},okText:"Create API Key",width:600,children:F()}),t.jsx(A,{title:`Edit API Key: ${f?.name}`,visible:o,onCancel:()=>u(!1),onOk:()=>{T.validateFields().then(e=>{M.success("API key updated successfully"),u(!1)}).catch(e=>{})},okText:"Update API Key",width:600,children:F()})]})}},Symbol.toStringTag,{value:"Module"})),{Title:br,Text:Sr}=u,{TabPane:kr}=k,{Option:wr}=x,Cr=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n]=_.useForm(),[s]=_.useForm(),[a]=_.useForm(),[i]=_.useForm(),[r]=_.useForm(),[l]=_.useForm(),[o,u]=e.useState(!1),[g,y]=e.useState(!1),[v,f]=e.useState(!1),b=async e=>{u(!0);try{M.success("System settings saved successfully")}catch(t){M.error("Failed to save settings")}finally{u(!1)}};return t.jsxs("div",{className:"system-settings-container",style:{padding:"24px"},children:[t.jsx(d,{gutter:[24,24],children:t.jsxs(h,{span:24,children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[t.jsxs(br,{level:2,children:[t.jsx(he,{})," System Settings"]}),t.jsx(p,{type:"primary",icon:t.jsx(Be,{}),onClick:()=>n.submit(),loading:o,children:"Save All Settings"})]}),t.jsx(w,{message:"System Settings",description:"These settings affect the entire system operation. Changes may require a system restart.",type:"info",showIcon:!0,style:{marginBottom:24}})]})}),t.jsxs(k,{defaultActiveKey:"general",children:[t.jsx(kr,{tab:t.jsxs("span",{children:[t.jsx(he,{})," General"]}),children:t.jsx(c,{children:t.jsx(_,{form:n,layout:"vertical",onFinish:b,initialValues:{storeName:"Trường Phát Computer",storePhone:"0836.768.597",storeEmail:"contact@truongphat.com",receiptFooter:"Thank you for shopping with us!",autoLogout:30,maintenanceMode:!1,debugMode:!1},children:t.jsxs(d,{gutter:24,children:[t.jsxs(h,{span:12,children:[t.jsx(_.Item,{name:"storeName",label:"Store Name",rules:[{required:!0,message:"Please enter store name"}],children:t.jsx(P,{})}),t.jsx(_.Item,{name:"storePhone",label:"Store Phone",rules:[{required:!0,message:"Please enter store phone"}],children:t.jsx(P,{})}),t.jsx(_.Item,{name:"storeEmail",label:"Store Email",rules:[{required:!0,message:"Please enter store email"}],children:t.jsx(P,{})}),t.jsx(_.Item,{name:"autoLogout",label:"Auto Logout (minutes)",rules:[{required:!0,message:"Please enter auto logout time"}],children:t.jsx(B,{min:0,max:480,style:{width:"100%"}})})]}),t.jsxs(h,{span:12,children:[t.jsx(_.Item,{name:"receiptFooter",label:"Receipt Footer Text",children:t.jsx(P.TextArea,{rows:4})}),t.jsx(_.Item,{name:"maintenanceMode",label:"Maintenance Mode",valuePropName:"checked",children:t.jsx(O,{})}),t.jsx(_.Item,{name:"debugMode",label:"Debug Mode",valuePropName:"checked",children:t.jsx(O,{})})]})]})})})},"general"),t.jsx(kr,{tab:t.jsxs("span",{children:[t.jsx(nt,{})," Localization"]}),children:t.jsx(c,{children:t.jsxs(_,{form:i,layout:"vertical",onFinish:b,initialValues:{language:"vi",currency:"VND",dateFormat:"DD/MM/YYYY",timeFormat:"HH:mm:ss",timezone:"Asia/Ho_Chi_Minh"},children:[t.jsxs(d,{gutter:24,children:[t.jsxs(h,{span:12,children:[t.jsx(_.Item,{name:"language",label:"Default Language",rules:[{required:!0,message:"Please select a language"}],children:t.jsx(x,{children:[{code:"vi",name:"Vietnamese"},{code:"en",name:"English"},{code:"fr",name:"French"},{code:"de",name:"German"},{code:"ja",name:"Japanese"},{code:"zh",name:"Chinese"}].map(e=>t.jsx(wr,{value:e.code,children:e.name},e.code))})}),t.jsx(_.Item,{name:"timezone",label:"Timezone",rules:[{required:!0,message:"Please select a timezone"}],children:t.jsxs(x,{showSearch:!0,optionFilterProp:"children",children:[t.jsx(wr,{value:"Asia/Ho_Chi_Minh",children:"Asia/Ho_Chi_Minh (GMT+7)"}),t.jsx(wr,{value:"Asia/Bangkok",children:"Asia/Bangkok (GMT+7)"}),t.jsx(wr,{value:"America/New_York",children:"America/New_York (GMT-5)"}),t.jsx(wr,{value:"Europe/London",children:"Europe/London (GMT+0)"}),t.jsx(wr,{value:"Europe/Paris",children:"Europe/Paris (GMT+1)"})]})})]}),t.jsxs(h,{span:12,children:[t.jsx(_.Item,{name:"currency",label:"Default Currency",rules:[{required:!0,message:"Please select a currency"}],children:t.jsx(x,{children:[{code:"VND",name:"Vietnamese Dong"},{code:"USD",name:"US Dollar"},{code:"EUR",name:"Euro"},{code:"JPY",name:"Japanese Yen"},{code:"CNY",name:"Chinese Yuan"}].map(e=>t.jsxs(wr,{value:e.code,children:[e.code," - ",e.name]},e.code))})}),t.jsx(_.Item,{name:"dateFormat",label:"Date Format",rules:[{required:!0,message:"Please select a date format"}],children:t.jsx(x,{children:["DD/MM/YYYY","MM/DD/YYYY","YYYY-MM-DD"].map(e=>t.jsx(wr,{value:e,children:e},e))})}),t.jsx(_.Item,{name:"timeFormat",label:"Time Format",rules:[{required:!0,message:"Please select a time format"}],children:t.jsx(x,{children:["HH:mm:ss","h:mm:ss a","h:mm a"].map(e=>t.jsx(wr,{value:e,children:e},e))})})]})]}),t.jsx(_.Item,{children:t.jsx(p,{type:"primary",htmlType:"submit",loading:o,children:"Save Localization Settings"})})]})})},"localization"),t.jsx(kr,{tab:t.jsxs("span",{children:[t.jsx(Ot,{})," Backup & Restore"]}),children:t.jsx(c,{children:t.jsxs(_,{form:a,layout:"vertical",initialValues:{automaticBackup:!0,backupTime:Ht("03:00:00","HH:mm:ss"),keepBackups:7,backupLocation:"cloud"},children:[t.jsxs(d,{gutter:24,children:[t.jsxs(h,{span:12,children:[t.jsx(_.Item,{name:"automaticBackup",label:"Automatic Backups",valuePropName:"checked",children:t.jsx(O,{})}),t.jsx(_.Item,{name:"backupTime",label:"Backup Time",children:t.jsx(X,{format:"HH:mm:ss",style:{width:"100%"}})}),t.jsx(_.Item,{name:"keepBackups",label:"Keep Backups (days)",children:t.jsx(B,{min:1,max:365,style:{width:"100%"}})})]}),t.jsxs(h,{span:12,children:[t.jsx(_.Item,{name:"backupLocation",label:"Backup Location",children:t.jsxs(x,{children:[t.jsx(wr,{value:"local",children:"Local Storage"}),t.jsx(wr,{value:"cloud",children:"Cloud Storage"}),t.jsx(wr,{value:"both",children:"Both (Local & Cloud)"})]})}),t.jsx(_.Item,{name:"cloudProvider",label:"Cloud Provider",children:t.jsxs(x,{children:[t.jsx(wr,{value:"s3",children:"Amazon S3"}),t.jsx(wr,{value:"gcs",children:"Google Cloud Storage"}),t.jsx(wr,{value:"azure",children:"Azure Blob Storage"})]})}),t.jsx(_.Item,{name:"compressionLevel",label:"Compression Level",children:t.jsxs(x,{children:[t.jsx(wr,{value:"none",children:"None"}),t.jsx(wr,{value:"low",children:"Low"}),t.jsx(wr,{value:"medium",children:"Medium"}),t.jsx(wr,{value:"high",children:"High"})]})})]})]}),t.jsx(C,{}),t.jsxs(d,{gutter:16,children:[t.jsxs(h,{span:12,children:[t.jsxs(br,{level:5,children:[t.jsx(Bt,{})," Manual Backup"]}),t.jsx(Sr,{type:"secondary",children:"Create an immediate backup of the entire system"}),t.jsx("div",{style:{marginTop:16},children:t.jsx(p,{type:"primary",icon:t.jsx(Bt,{}),loading:v,onClick:()=>{f(!0),setTimeout(()=>{M.success("System backup initiated"),f(!1)},2e3)},children:"Create Backup Now"})})]}),t.jsxs(h,{span:12,children:[t.jsxs(br,{level:5,children:[t.jsx(Ve,{})," Restore System"]}),t.jsx(Sr,{type:"secondary",children:"Restore from a previous backup file"}),t.jsx("div",{style:{marginTop:16},children:t.jsx(V,{children:t.jsx(p,{icon:t.jsx(Ve,{}),children:"Select Backup File"})})})]})]})]})})},"backup"),t.jsx(kr,{tab:t.jsxs("span",{children:[t.jsx(Ge,{})," Email Settings"]}),children:t.jsx(c,{children:t.jsxs(_,{form:s,layout:"vertical",initialValues:{emailProvider:"smtp",smtpHost:"smtp.gmail.com",smtpPort:587,smtpSecure:!0,fromName:"Trường Phát Computer",fromEmail:"noreply@truongphat.com"},children:[t.jsxs(d,{gutter:24,children:[t.jsxs(h,{span:12,children:[t.jsx(_.Item,{name:"emailProvider",label:"Email Provider",children:t.jsxs(x,{children:[t.jsx(wr,{value:"smtp",children:"SMTP"}),t.jsx(wr,{value:"mailgun",children:"Mailgun"}),t.jsx(wr,{value:"sendgrid",children:"SendGrid"}),t.jsx(wr,{value:"ses",children:"Amazon SES"})]})}),t.jsx(_.Item,{name:"smtpHost",label:"SMTP Host",children:t.jsx(P,{})}),t.jsx(_.Item,{name:"smtpPort",label:"SMTP Port",children:t.jsx(B,{style:{width:"100%"}})}),t.jsx(_.Item,{name:"smtpSecure",label:"Use Secure Connection (TLS/SSL)",valuePropName:"checked",children:t.jsx(O,{})})]}),t.jsxs(h,{span:12,children:[t.jsx(_.Item,{name:"smtpUsername",label:"SMTP Username",children:t.jsx(P,{})}),t.jsx(_.Item,{name:"smtpPassword",label:"SMTP Password",children:t.jsx(P.Password,{})}),t.jsx(_.Item,{name:"fromName",label:"From Name",children:t.jsx(P,{})}),t.jsx(_.Item,{name:"fromEmail",label:"From Email",children:t.jsx(P,{})})]})]}),t.jsx(C,{}),t.jsx(d,{children:t.jsx(h,{span:24,children:t.jsxs(m,{children:[t.jsx(p,{type:"primary",htmlType:"submit",children:"Save Email Settings"}),t.jsx(p,{onClick:()=>{y(!0),setTimeout(()=>{M.success("Test email sent successfully"),y(!1)},1500)},loading:g,children:"Send Test Email"})]})})})]})})},"email"),t.jsx(kr,{tab:t.jsxs("span",{children:[t.jsx(Dt,{})," Integrations"]}),children:t.jsx(c,{children:t.jsxs(_,{form:r,layout:"vertical",children:[t.jsxs(d,{gutter:24,children:[t.jsx(h,{span:12,children:t.jsx(j.Ribbon,{text:"Active",color:"green",children:t.jsxs(c,{title:"Payment Gateway Integration",bordered:!1,children:[t.jsx(_.Item,{name:"paymentGateway",label:"Default Payment Gateway",children:t.jsxs(x,{children:[t.jsx(wr,{value:"vnpay",children:"VNPay"}),t.jsx(wr,{value:"momo",children:"MoMo"}),t.jsx(wr,{value:"zalopay",children:"ZaloPay"}),t.jsx(wr,{value:"stripe",children:"Stripe"})]})}),t.jsx(_.Item,{name:"gatewayApiKey",label:"API Key",children:t.jsx(P.Password,{})}),t.jsx(_.Item,{name:"gatewayEnabled",label:"Enable Online Payments",valuePropName:"checked",children:t.jsx(O,{defaultChecked:!0})})]})})}),t.jsx(h,{span:12,children:t.jsxs(c,{title:"SMS Provider Integration",bordered:!1,children:[t.jsx(_.Item,{name:"smsProvider",label:"SMS Provider",children:t.jsxs(x,{children:[t.jsx(wr,{value:"twilio",children:"Twilio"}),t.jsx(wr,{value:"vietguys",children:"Vietguys"}),t.jsx(wr,{value:"esms",children:"ESMS"}),t.jsx(wr,{value:"none",children:"None"})]})}),t.jsx(_.Item,{name:"smsApiKey",label:"API Key",children:t.jsx(P.Password,{})}),t.jsx(_.Item,{name:"smsEnabled",label:"Enable SMS Notifications",valuePropName:"checked",children:t.jsx(O,{})})]})})]}),t.jsxs(d,{gutter:24,style:{marginTop:24},children:[t.jsx(h,{span:12,children:t.jsxs(c,{title:"Accounting Software Integration",bordered:!1,children:[t.jsx(_.Item,{name:"accountingSystem",label:"Accounting System",children:t.jsxs(x,{children:[t.jsx(wr,{value:"misa",children:"MISA"}),t.jsx(wr,{value:"fast",children:"FAST Accounting"}),t.jsx(wr,{value:"3b",children:"3B Accounting"}),t.jsx(wr,{value:"quickbooks",children:"QuickBooks"}),t.jsx(wr,{value:"none",children:"None"})]})}),t.jsx(_.Item,{name:"autoSync",label:"Auto-Synchronize Daily",valuePropName:"checked",children:t.jsx(O,{})})]})}),t.jsx(h,{span:12,children:t.jsxs(c,{title:"E-commerce Integration",bordered:!1,children:[t.jsx(_.Item,{name:"ecommerceIntegration",label:"E-commerce Platform",children:t.jsxs(x,{mode:"multiple",placeholder:"Select platforms",children:[t.jsx(wr,{value:"shopee",children:"Shopee"}),t.jsx(wr,{value:"lazada",children:"Lazada"}),t.jsx(wr,{value:"tiki",children:"Tiki"}),t.jsx(wr,{value:"sendo",children:"Sendo"}),t.jsx(wr,{value:"woocommerce",children:"WooCommerce"})]})}),t.jsx(_.Item,{children:t.jsx(p,{children:"Configure E-commerce Connections"})})]})})]}),t.jsx(d,{style:{marginTop:24},children:t.jsx(h,{span:24,children:t.jsx(p,{type:"primary",htmlType:"submit",children:"Save Integration Settings"})})})]})})},"integrations"),t.jsx(kr,{tab:t.jsxs("span",{children:[t.jsx(yt,{})," Notifications"]}),children:t.jsx(c,{children:t.jsxs(_,{form:l,layout:"vertical",children:[t.jsx(C,{orientation:"left",children:"System Notifications"}),t.jsxs(d,{gutter:24,children:[t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"lowStockNotification",label:"Low Stock Alert",valuePropName:"checked",initialValue:!0,children:t.jsx(O,{})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"lowStockThreshold",label:"Low Stock Threshold",initialValue:5,children:t.jsx(B,{min:1,style:{width:"100%"}})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"lowStockChannels",label:"Notification Channels",initialValue:["email","system"],children:t.jsxs(x,{mode:"multiple",children:[t.jsx(wr,{value:"email",children:"Email"}),t.jsx(wr,{value:"sms",children:"SMS"}),t.jsx(wr,{value:"system",children:"System"})]})})})]}),t.jsxs(d,{gutter:24,children:[t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"orderNotification",label:"New Order Notification",valuePropName:"checked",initialValue:!0,children:t.jsx(O,{})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"orderAmount",label:"Minimum Order Amount",initialValue:0,children:t.jsx(B,{min:0,style:{width:"100%"}})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"orderChannels",label:"Notification Channels",initialValue:["email","system"],children:t.jsxs(x,{mode:"multiple",children:[t.jsx(wr,{value:"email",children:"Email"}),t.jsx(wr,{value:"sms",children:"SMS"}),t.jsx(wr,{value:"system",children:"System"})]})})})]}),t.jsxs(d,{gutter:24,children:[t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"reportNotification",label:"Daily Reports",valuePropName:"checked",initialValue:!0,children:t.jsx(O,{})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"reportTime",label:"Report Time",initialValue:Ht("22:00:00","HH:mm:ss"),children:t.jsx(X,{format:"HH:mm:ss",style:{width:"100%"}})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"reportChannels",label:"Notification Channels",initialValue:["email"],children:t.jsxs(x,{mode:"multiple",children:[t.jsx(wr,{value:"email",children:"Email"}),t.jsx(wr,{value:"system",children:"System"})]})})})]}),t.jsx(C,{orientation:"left",children:"Customer Notifications"}),t.jsxs(d,{gutter:24,children:[t.jsxs(h,{span:12,children:[t.jsx(_.Item,{name:"welcomeEmail",label:"Welcome Email",valuePropName:"checked",initialValue:!0,children:t.jsx(O,{})}),t.jsx(_.Item,{name:"orderConfirmation",label:"Order Confirmation",valuePropName:"checked",initialValue:!0,children:t.jsx(O,{})}),t.jsx(_.Item,{name:"shippingUpdates",label:"Shipping Updates",valuePropName:"checked",initialValue:!0,children:t.jsx(O,{})})]}),t.jsxs(h,{span:12,children:[t.jsx(_.Item,{name:"loyaltyUpdates",label:"Loyalty Program Updates",valuePropName:"checked",initialValue:!0,children:t.jsx(O,{})}),t.jsx(_.Item,{name:"promotionalEmails",label:"Promotional Emails",valuePropName:"checked",initialValue:!1,children:t.jsx(O,{})}),t.jsx(_.Item,{name:"reviewRequests",label:"Review Requests",valuePropName:"checked",initialValue:!0,children:t.jsx(O,{})})]})]}),t.jsx(d,{style:{marginTop:24},children:t.jsx(h,{span:24,children:t.jsx(p,{type:"primary",htmlType:"submit",children:"Save Notification Settings"})})})]})})},"notifications")]})]})}},Symbol.toStringTag,{value:"Module"})),{Title:Ir,Text:Tr,Paragraph:Pr}=u,{TabPane:Dr}=k,{TextArea:Ar}=P,{DirectoryTree:Mr}=Q,Rr=[{id:1,name:"Administrator",description:"Full system access with all permissions",users:3,permissions:["all"],isSystem:!0,createdAt:"2023-01-15"},{id:2,name:"Manager",description:"Access to manage store operations, reports, and staff",users:5,permissions:["dashboard_view","products_view","products_edit","orders_view","orders_edit","customers_view","customers_edit","reports_view","staff_view","staff_edit"],isSystem:!0,createdAt:"2023-01-15"},{id:3,name:"Cashier",description:"POS access for processing sales and managing basic customer data",users:12,permissions:["pos_access","orders_view","orders_create","customers_view","customers_create"],isSystem:!0,createdAt:"2023-01-15"},{id:4,name:"Inventory Specialist",description:"Manage product inventory and stock levels",users:4,permissions:["products_view","products_edit","inventory_view","inventory_edit","reports_view"],isSystem:!1,createdAt:"2023-03-22"},{id:5,name:"Marketing Specialist",description:"Manage marketing campaigns and customer communications",users:2,permissions:["dashboard_view","customers_view","marketing_view","marketing_edit","reports_view"],isSystem:!1,createdAt:"2023-05-10"},{id:6,name:"Accountant",description:"Access to financial reports and transactions",users:1,permissions:["dashboard_view","orders_view","reports_view","finances_view","finances_edit"],isSystem:!1,createdAt:"2023-06-18"}],_r=[{id:1,name:"Nguyen Van A",email:"admin@truongphat.com",role:"Administrator",status:"active",lastLogin:"2023-10-07 09:45",createdAt:"2023-01-15"},{id:2,name:"Tran Thi B",email:"manager@truongphat.com",role:"Manager",status:"active",lastLogin:"2023-10-06 17:30",createdAt:"2023-01-15"},{id:3,name:"Le Van C",email:"cashier1@truongphat.com",role:"Cashier",status:"active",lastLogin:"2023-10-07 14:22",createdAt:"2023-01-20"},{id:4,name:"Pham Thi D",email:"cashier2@truongphat.com",role:"Cashier",status:"active",lastLogin:"2023-10-07 13:15",createdAt:"2023-02-05"},{id:5,name:"Hoang Van E",email:"inventory@truongphat.com",role:"Inventory Specialist",status:"active",lastLogin:"2023-10-05 11:30",createdAt:"2023-03-22"},{id:6,name:"Vu Thi F",email:"marketing@truongphat.com",role:"Marketing Specialist",status:"inactive",lastLogin:"2023-09-28 14:45",createdAt:"2023-05-10"},{id:7,name:"Dao Van G",email:"accountant@truongphat.com",role:"Accountant",status:"active",lastLogin:"2023-10-06 09:20",createdAt:"2023-06-18"}],Nr=[{title:"Dashboard",key:"dashboard",children:[{title:"View Dashboard",key:"dashboard_view"},{title:"Edit Dashboard Widgets",key:"dashboard_edit"}]},{title:"Products",key:"products",children:[{title:"View Products",key:"products_view"},{title:"Create Products",key:"products_create"},{title:"Edit Products",key:"products_edit"},{title:"Delete Products",key:"products_delete"},{title:"Manage Categories",key:"categories_manage"},{title:"Manage Product Attributes",key:"attributes_manage"}]},{title:"Inventory",key:"inventory",children:[{title:"View Inventory",key:"inventory_view"},{title:"Edit Inventory",key:"inventory_edit"},{title:"Manage Stock Transfers",key:"inventory_transfer"},{title:"Manage Suppliers",key:"suppliers_manage"},{title:"Manage Purchase Orders",key:"purchase_orders_manage"}]},{title:"Orders",key:"orders",children:[{title:"View Orders",key:"orders_view"},{title:"Create Orders",key:"orders_create"},{title:"Edit Orders",key:"orders_edit"},{title:"Delete Orders",key:"orders_delete"},{title:"Process Refunds",key:"orders_refund"},{title:"Manage Shipping",key:"shipping_manage"}]},{title:"Customers",key:"customers",children:[{title:"View Customers",key:"customers_view"},{title:"Create Customers",key:"customers_create"},{title:"Edit Customers",key:"customers_edit"},{title:"Delete Customers",key:"customers_delete"},{title:"Manage Customer Groups",key:"customer_groups_manage"},{title:"Manage Loyalty Programs",key:"loyalty_manage"}]},{title:"Staff",key:"staff",children:[{title:"View Staff",key:"staff_view"},{title:"Create Staff",key:"staff_create"},{title:"Edit Staff",key:"staff_edit"},{title:"Delete Staff",key:"staff_delete"},{title:"Manage Commissions",key:"commissions_manage"},{title:"Manage Shifts",key:"shifts_manage"}]},{title:"Reports",key:"reports",children:[{title:"View Reports",key:"reports_view"},{title:"Export Reports",key:"reports_export"},{title:"View Financial Reports",key:"finances_view"},{title:"Edit Financial Data",key:"finances_edit"}]},{title:"Marketing",key:"marketing",children:[{title:"View Marketing",key:"marketing_view"},{title:"Edit Marketing",key:"marketing_edit"},{title:"Manage Promotions",key:"promotions_manage"},{title:"Manage Email Campaigns",key:"email_campaigns_manage"}]},{title:"POS",key:"pos",children:[{title:"Access POS",key:"pos_access"},{title:"Apply Discounts",key:"pos_discounts"},{title:"Void Transactions",key:"pos_void"},{title:"Open Cash Drawer",key:"pos_cash_drawer"}]},{title:"Settings",key:"settings",children:[{title:"View Settings",key:"settings_view"},{title:"Edit Settings",key:"settings_edit"},{title:"Manage User Roles",key:"roles_manage"},{title:"Manage Integrations",key:"integrations_manage"},{title:"Access System Logs",key:"logs_access"}]}],Fr=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n,s]=e.useState("roles"),[a,i]=e.useState(!1),[r,l]=e.useState(!1),[o,u]=e.useState(!1),[x,f]=e.useState(null),[b,S]=e.useState(null),[I]=_.useForm(),[T]=_.useForm(),[D,N]=e.useState([]),[F,B]=e.useState(["dashboard","products"]),V=(e=null)=>{f(e),e?(I.setFieldsValue({name:e.name,description:e.description}),N(e.permissions)):(I.resetFields(),N([])),i(!0)},E=(e=null)=>{S(e),e?T.setFieldsValue({name:e.name,email:e.email,role:e.role,status:"active"===e.status}):T.resetFields(),l(!0)},L=e=>{f(e),u(!0)},z=[{title:"Role Name",dataIndex:"name",key:"name",render:(e,n)=>t.jsxs(m,{children:[t.jsx(Tr,{strong:!0,children:e}),n.isSystem&&t.jsx(v,{color:"blue",children:"System"})]})},{title:"Description",dataIndex:"description",key:"description"},{title:"Users",dataIndex:"users",key:"users",sorter:(e,t)=>e.users-t.users},{title:"Created",dataIndex:"createdAt",key:"createdAt"},{title:"Actions",key:"actions",render:(e,n)=>t.jsxs(m,{children:[t.jsx(p,{icon:t.jsx(ne,{}),onClick:()=>L(n),children:"Permissions"}),t.jsx(p,{icon:t.jsx(_e,{}),onClick:()=>V(n),children:"Edit"}),t.jsx(q,{title:"Are you sure you want to delete this role?",onConfirm:()=>{var e;(e=n).isSystem?M.error("System roles cannot be deleted"):M.success(`Role ${e.name} deleted successfully`)},okText:"Yes",cancelText:"No",disabled:n.isSystem,children:t.jsx(p,{danger:!0,icon:t.jsx(Te,{}),disabled:n.isSystem,children:"Delete"})})]})}],K=[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Role",dataIndex:"role",key:"role",filters:Rr.map(e=>({text:e.name,value:e.name})),onFilter:(e,t)=>t.role===e},{title:"Status",dataIndex:"status",key:"status",render:e=>"active"===e?t.jsx(j,{status:"success",text:"Active"}):t.jsx(j,{status:"default",text:"Inactive"}),filters:[{text:"Active",value:"active"},{text:"Inactive",value:"inactive"}],onFilter:(e,t)=>t.status===e},{title:"Last Login",dataIndex:"lastLogin",key:"lastLogin"},{title:"Created",dataIndex:"createdAt",key:"createdAt"},{title:"Actions",key:"actions",render:(e,n)=>t.jsxs(m,{children:[t.jsx(p,{icon:t.jsx(_e,{}),onClick:()=>E(n),children:"Edit"}),t.jsx(p,{icon:t.jsx(Rt,{}),onClick:()=>{M.success("Password reset link sent to user")},children:"Reset Password"}),t.jsx(q,{title:"Are you sure you want to delete this user?",onConfirm:()=>{return e=n,void M.success(`User ${e.name} deleted successfully`);var e},okText:"Yes",cancelText:"No",children:t.jsx(p,{danger:!0,icon:t.jsx(Te,{}),children:"Delete"})})]})}];return t.jsxs("div",{style:{padding:"24px"},children:[t.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:t.jsxs(Ir,{level:2,children:[t.jsx(Ct,{})," User Roles & Permissions"]})}),t.jsx(c,{children:t.jsxs(k,{activeKey:n,onChange:s,children:[t.jsxs(Dr,{tab:t.jsxs("span",{children:[t.jsx(xe,{})," Roles"]}),children:[t.jsx("div",{style:{marginBottom:16,display:"flex",justifyContent:"flex-end"},children:t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>V(),children:"Create New Role"})}),t.jsx(y,{columns:z,dataSource:Rr,rowKey:"id",pagination:!1})]},"roles"),t.jsxs(Dr,{tab:t.jsxs("span",{children:[t.jsx(de,{})," Users"]}),children:[t.jsx("div",{style:{marginBottom:16,display:"flex",justifyContent:"flex-end"},children:t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>E(),children:"Create New User"})}),t.jsx(y,{columns:K,dataSource:_r,rowKey:"id",pagination:!1})]},"users"),t.jsx(Dr,{tab:t.jsxs("span",{children:[t.jsx(rt,{})," Permission Settings"]}),children:t.jsx(d,{gutter:24,children:t.jsxs(h,{span:24,children:[t.jsx(w,{message:"Permission Management",description:"Configure default permissions for system roles and manage permission inheritance rules.",type:"info",showIcon:!0,style:{marginBottom:24}}),t.jsx(c,{title:"System Roles",style:{marginBottom:24},children:t.jsx(g,{itemLayout:"horizontal",dataSource:Rr.filter(e=>e.isSystem),renderItem:e=>t.jsx(g.Item,{actions:[t.jsx(p,{onClick:()=>L(e),children:"View Permissions"},"view"),t.jsx(p,{onClick:()=>V(e),children:"Edit"},"edit")],children:t.jsx(g.Item.Meta,{avatar:t.jsx(R,{icon:t.jsx(de,{})}),title:e.name,description:e.description})})})}),t.jsx(c,{title:"Permission Inheritance",children:t.jsxs(_,{layout:"vertical",children:[t.jsx(_.Item,{label:"Enable Permission Inheritance",name:"inheritPermissions",valuePropName:"checked",initialValue:!0,children:t.jsx(O,{})}),t.jsx(_.Item,{label:"Default Role for New Users",name:"defaultRole",initialValue:"Cashier",children:t.jsx(Select,{children:Rr.map(e=>t.jsx(Select.Option,{value:e.name,children:e.name},e.id))})}),t.jsx(_.Item,{label:"Role Hierarchy",name:"roleHierarchy",initialValue:["Administrator","Manager","Cashier"],children:t.jsx(Select,{mode:"multiple",children:Rr.map(e=>t.jsx(Select.Option,{value:e.name,children:e.name},e.id))})}),t.jsx(p,{type:"primary",children:"Save Permission Settings"})]})})]})})},"permissions")]})}),t.jsx(A,{title:x?`Edit Role: ${x.name}`:"Create New Role",visible:a,onCancel:()=>i(!1),onOk:()=>{I.validateFields().then(e=>{const t=x?"updated":"created";M.success(`Role ${e.name} ${t} successfully`),i(!1)}).catch(e=>{})},width:800,children:t.jsxs(_,{form:I,layout:"vertical",children:[t.jsx(_.Item,{name:"name",label:"Role Name",rules:[{required:!0,message:"Please enter a role name"}],children:t.jsx(P,{placeholder:"e.g., Store Manager"})}),t.jsx(_.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please enter a description"}],children:t.jsx(Ar,{placeholder:"Describe the purpose and responsibilities of this role",rows:3})}),t.jsx(C,{children:"Permissions"}),t.jsx(w,{message:"Select Permissions",description:"Choose the permissions that users with this role will have. You can select individual permissions or entire categories.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsx(Mr,{checkable:!0,onCheck:e=>{N(e)},checkedKeys:D,treeData:Nr,expandedKeys:F,onExpand:B,defaultExpandAll:!0,height:400,style:{overflowY:"auto"}}),t.jsx("div",{style:{marginTop:16},children:t.jsxs(m,{children:[t.jsx(p,{onClick:()=>N(["all"]),children:"Select All"}),t.jsx(p,{onClick:()=>N([]),children:"Clear All"})]})})]})}),t.jsx(A,{title:b?`Edit User: ${b.name}`:"Create New User",visible:r,onCancel:()=>l(!1),onOk:()=>{T.validateFields().then(e=>{const t=b?"updated":"created";M.success(`User ${e.name} ${t} successfully`),l(!1)}).catch(e=>{})},children:t.jsxs(_,{form:T,layout:"vertical",children:[t.jsx(_.Item,{name:"name",label:"Full Name",rules:[{required:!0,message:"Please enter the user's name"}],children:t.jsx(P,{placeholder:"e.g., Nguyen Van A"})}),t.jsx(_.Item,{name:"email",label:"Email Address",rules:[{required:!0,message:"Please enter an email address"},{type:"email",message:"Please enter a valid email address"}],children:t.jsx(P,{placeholder:"e.g., user@example.com"})}),t.jsx(_.Item,{name:"role",label:"Role",rules:[{required:!0,message:"Please select a role"}],children:t.jsx(Select,{placeholder:"Select a role",children:Rr.map(e=>t.jsx(Select.Option,{value:e.name,children:e.name},e.id))})}),!b&&t.jsx(_.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please enter a password"}],children:t.jsx(P.Password,{placeholder:"Enter password"})}),t.jsx(_.Item,{name:"status",label:"Status",valuePropName:"checked",initialValue:!0,children:t.jsx(O,{checkedChildren:"Active",unCheckedChildren:"Inactive"})})]})}),t.jsx(A,{title:`Permissions: ${x?.name}`,visible:o,onCancel:()=>u(!1),footer:[t.jsx(p,{onClick:()=>u(!1),children:"Close"},"close"),t.jsx(p,{type:"primary",onClick:()=>{u(!1),V(x)},children:"Edit Permissions"},"edit")],width:800,children:x&&t.jsxs(t.Fragment,{children:[t.jsx(Pr,{children:x.description}),x.permissions.includes("all")?t.jsx(w,{message:"Full System Access",description:"This role has all permissions enabled and can access all features of the system.",type:"success",showIcon:!0,style:{marginBottom:16}}):t.jsxs("div",{children:[t.jsx(Ir,{level:5,children:"Granted Permissions:"}),t.jsx(g,{grid:{gutter:16,column:2},dataSource:Nr,renderItem:e=>{const n=e.children.filter(e=>x.permissions.includes(e.key));return 0===n.length?null:t.jsx(g.Item,{children:t.jsx(c,{title:t.jsxs(m,{children:[(s=e.key,{dashboard:t.jsx(J,{}),products:t.jsx(tt,{}),inventory:t.jsx(Vt,{}),orders:t.jsx(we,{}),customers:t.jsx(de,{}),staff:t.jsx(xe,{}),reports:t.jsx(We,{}),marketing:t.jsx(NotificationOutlined,{}),pos:t.jsx(ShoppingCartOutlined,{}),settings:t.jsx(he,{})}[s]||t.jsx(et,{})),e.title]}),size:"small",children:t.jsx(g,{size:"small",dataSource:n,renderItem:e=>t.jsxs(g.Item,{children:[t.jsx(ee,{style:{color:"#52c41a",marginRight:8}}),e.title]})})})});var s}})]})]})})]})}},Symbol.toStringTag,{value:"Module"})),{Title:Br,Text:Or}=u,{TabPane:Vr}=k,Er=()=>{const[n,s]=e.useState(null),[a,i]=e.useState([]),[r,l]=e.useState(!1),[o]=_.useForm();e.useEffect(()=>{u();const e=setInterval(u,3e4);return()=>clearInterval(e)},[]);const u=()=>{const e=hn.getSecurityReport();s(e),i(e.lastEvents||[])},m=e=>({failed_login:"red",successful_login:"green",session_expired:"orange",suspicious_activity:"red",security_alert:"red",page_hidden:"blue",page_visible:"blue",input_sanitized:"yellow"}[e]||"default"),x=e=>({failed_login:t.jsx(ae,{}),successful_login:t.jsx(de,{}),session_expired:t.jsx(ge,{}),suspicious_activity:t.jsx(Nt,{}),security_alert:t.jsx(ae,{}),page_hidden:t.jsx(ne,{}),page_visible:t.jsx(ne,{}),input_sanitized:t.jsx(Ct,{})}[e]||t.jsx(Et,{})),f=[{title:"Thời gian",dataIndex:"timestamp",key:"timestamp",render:e=>new Date(e).toLocaleString("vi-VN"),width:150},{title:"Loại sự kiện",dataIndex:"type",key:"type",render:e=>t.jsx(v,{color:m(e),icon:x(e),children:e.replace(/_/g," ").toUpperCase()}),width:200},{title:"Chi tiết",dataIndex:"data",key:"data",render:e=>t.jsx(Or,{code:!0,style:{fontSize:12},children:JSON.stringify(e,null,2)})},{title:"URL",dataIndex:"url",key:"url",render:e=>t.jsx(S,{title:e,children:t.jsx(Or,{ellipsis:!0,style:{maxWidth:200},children:e})}),width:200}];return n?t.jsxs("div",{style:{padding:24},children:[t.jsx(d,{gutter:[16,16],style:{marginBottom:24},children:t.jsx(h,{span:24,children:t.jsxs(Br,{level:2,children:[t.jsx(Ct,{})," Bảng điều khiển bảo mật"]})})}),t.jsxs(d,{gutter:[16,16],style:{marginBottom:24},children:[t.jsx(h,{span:6,children:t.jsx(c,{children:t.jsx(b,{title:"Phiên đăng nhập",value:n.activeSessions,prefix:t.jsx(de,{}),valueStyle:{color:"#3f8600"}})})}),t.jsx(h,{span:6,children:t.jsx(c,{children:t.jsx(b,{title:"Lần thử đăng nhập",value:n.loginAttempts,prefix:t.jsx(rt,{}),valueStyle:{color:n.loginAttempts>0?"#cf1322":"#3f8600"}})})}),t.jsx(h,{span:6,children:t.jsx(c,{children:t.jsx(b,{title:"Sự kiện bảo mật",value:n.securityEvents,prefix:t.jsx(Nt,{}),valueStyle:{color:"#1890ff"}})})}),t.jsx(h,{span:6,children:t.jsx(c,{children:t.jsx(b,{title:"Thời gian phiên",value:Math.round(n.securityConfig.sessionTimeout/6e4),suffix:"phút",prefix:t.jsx(ge,{}),valueStyle:{color:"#722ed1"}})})})]}),n.loginAttempts>0&&t.jsx(d,{style:{marginBottom:24},children:t.jsx(h,{span:24,children:t.jsx(w,{message:"Cảnh báo bảo mật",description:`Phát hiện ${n.loginAttempts} lần thử đăng nhập thất bại. Vui lòng kiểm tra hoạt động đăng nhập.`,type:"warning",showIcon:!0,action:t.jsx(p,{size:"small",type:"primary",children:"Xem chi tiết"})})})}),t.jsxs(k,{defaultActiveKey:"events",children:[t.jsx(Vr,{tab:"Sự kiện bảo mật",children:t.jsx(c,{title:"Nhật ký sự kiện bảo mật",extra:t.jsx(p,{type:"primary",icon:t.jsx(he,{}),onClick:()=>l(!0),children:"Cấu hình"}),children:t.jsx(y,{columns:f,dataSource:a,rowKey:e=>`${e.timestamp}-${e.type}`,pagination:{pageSize:10},size:"small"})})},"events"),t.jsx(Vr,{tab:"Cấu hình bảo mật",children:t.jsxs(d,{gutter:[16,16],children:[t.jsx(h,{span:12,children:t.jsx(c,{title:"Cấu hình mật khẩu",size:"small",children:t.jsxs(K,{column:1,size:"small",children:[t.jsxs(K.Item,{label:"Độ dài tối thiểu",children:[n.securityConfig.passwordRequirements.minLength," ký tự"]}),t.jsx(K.Item,{label:"Yêu cầu chữ hoa",children:t.jsx(j,{status:n.securityConfig.passwordRequirements.requireUppercase?"success":"error",text:n.securityConfig.passwordRequirements.requireUppercase?"Có":"Không"})}),t.jsx(K.Item,{label:"Yêu cầu chữ thường",children:t.jsx(j,{status:n.securityConfig.passwordRequirements.requireLowercase?"success":"error",text:n.securityConfig.passwordRequirements.requireLowercase?"Có":"Không"})}),t.jsx(K.Item,{label:"Yêu cầu số",children:t.jsx(j,{status:n.securityConfig.passwordRequirements.requireNumbers?"success":"error",text:n.securityConfig.passwordRequirements.requireNumbers?"Có":"Không"})}),t.jsx(K.Item,{label:"Yêu cầu ký tự đặc biệt",children:t.jsx(j,{status:n.securityConfig.passwordRequirements.requireSpecial?"success":"error",text:n.securityConfig.passwordRequirements.requireSpecial?"Có":"Không"})})]})})}),t.jsx(h,{span:12,children:t.jsx(c,{title:"Cấu hình phiên làm việc",size:"small",children:t.jsxs(K,{column:1,size:"small",children:[t.jsxs(K.Item,{label:"Thời gian phiên",children:[Math.round(n.securityConfig.sessionTimeout/6e4)," phút"]}),t.jsxs(K.Item,{label:"Số lần thử tối đa",children:[n.securityConfig.maxLoginAttempts," lần"]}),t.jsxs(K.Item,{label:"Phiên hoạt động",children:[n.activeSessions," phiên"]})]})})})]})},"config"),t.jsx(Vr,{tab:"Kiểm tra bảo mật",children:t.jsx(c,{title:"Kiểm tra bảo mật hệ thống",children:t.jsx(g,{dataSource:[{title:"Mã hóa dữ liệu",description:"Dữ liệu nhạy cảm được mã hóa AES-256",status:"success"},{title:"HTTPS",description:"Kết nối được bảo mật bằng HTTPS",status:"https:"===window.location.protocol?"success":"error"},{title:"Xác thực hai yếu tố",description:"Hỗ trợ xác thực hai yếu tố cho tài khoản quan trọng",status:"warning"},{title:"Giám sát phiên",description:"Theo dõi và quản lý phiên đăng nhập",status:"success"},{title:"Kiểm soát truy cập",description:"Phân quyền dựa trên vai trò người dùng",status:"success"}],renderItem:e=>t.jsx(g.Item,{children:t.jsx(g.Item.Meta,{avatar:t.jsx(j,{status:e.status,style:{marginTop:4}}),title:e.title,description:e.description})})})})},"audit")]}),t.jsx(A,{title:"Cấu hình bảo mật",open:r,onCancel:()=>l(!1),onOk:()=>o.submit(),width:600,children:t.jsxs(_,{form:o,layout:"vertical",onFinish:e=>{M.success("Cấu hình bảo mật đã được cập nhật"),l(!1)},initialValues:{sessionTimeout:Math.round(n.securityConfig.sessionTimeout/6e4),maxLoginAttempts:n.securityConfig.maxLoginAttempts,passwordMinLength:n.securityConfig.passwordRequirements.minLength,requireUppercase:n.securityConfig.passwordRequirements.requireUppercase,requireLowercase:n.securityConfig.passwordRequirements.requireLowercase,requireNumbers:n.securityConfig.passwordRequirements.requireNumbers,requireSpecial:n.securityConfig.passwordRequirements.requireSpecial},children:[t.jsx(Br,{level:4,children:"Cấu hình phiên làm việc"}),t.jsx(_.Item,{name:"sessionTimeout",label:"Thời gian phiên (phút)",rules:[{required:!0,message:"Vui lòng nhập thời gian phiên"}],children:t.jsx(B,{min:5,max:480,style:{width:"100%"}})}),t.jsx(_.Item,{name:"maxLoginAttempts",label:"Số lần thử đăng nhập tối đa",rules:[{required:!0,message:"Vui lòng nhập số lần thử tối đa"}],children:t.jsx(B,{min:3,max:10,style:{width:"100%"}})}),t.jsx(Br,{level:4,children:"Yêu cầu mật khẩu"}),t.jsx(_.Item,{name:"passwordMinLength",label:"Độ dài tối thiểu",rules:[{required:!0,message:"Vui lòng nhập độ dài tối thiểu"}],children:t.jsx(B,{min:6,max:20,style:{width:"100%"}})}),t.jsxs(_.Item,{name:"requireUppercase",valuePropName:"checked",children:[t.jsx(O,{})," Yêu cầu chữ hoa"]}),t.jsxs(_.Item,{name:"requireLowercase",valuePropName:"checked",children:[t.jsx(O,{})," Yêu cầu chữ thường"]}),t.jsxs(_.Item,{name:"requireNumbers",valuePropName:"checked",children:[t.jsx(O,{})," Yêu cầu số"]}),t.jsxs(_.Item,{name:"requireSpecial",valuePropName:"checked",children:[t.jsx(O,{})," Yêu cầu ký tự đặc biệt"]})]})})]}):t.jsx("div",{children:"Đang tải dữ liệu bảo mật..."})},Lr=Object.freeze(Object.defineProperty({__proto__:null,default:()=>t.jsx(Er,{})},Symbol.toStringTag,{value:"Module"})),{Title:zr,Text:qr,Paragraph:Kr}=u,{TextArea:$r}=P,{TabPane:Hr}=k,{Option:Yr}=x,Gr=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[n]=_.useForm(),[s,a]=e.useState("/logo.png"),[i,r]=e.useState("basic"),[l,o]=e.useState([{day:"Monday",open:!0,openTime:"08:00",closeTime:"17:30"},{day:"Tuesday",open:!0,openTime:"08:00",closeTime:"17:30"},{day:"Wednesday",open:!0,openTime:"08:00",closeTime:"17:30"},{day:"Thursday",open:!0,openTime:"08:00",closeTime:"17:30"},{day:"Friday",open:!0,openTime:"08:00",closeTime:"17:30"},{day:"Saturday",open:!0,openTime:"08:00",closeTime:"12:00"},{day:"Sunday",open:!1,openTime:"00:00",closeTime:"00:00"}]),[u,g]=e.useState([{id:1,name:"Main Store",address:"123 Lê Lợi, Phường Phong Phú, Thành phố Hòa Bình, Hòa Bình",phone:"0836.768.597",email:"main@truongphat.com",isHeadquarters:!0},{id:2,name:"Branch Store",address:"456 Trần Hưng Đạo, Phường Tân Thịnh, Thành phố Hòa Bình, Hòa Bình",phone:"0836.768.598",email:"branch@truongphat.com",isHeadquarters:!1}]),j=(e,t,n)=>{const s=[...l];s[e][t]=n,o(s)};return t.jsx("div",{style:{padding:"24px"},children:t.jsxs(c,{children:[t.jsxs(zr,{level:2,children:[t.jsx(tt,{})," Company Profile"]}),t.jsx(Kr,{children:"Manage your company information, business details, and locations."}),t.jsxs(k,{activeKey:i,onChange:r,children:[t.jsx(Hr,{tab:t.jsxs("span",{children:[t.jsx(be,{})," Basic Information"]}),children:t.jsxs(_,{form:n,layout:"vertical",initialValues:{companyName:"Trường Phát Computer",legalName:"Công ty TNHH Trường Phát Computer",industry:"retail",taxId:"0123456789",phone:"0836.768.597",email:"contact@truongphat.com",website:"www.truongphat.com",address:"123 Lê Lợi, Phường Phong Phú",city:"Thành phố Hòa Bình",state:"Hòa Bình",postalCode:"36000",country:"Vietnam",currency:"VND",language:"vi",timeZone:"Asia/Ho_Chi_Minh",dateFormat:"DD/MM/YYYY",fiscalYearStart:"01/01"},children:[t.jsxs(d,{gutter:24,children:[t.jsx(h,{span:8,style:{textAlign:"center"},children:t.jsxs(_.Item,{label:"Company Logo",children:[t.jsx("div",{style:{marginBottom:"16px"},children:t.jsx(R,{src:s,size:128,shape:"square"})}),t.jsx(V,{onChange:e=>{"done"===e.file.status?(a(URL.createObjectURL(e.file.originFileObj)),M.success(`${e.file.name} uploaded successfully`)):"error"===e.file.status&&M.error(`${e.file.name} upload failed.`)},showUploadList:!1,customRequest:({onSuccess:e})=>{setTimeout(()=>{e("ok",null)},0)},children:t.jsx(p,{icon:t.jsx(Ve,{}),children:"Change Logo"})})]})}),t.jsxs(h,{span:16,children:[t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"companyName",label:"Company Name",rules:[{required:!0,message:"Please enter company name"}],children:t.jsx(P,{prefix:t.jsx(tt,{}),placeholder:"Company Name"})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"legalName",label:"Legal Business Name",rules:[{required:!0,message:"Please enter legal business name"}],children:t.jsx(P,{prefix:t.jsx(Tt,{}),placeholder:"Legal Business Name"})})})]}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"industry",label:"Industry",children:t.jsxs(x,{children:[t.jsx(Yr,{value:"retail",children:"Retail"}),t.jsx(Yr,{value:"wholesale",children:"Wholesale"}),t.jsx(Yr,{value:"manufacturing",children:"Manufacturing"}),t.jsx(Yr,{value:"services",children:"Services"}),t.jsx(Yr,{value:"technology",children:"Technology"})]})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"taxId",label:"Tax ID / Business Registration Number",children:t.jsx(P,{prefix:t.jsx(lt,{}),placeholder:"Tax ID"})})})]}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"phone",label:"Phone Number",rules:[{required:!0,message:"Please enter phone number"}],children:t.jsx(P,{prefix:t.jsx(it,{}),placeholder:"Phone Number"})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"email",label:"Email Address",rules:[{required:!0,message:"Please enter email address"},{type:"email",message:"Please enter a valid email"}],children:t.jsx(P,{prefix:t.jsx(Ge,{}),placeholder:"Email Address"})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"website",label:"Website",children:t.jsx(P,{prefix:t.jsx(nt,{}),placeholder:"Website"})})})]})]})]}),t.jsx(C,{children:"Address Information"}),t.jsx(d,{gutter:16,children:t.jsx(h,{span:24,children:t.jsx(_.Item,{name:"address",label:"Street Address",rules:[{required:!0,message:"Please enter street address"}],children:t.jsx(P,{prefix:t.jsx(dt,{}),placeholder:"Street Address"})})})}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"city",label:"City",rules:[{required:!0,message:"Please enter city"}],children:t.jsx(P,{placeholder:"City"})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"state",label:"State/Province",rules:[{required:!0,message:"Please enter state/province"}],children:t.jsx(P,{placeholder:"State/Province"})})}),t.jsx(h,{span:4,children:t.jsx(_.Item,{name:"postalCode",label:"Postal Code",children:t.jsx(P,{placeholder:"Postal Code"})})}),t.jsx(h,{span:4,children:t.jsx(_.Item,{name:"country",label:"Country",rules:[{required:!0,message:"Please select country"}],children:t.jsxs(x,{children:[t.jsx(Yr,{value:"Vietnam",children:"Vietnam"}),t.jsx(Yr,{value:"United States",children:"United States"}),t.jsx(Yr,{value:"China",children:"China"}),t.jsx(Yr,{value:"Japan",children:"Japan"}),t.jsx(Yr,{value:"South Korea",children:"South Korea"})]})})})]}),t.jsx(C,{children:"System Settings"}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:6,children:t.jsx(_.Item,{name:"currency",label:"Default Currency",rules:[{required:!0,message:"Please select currency"}],children:t.jsxs(x,{children:[t.jsx(Yr,{value:"VND",children:"VND (₫)"}),t.jsx(Yr,{value:"USD",children:"USD ($)"}),t.jsx(Yr,{value:"EUR",children:"EUR (€)"}),t.jsx(Yr,{value:"JPY",children:"JPY (¥)"})]})})}),t.jsx(h,{span:6,children:t.jsx(_.Item,{name:"language",label:"Default Language",rules:[{required:!0,message:"Please select language"}],children:t.jsxs(x,{children:[t.jsx(Yr,{value:"vi",children:"Vietnamese"}),t.jsx(Yr,{value:"en",children:"English"}),t.jsx(Yr,{value:"zh",children:"Chinese"}),t.jsx(Yr,{value:"ja",children:"Japanese"}),t.jsx(Yr,{value:"ko",children:"Korean"})]})})}),t.jsx(h,{span:6,children:t.jsx(_.Item,{name:"timeZone",label:"Time Zone",rules:[{required:!0,message:"Please select time zone"}],children:t.jsxs(x,{children:[t.jsx(Yr,{value:"Asia/Ho_Chi_Minh",children:"Asia/Ho Chi Minh (GMT+7)"}),t.jsx(Yr,{value:"Asia/Bangkok",children:"Asia/Bangkok (GMT+7)"}),t.jsx(Yr,{value:"Asia/Singapore",children:"Asia/Singapore (GMT+8)"}),t.jsx(Yr,{value:"Asia/Tokyo",children:"Asia/Tokyo (GMT+9)"})]})})}),t.jsx(h,{span:6,children:t.jsx(_.Item,{name:"dateFormat",label:"Date Format",rules:[{required:!0,message:"Please select date format"}],children:t.jsxs(x,{children:[t.jsx(Yr,{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),t.jsx(Yr,{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),t.jsx(Yr,{value:"YYYY-MM-DD",children:"YYYY-MM-DD"}),t.jsx(Yr,{value:"YYYY/MM/DD",children:"YYYY/MM/DD"})]})})})]}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:6,children:t.jsx(_.Item,{name:"fiscalYearStart",label:"Fiscal Year Start",tooltip:"Format: DD/MM",children:t.jsx(P,{placeholder:"01/01"})})}),t.jsx(h,{span:6,children:t.jsx(_.Item,{name:"numberFormat",label:"Number Format",initialValue:"1,234.56",children:t.jsxs(x,{children:[t.jsx(Yr,{value:"1,234.56",children:"1,234.56"}),t.jsx(Yr,{value:"1.234,56",children:"1.234,56"}),t.jsx(Yr,{value:"1 234,56",children:"1 234,56"})]})})})]})]})},"basic"),t.jsx(Hr,{tab:t.jsxs("span",{children:[t.jsx(ge,{})," Business Hours"]}),children:t.jsxs(c,{title:"Set Your Business Hours",children:[t.jsx("div",{style:{marginBottom:16},children:t.jsx(qr,{children:"Define when your business is open to customers. This information will be displayed on receipts and customer-facing interfaces."})}),l.map((e,n)=>t.jsxs(d,{gutter:16,style:{marginBottom:16},children:[t.jsx(h,{span:4,children:t.jsx(qr,{strong:!0,children:e.day})}),t.jsx(h,{span:4,children:t.jsx(O,{checkedChildren:"Open",unCheckedChildren:"Closed",checked:e.open,onChange:e=>j(n,"open",e)})}),t.jsx(h,{span:8,children:t.jsx(X,{format:"HH:mm",value:Ht(e.openTime,"HH:mm"),onChange:(e,t)=>j(n,"openTime",t),disabled:!e.open,style:{width:"100%"}})}),t.jsx(h,{span:8,children:t.jsx(X,{format:"HH:mm",value:Ht(e.closeTime,"HH:mm"),onChange:(e,t)=>j(n,"closeTime",t),disabled:!e.open,style:{width:"100%"}})})]},e.day)),t.jsx(C,{}),t.jsxs(_,{layout:"vertical",children:[t.jsx(_.Item,{name:"holidayMessage",label:"Holiday Message",initialValue:"We will be closed on national holidays.",children:t.jsx($r,{rows:3,placeholder:"Enter message to display during holidays"})}),t.jsx(_.Item,{name:"specialHours",label:"Special Hours Notice",initialValue:"",children:t.jsx($r,{rows:3,placeholder:"Enter any special hours information (e.g., 'We close early on Dec 24th')"})})]})]})},"hours"),t.jsxs(Hr,{tab:t.jsxs("span",{children:[t.jsx(Lt,{})," Locations"]}),children:[t.jsx("div",{style:{marginBottom:16},children:t.jsx(p,{type:"primary",icon:t.jsx(Ae,{}),onClick:()=>{const e={id:u.length+1,name:`New Location ${u.length+1}`,address:"",phone:"",email:"",isHeadquarters:!1};g([...u,e])},children:"Add New Location"})}),u.map((e,n)=>t.jsx(c,{title:t.jsxs(m,{children:[e.name,e.isHeadquarters&&t.jsx(v,{color:"blue",children:"Headquarters"})]}),style:{marginBottom:16},extra:t.jsx(S,{title:"Delete Location",children:t.jsx(p,{danger:!0,icon:t.jsx(Te,{}),onClick:()=>(e=>{const t=u.filter(t=>t.id!==e);g(t)})(e.id),disabled:e.isHeadquarters})}),children:t.jsxs(_,{layout:"vertical",children:[t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{label:"Location Name",initialValue:e.name,children:t.jsx(P,{placeholder:"Location Name"})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{label:"Is Headquarters",initialValue:e.isHeadquarters,valuePropName:"checked",children:t.jsx(O,{disabled:e.isHeadquarters,checkedChildren:"Yes",unCheckedChildren:"No"})})})]}),t.jsx(d,{gutter:16,children:t.jsx(h,{span:24,children:t.jsx(_.Item,{label:"Address",initialValue:e.address,children:t.jsx($r,{rows:2,placeholder:"Full address"})})})}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{label:"Phone",initialValue:e.phone,children:t.jsx(P,{prefix:t.jsx(it,{}),placeholder:"Phone number"})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{label:"Email",initialValue:e.email,children:t.jsx(P,{prefix:t.jsx(Ge,{}),placeholder:"Email address"})})})]})]})},e.id))]},"locations"),t.jsx(Hr,{tab:t.jsxs("span",{children:[t.jsx(xe,{})," Personnel"]}),children:t.jsxs(_,{layout:"vertical",children:[t.jsxs(d,{gutter:24,children:[t.jsx(h,{span:12,children:t.jsxs(c,{title:"Primary Contacts",style:{marginBottom:24},children:[t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"ownerName",label:"Owner/CEO",initialValue:"Nguyen Van A",children:t.jsx(P,{placeholder:"Full name"})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"ownerEmail",label:"Owner/CEO Email",initialValue:"owner@truongphat.com",children:t.jsx(P,{placeholder:"Email address"})})})]}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"managerName",label:"Store Manager",initialValue:"Tran Thi B",children:t.jsx(P,{placeholder:"Full name"})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"managerEmail",label:"Manager Email",initialValue:"manager@truongphat.com",children:t.jsx(P,{placeholder:"Email address"})})})]}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"accountingName",label:"Accounting Contact",initialValue:"Le Van C",children:t.jsx(P,{placeholder:"Full name"})})}),t.jsx(h,{span:12,children:t.jsx(_.Item,{name:"accountingEmail",label:"Accounting Email",initialValue:"accounting@truongphat.com",children:t.jsx(P,{placeholder:"Email address"})})})]})]})}),t.jsx(h,{span:12,children:t.jsxs(c,{title:"Department Information",style:{marginBottom:24},children:[t.jsx(_.Item,{name:"salesDept",label:"Sales Department",initialValue:"sales@truongphat.com | 0836.768.597 (ext. 1)",children:t.jsx(P,{placeholder:"Contact information"})}),t.jsx(_.Item,{name:"supportDept",label:"Technical Support",initialValue:"support@truongphat.com | 0836.768.597 (ext. 2)",children:t.jsx(P,{placeholder:"Contact information"})}),t.jsx(_.Item,{name:"hrDept",label:"Human Resources",initialValue:"hr@truongphat.com | 0836.768.597 (ext. 3)",children:t.jsx(P,{placeholder:"Contact information"})}),t.jsx(_.Item,{name:"marketingDept",label:"Marketing",initialValue:"marketing@truongphat.com | 0836.768.597 (ext. 4)",children:t.jsx(P,{placeholder:"Contact information"})})]})})]}),t.jsxs(c,{title:"Emergency Contacts",children:[t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"emergencyName1",label:"Primary Emergency Contact",initialValue:"Nguyen Van A",children:t.jsx(P,{placeholder:"Full name"})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"emergencyPhone1",label:"Phone",initialValue:"0912.345.678",children:t.jsx(P,{placeholder:"Phone number"})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"emergencyRelation1",label:"Relationship",initialValue:"Owner",children:t.jsx(P,{placeholder:"Relationship to company"})})})]}),t.jsxs(d,{gutter:16,children:[t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"emergencyName2",label:"Secondary Emergency Contact",initialValue:"Tran Thi B",children:t.jsx(P,{placeholder:"Full name"})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"emergencyPhone2",label:"Phone",initialValue:"0987.654.321",children:t.jsx(P,{placeholder:"Phone number"})})}),t.jsx(h,{span:8,children:t.jsx(_.Item,{name:"emergencyRelation2",label:"Relationship",initialValue:"Manager",children:t.jsx(P,{placeholder:"Relationship to company"})})})]})]})]})},"personnel")]}),t.jsx("div",{style:{marginTop:24,textAlign:"right"},children:t.jsx(p,{type:"primary",icon:t.jsx(Be,{}),onClick:()=>{n.validateFields().then(e=>{M.success("Company profile updated successfully")}).catch(e=>{})},size:"large",children:"Save Company Profile"})})]})})}},Symbol.toStringTag,{value:"Module"}));export{xn as A,$n as B,Us as C,rs as D,Ga as G,Ki as H,as as I,gi as L,Oi as M,ms as O,Tn as P,fn as R,is as S,cr as T,Fr as U,ls as W,Mn as a,Bn as b,Qn as c,vs as d,Cs as e,Bs as f,oa as g,fa as h,Pa as i,Va as j,ni as k,oi as l,Si as m,Ri as n,Zi as o,fr as p,Cr as q,Lr as r,hn as s,Gr as t};
