import{h as t,f as e,g as n,k as o,j as a,e as i}from"./polyfills-B4r5O4me.js";import{c as l}from"./vendor-classnames-Bjqz8XQ3.js";import{l as r,b as u,k as c,o as s}from"./vendor-rc-util-Cfhh6bGy.js";import{r as d}from"./react-vendor-D_ybsntB.js";import{C as v}from"./vendor-rc-motion-CgrNkiVN.js";var m=function(t,e){if(!t)return null;var n={left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth,top:t.offsetTop,bottom:t.parentElement.clientHeight-t.clientHeight-t.offsetTop,height:t.clientHeight};return e?{left:0,right:0,width:0,top:n.top,bottom:n.bottom,height:n.height}:{left:n.left,right:n.right,width:n.width,top:0,bottom:0,height:0}},f=function(t){return void 0!==t?"".concat(t,"px"):void 0};function h(n){var o=n.prefixCls,a=n.containerRef,i=n.value,c=n.getValueIndex,s=n.motionName,h=n.onMotionStart,p=n.onMotionEnd,b=n.direction,g=n.vertical,w=void 0!==g&&g,N=d.useRef(null),x=d.useState(i),y=t(x,2),C=y[0],E=y[1],S=function(t){var e,n=c(t),i=null===(e=a.current)||void 0===e?void 0:e.querySelectorAll(".".concat(o,"-item"))[n];return(null==i?void 0:i.offsetParent)&&i},M=d.useState(null),k=t(M,2),A=k[0],j=k[1],D=d.useState(null),K=t(D,2),R=K[0],V=K[1];r(function(){if(C!==i){var t=S(C),e=S(i),n=m(t,w),o=m(e,w);E(i),j(n),V(o),t&&e?h():p()}},[i]);var I=d.useMemo(function(){var t;return f(w?null!==(t=null==A?void 0:A.top)&&void 0!==t?t:0:"rtl"===b?-(null==A?void 0:A.right):null==A?void 0:A.left)},[w,b,A]),T=d.useMemo(function(){var t;return f(w?null!==(t=null==R?void 0:R.top)&&void 0!==t?t:0:"rtl"===b?-(null==R?void 0:R.right):null==R?void 0:R.left)},[w,b,R]);return A&&R?d.createElement(v,{visible:!0,motionName:s,motionAppear:!0,onAppearStart:function(){return w?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},onAppearActive:function(){return w?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},onVisibleChanged:function(){j(null),V(null),p()}},function(t,n){var a=t.className,i=t.style,r=e(e({},i),{},{"--thumb-start-left":I,"--thumb-start-width":f(null==A?void 0:A.width),"--thumb-active-left":T,"--thumb-active-width":f(null==R?void 0:R.width),"--thumb-start-top":I,"--thumb-start-height":f(null==A?void 0:A.height),"--thumb-active-top":T,"--thumb-active-height":f(null==R?void 0:R.height)}),c={ref:u(N,n),style:r,className:l("".concat(o,"-thumb"),a)};return d.createElement("div",c)}):null}var p=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function b(t){return t.map(function(t){if("object"===i(t)&&null!==t){var n=function(t){return void 0!==t.title?t.title:"object"!==i(t.label)?null===(e=t.label)||void 0===e?void 0:e.toString():void 0;var e}(t);return e(e({},t),{},{title:n})}return{label:null==t?void 0:t.toString(),title:null==t?void 0:t.toString(),value:t}})}var g=function(t){var e=t.prefixCls,n=t.className,o=t.disabled,i=t.checked,r=t.label,u=t.title,c=t.value,s=t.name,v=t.onChange,m=t.onFocus,f=t.onBlur,h=t.onKeyDown,p=t.onKeyUp,b=t.onMouseDown;return d.createElement("label",{className:l(n,a({},"".concat(e,"-item-disabled"),o)),onMouseDown:b},d.createElement("input",{name:s,className:"".concat(e,"-item-input"),type:"radio",disabled:o,checked:i,onChange:function(t){o||v(t,c)},onFocus:m,onBlur:f,onKeyDown:h,onKeyUp:p}),d.createElement("div",{className:"".concat(e,"-item-label"),title:u,"aria-selected":i},r))},w=d.forwardRef(function(e,i){var r,v,m=e.prefixCls,f=void 0===m?"rc-segmented":m,w=e.direction,N=e.vertical,x=e.options,y=void 0===x?[]:x,C=e.disabled,E=e.defaultValue,S=e.value,M=e.name,k=e.onChange,A=e.className,j=void 0===A?"":A,D=e.motionName,K=void 0===D?"thumb-motion":D,R=n(e,p),V=d.useRef(null),I=d.useMemo(function(){return u(V,i)},[V,i]),T=d.useMemo(function(){return b(y)},[y]),U=c(null===(r=T[0])||void 0===r?void 0:r.value,{value:S,defaultValue:E}),B=t(U,2),F=B[0],H=B[1],L=d.useState(!1),W=t(L,2),X=W[0],Y=W[1],q=function(t,e){H(e),null==k||k(e)},G=s(R,["children"]),P=d.useState(!1),z=t(P,2),J=z[0],O=z[1],Q=d.useState(!1),Z=t(Q,2),$=Z[0],_=Z[1],tt=function(){_(!0)},et=function(){_(!1)},nt=function(){O(!1)},ot=function(t){"Tab"===t.key&&O(!0)},at=function(t){var e=T.findIndex(function(t){return t.value===F}),n=T.length,o=T[(e+t+n)%n];o&&(H(o.value),null==k||k(o.value))},it=function(t){switch(t.key){case"ArrowLeft":case"ArrowUp":at(-1);break;case"ArrowRight":case"ArrowDown":at(1)}};return d.createElement("div",o({role:"radiogroup","aria-label":"segmented control",tabIndex:C?void 0:0},G,{className:l(f,(v={},a(v,"".concat(f,"-rtl"),"rtl"===w),a(v,"".concat(f,"-disabled"),C),a(v,"".concat(f,"-vertical"),N),v),j),ref:I}),d.createElement("div",{className:"".concat(f,"-group")},d.createElement(h,{vertical:N,prefixCls:f,value:F,containerRef:V,motionName:"".concat(f,"-").concat(K),direction:w,getValueIndex:function(t){return T.findIndex(function(e){return e.value===t})},onMotionStart:function(){Y(!0)},onMotionEnd:function(){Y(!1)}}),T.map(function(t){var e;return d.createElement(g,o({},t,{name:M,key:t.value,prefixCls:f,className:l(t.className,"".concat(f,"-item"),(e={},a(e,"".concat(f,"-item-selected"),t.value===F&&!X),a(e,"".concat(f,"-item-focused"),$&&J&&t.value===F),e)),checked:t.value===F,onChange:q,onFocus:tt,onBlur:et,onKeyDown:it,onKeyUp:ot,onMouseDown:nt,disabled:!!C||!!t.disabled}))})))});export{w as T};
