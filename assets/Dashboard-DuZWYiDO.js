import{r as e,u as r,j as t}from"./react-vendor-BmR3b86j.js";import{u as o}from"./common-components-BnkJgGUk.js";import{o as i,j as s,l as n,p as a,g as c,q as d}from"./antd-icons-CM8WQBCd.js";import{T as l,R as p,a as m,C as h,e as g,S as u,B as x}from"./antd-core-DmtdYCMe.js";import"./vendor-remix-run-router-UjR1oCxX.js";import"./vendor-prop-types-Dp9apc73.js";import"./vendor-fast-equals-51KNnk-7.js";import"./vendor-dnd-core-B9A4u1lA.js";import"./vendor-redux-DjMjAQeN.js";import"./vendor-react-dnd-invariant-3ejajjRq.js";import"./vendor-react-dnd-asap-CbVDrjlw.js";import"./vendor-react-dnd-shallowequal-DKwLR6sW.js";import"./vendor-fast-deep-equal-SV0NKViY.js";import"./vendor-scheduler-Dmo4AZZp.js";import"./http-ztdpVPaQ.js";import"./i18n-Bumj-RJR.js";import"./vendor-i18next-browser-languagedetector-F0gxWJsw.js";import"./polyfills-BjGv5uaK.js";import"./vendor-classnames-C5kUp1Wf.js";import"./vendor-ant-design-colors-DN3VXH_K.js";import"./vendor-ant-design-fast-color-BI9NtLgU.js";import"./vendor-rc-util-BHji-2jX.js";import"./vendor-ant-design-cssinjs-RSk1WLIv.js";import"./vendor-emotion-hash-DFFAhID7.js";import"./vendor-emotion-unitless-BWzHn38B.js";import"./vendor-stylis-C44NkLFc.js";import"./vendor-ant-design-cssinjs-utils-KNX4yuou.js";import"./vendor-rc-resize-observer-Df-ZO_xb.js";import"./vendor-resize-observer-polyfill-C7U_o75s.js";import"./vendor-rc-motion-CaU78TtA.js";import"./vendor-rc-collapse-X_6nvYAe.js";import"./vendor-rc-component-color-picker-DywpPlcl.js";import"./vendor-rc-overflow-_omzXgx6.js";import"./vendor-rc-picker-oW30Pt-z.js";import"./datetime-nPpyZAU3.js";import"./vendor-rc-component-trigger-Clh6FLZv.js";import"./vendor-rc-component-portal-CGhEkAl8.js";import"./vendor-rc-tabs-BSS5PSMs.js";import"./vendor-rc-dropdown-ClcowrvR.js";import"./vendor-rc-menu-q8B1I2LI.js";import"./vendor-rc-select-yW1KbidU.js";import"./vendor-rc-virtual-list-Cb6ihmEe.js";import"./vendor-rc-segmented-Kz9ef3ZJ.js";import"./vendor-rc-input-number-CrZX1RUJ.js";import"./vendor-rc-component-mini-decimal-Du2PlijH.js";import"./vendor-rc-input-C0NGlOsD.js";import"./vendor-rc-slider-CRXusmLy.js";import"./vendor-rc-drawer-Cf7TOOps.js";import"./vendor-rc-field-form-CaplThNG.js";import"./vendor-rc-component-async-validator-DGV7Fhtr.js";import"./vendor-rc-image-CDEZ_vG2.js";import"./vendor-rc-dialog-De0Vi9S0.js";import"./vendor-rc-notification-Br82O98f.js";import"./vendor-rc-tooltip-DXxpebpT.js";import"./vendor-rc-component-qrcode-oiWrSzyX.js";import"./vendor-rc-rate-Jwj_XLln.js";import"./vendor-rc-steps-CU52MQfw.js";import"./vendor-rc-switch-DjR0DW1P.js";import"./vendor-rc-table--DoxRHF8.js";import"./vendor-rc-component-context-BcojcIzo.js";import"./vendor-rc-tree-B77pEmuR.js";import"./vendor-rc-checkbox-BOIJJXqu.js";import"./vendor-scroll-into-view-if-needed-BuydUqPn.js";import"./vendor-compute-scroll-into-view-Cfyw3hb3.js";import"./vendor-rc-pagination-C87a0Wqf.js";import"./vendor-throttle-debounce-w9OM8Bxz.js";import"./vendor-rc-textarea-DsgvVlkU.js";import"./vendor-copy-to-clipboard-yCUkwk6b.js";import"./vendor-toggle-selection-v3K3UlSB.js";import"./vendor-rc-upload-CBejdnUr.js";import"./vendor-rc-progress-BrSuq5cg.js";const j=new class{constructor(){this.metrics=new Map,this.observers=new Map,this.thresholds={pageLoad:3e3,apiResponse:1e3,renderTime:100,bundleSize:1e6,memoryUsage:5e7},this.initializeMonitoring()}initializeMonitoring(){this.monitorPageLoad(),this.monitorAPIPerformance(),this.monitorRenderPerformance(),this.monitorMemoryUsage(),this.monitorBundleSize(),this.setupPerformanceObserver()}monitorPageLoad(){"undefined"!=typeof window&&"performance"in window&&window.addEventListener("load",()=>{setTimeout(()=>{const e=performance.getEntriesByType("navigation")[0];if(e){const r={domContentLoaded:e.domContentLoadedEventEnd-e.domContentLoadedEventStart,loadComplete:e.loadEventEnd-e.loadEventStart,totalTime:e.loadEventEnd-e.fetchStart,dnsLookup:e.domainLookupEnd-e.domainLookupStart,tcpConnect:e.connectEnd-e.connectStart,serverResponse:e.responseEnd-e.requestStart,domProcessing:e.domComplete-e.domLoading,timestamp:Date.now()};this.recordMetric("pageLoad",r),this.checkThresholds("pageLoad",r.totalTime)}},0)})}monitorAPIPerformance(){if("undefined"!=typeof window&&window.fetch){const e=window.fetch;window.fetch=async(...r)=>{const t=performance.now(),o=r[0];try{const i=await e(...r),s=performance.now()-t;return this.recordMetric("apiResponse",{url:"string"==typeof o?o:o.url,method:r[1]?.method||"GET",status:i.status,duration:s,timestamp:Date.now()}),this.checkThresholds("apiResponse",s),i}catch(i){const e=performance.now()-t;throw this.recordMetric("apiError",{url:"string"==typeof o?o:o.url,method:r[1]?.method||"GET",error:i.message,duration:e,timestamp:Date.now()}),i}}}}monitorRenderPerformance(){this.renderStartTimes=new Map}startRenderTiming(e){this.renderStartTimes.set(e,performance.now())}endRenderTiming(e){const r=this.renderStartTimes.get(e);if(r){const t=performance.now()-r;this.recordMetric("componentRender",{component:e,duration:t,timestamp:Date.now()}),this.checkThresholds("renderTime",t),this.renderStartTimes.delete(e)}}monitorMemoryUsage(){"undefined"!=typeof window&&"performance"in window&&"memory"in performance&&setInterval(()=>{const e=performance.memory,r={usedJSHeapSize:e.usedJSHeapSize,totalJSHeapSize:e.totalJSHeapSize,jsHeapSizeLimit:e.jsHeapSizeLimit,timestamp:Date.now()};this.recordMetric("memoryUsage",r),this.checkThresholds("memoryUsage",e.usedJSHeapSize)},3e4)}monitorBundleSize(){if("undefined"!=typeof window&&"performance"in window){const e=performance.getEntriesByType("resource");let r=0;e.forEach(e=>{(e.name.includes(".js")||e.name.includes(".css"))&&(r+=e.transferSize||0)}),this.recordMetric("bundleSize",{totalSize:r,timestamp:Date.now()}),this.checkThresholds("bundleSize",r)}}setupPerformanceObserver(){if("undefined"!=typeof window&&"PerformanceObserver"in window){try{const e=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{this.recordMetric("longTask",{duration:e.duration,startTime:e.startTime,timestamp:Date.now()})})});e.observe({entryTypes:["longtask"]}),this.observers.set("longTask",e)}catch(e){}try{const e=new PerformanceObserver(e=>{const r=e.getEntries(),t=r[r.length-1];this.recordMetric("lcp",{value:t.startTime,timestamp:Date.now()})});e.observe({entryTypes:["largest-contentful-paint"]}),this.observers.set("lcp",e)}catch(e){}try{const e=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{this.recordMetric("fid",{value:e.processingStart-e.startTime,timestamp:Date.now()})})});e.observe({entryTypes:["first-input"]}),this.observers.set("fid",e)}catch(e){}}}recordMetric(e,r){this.metrics.has(e)||this.metrics.set(e,[]);const t=this.metrics.get(e);t.push(r),t.length>100&&t.shift();try{localStorage.setItem(`perf_${e}`,JSON.stringify(t.slice(-10)))}catch(o){}}checkThresholds(e,r){const t=this.thresholds[e];t&&r>t&&(this.recordMetric("performanceIssue",{type:e,value:r,threshold:t,timestamp:Date.now()}),this.suggestOptimizations(e,r))}suggestOptimizations(e,r){({pageLoad:["Consider code splitting to reduce initial bundle size","Implement lazy loading for non-critical components","Optimize images and use modern formats (WebP, AVIF)","Enable compression (gzip/brotli) on server","Use CDN for static assets"],apiResponse:["Implement request caching","Use pagination for large datasets","Optimize database queries","Consider using GraphQL for efficient data fetching","Implement request debouncing"],renderTime:["Use React.memo for expensive components","Implement virtualization for large lists","Optimize re-renders with useMemo and useCallback","Consider component lazy loading","Profile and optimize expensive calculations"],memoryUsage:["Check for memory leaks in event listeners","Implement proper cleanup in useEffect","Optimize large data structures","Use object pooling for frequently created objects","Consider using Web Workers for heavy computations"],bundleSize:["Implement code splitting","Remove unused dependencies","Use tree shaking","Optimize imports (import only what you need)","Consider using lighter alternatives for heavy libraries"]}[e]||[]).forEach(e=>{})}getMetrics(e=null){if(e)return this.metrics.get(e)||[];const r={};return this.metrics.forEach((e,t)=>{r[t]=e}),r}getPerformanceSummary(){return{pageLoad:this.calculateAverage("pageLoad","totalTime"),apiResponse:this.calculateAverage("apiResponse","duration"),renderTime:this.calculateAverage("componentRender","duration"),memoryUsage:this.getLatestMetric("memoryUsage","usedJSHeapSize"),bundleSize:this.getLatestMetric("bundleSize","totalSize"),issues:this.getMetrics("performanceIssue").length,timestamp:Date.now()}}calculateAverage(e,r){const t=this.getMetrics(e);if(0===t.length)return 0;const o=t.reduce((e,t)=>e+(t[r]||0),0);return Math.round(o/t.length)}getLatestMetric(e,r){const t=this.getMetrics(e);if(0===t.length)return 0;return t[t.length-1][r]||0}clearMetrics(){this.metrics.clear(),Object.keys(localStorage).forEach(e=>{e.startsWith("perf_")&&localStorage.removeItem(e)})}exportMetrics(){const e={metrics:this.getMetrics(),summary:this.getPerformanceSummary(),thresholds:this.thresholds,timestamp:Date.now()};return JSON.stringify(e,null,2)}cleanup(){this.observers.forEach(e=>{e.disconnect()}),this.observers.clear()}},{Title:v,Text:f}=l,b=e.memo(()=>{const l=r(),{user:b}=o();e.useEffect(()=>(j.startRenderTiming("Dashboard"),()=>{j.endRenderTiming("Dashboard")}),[]),e.useEffect(()=>{"admin"===b?.role?l("/admin/dashboard"):"cashier"===b?.role?l("/cashier/pos"):"staff"===b?.role&&l("/staff/dashboard")},[b,l]);const y=e.useMemo(()=>[{title:"Doanh thu hôm nay",value:1542e4,prefix:t.jsx(i,{}),suffix:"VND",color:"#52c41a"},{title:"Đơn hàng",value:234,prefix:t.jsx(s,{}),color:"#1890ff"},{title:"Khách hàng",value:1234,prefix:t.jsx(n,{}),color:"#722ed1"},{title:"Nhân viên",value:12,prefix:t.jsx(a,{}),color:"#fa8c16"}],[]);e.useCallback(()=>{l("/admin/dashboard")},[l]);const w=e.useCallback(()=>{l("/cashier/pos")},[l]);return e.useCallback(()=>{l("/staff/dashboard")},[l]),e.useCallback(()=>{l("/customer/profile")},[l]),t.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1677ff 0%, #0958d9 100%)",padding:"40px 20px"},children:t.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[t.jsx(v,{level:1,style:{color:"white",marginBottom:"16px"},children:"🖥️ Trường Phát Computer Hòa Bình"}),t.jsx(f,{style:{color:"rgba(255,255,255,0.8)",fontSize:"18px"},children:"Hệ thống quản lý bán hàng và kho hàng chuyên nghiệp"})]}),t.jsx(p,{gutter:[24,24],style:{marginBottom:"40px"},children:y.map((e,r)=>t.jsx(m,{xs:24,sm:12,lg:6,children:t.jsx(h,{style:{background:"rgba(255,255,255,0.1)",border:"none",backdropFilter:"blur(10px)",borderRadius:"12px"},children:t.jsx(g,{title:t.jsx("span",{style:{color:"rgba(255,255,255,0.8)"},children:e.title}),value:e.value,valueStyle:{color:e.color},prefix:e.prefix,suffix:e.suffix})})},r))}),t.jsxs(p,{gutter:[24,24],children:[t.jsx(m,{xs:24,lg:16,children:t.jsx(h,{style:{background:"rgba(255,255,255,0.1)",border:"none",backdropFilter:"blur(10px)",borderRadius:"12px",height:"100%"},children:t.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[t.jsx(v,{level:2,style:{color:"white",marginBottom:"24px"},children:"Chào mừng đến với Trường Phát Computer! 👋"}),t.jsx(f,{style:{color:"rgba(255,255,255,0.8)",fontSize:"16px",display:"block",marginBottom:"32px"},children:"Hệ thống quản lý bán hàng hiện đại với AI tích hợp, giúp tối ưu hóa doanh thu và trải nghiệm khách hàng."}),t.jsxs(u,{size:"large",wrap:!0,children:[t.jsx(x,{type:"primary",size:"large",icon:t.jsx(s,{}),onClick:w,style:{background:"rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px"},children:"Bắt đầu bán hàng"}),t.jsx(x,{size:"large",icon:t.jsx(n,{}),onClick:()=>l("/login"),style:{background:"transparent",border:"1px solid rgba(255,255,255,0.3)",color:"white",borderRadius:"8px"},children:"Đăng nhập"})]})]})})}),t.jsx(m,{xs:24,lg:8,children:t.jsx(h,{title:t.jsx("span",{style:{color:"white"},children:"Tính năng nổi bật"}),style:{background:"rgba(255,255,255,0.1)",border:"none",backdropFilter:"blur(10px)",borderRadius:"12px",height:"100%"},headStyle:{border:"none"},bodyStyle:{padding:"20px"},children:t.jsxs(u,{direction:"vertical",size:"middle",style:{width:"100%"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px",background:"rgba(255,255,255,0.1)",borderRadius:"8px"},children:[t.jsx(c,{style:{color:"#52c41a",fontSize:"24px",marginRight:"12px"}}),t.jsxs("div",{children:[t.jsx(f,{strong:!0,style:{color:"white",display:"block"},children:"Quản lý kho hàng"}),t.jsx(f,{style:{color:"rgba(255,255,255,0.7)",fontSize:"12px"},children:"Theo dõi tồn kho thời gian thực"})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px",background:"rgba(255,255,255,0.1)",borderRadius:"8px"},children:[t.jsx(d,{style:{color:"#fa8c16",fontSize:"24px",marginRight:"12px"}}),t.jsxs("div",{children:[t.jsx(f,{strong:!0,style:{color:"white",display:"block"},children:"Báo cáo bán hàng"}),t.jsx(f,{style:{color:"rgba(255,255,255,0.7)",fontSize:"12px"},children:"Phân tích doanh thu chi tiết"})]})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"12px",background:"rgba(255,255,255,0.1)",borderRadius:"8px"},children:[t.jsx(n,{style:{color:"#1890ff",fontSize:"24px",marginRight:"12px"}}),t.jsxs("div",{children:[t.jsx(f,{strong:!0,style:{color:"white",display:"block"},children:"Quản lý khách hàng"}),t.jsx(f,{style:{color:"rgba(255,255,255,0.7)",fontSize:"12px"},children:"Chăm sóc khách hàng toàn diện"})]})]})]})})})]}),t.jsxs(p,{gutter:[24,24],style:{marginTop:"40px"},children:[t.jsx(m,{xs:24,lg:12,children:t.jsx(h,{title:t.jsx("span",{style:{color:"white"},children:"Thông tin liên hệ"}),style:{background:"rgba(255,255,255,0.1)",border:"none",backdropFilter:"blur(10px)",borderRadius:"12px"},headStyle:{border:"none"},children:t.jsxs(u,{direction:"vertical",size:"middle",style:{width:"100%"},children:[t.jsxs("div",{children:[t.jsx(f,{style:{color:"rgba(255,255,255,0.8)"},children:"Hotline"}),t.jsx("div",{style:{color:"white",fontSize:"16px",fontWeight:"bold",marginTop:"4px"},children:"0836.768.597"})]}),t.jsxs("div",{children:[t.jsx(f,{style:{color:"rgba(255,255,255,0.8)"},children:"Địa chỉ"}),t.jsx("div",{style:{color:"white",fontSize:"16px",fontWeight:"bold",marginTop:"4px"},children:"Hòa Bình, Việt Nam"})]}),t.jsxs("div",{children:[t.jsx(f,{style:{color:"rgba(255,255,255,0.8)"},children:"Email"}),t.jsx("div",{style:{color:"white",fontSize:"16px",fontWeight:"bold",marginTop:"4px"},children:"contact@truongphat.com"})]})]})})}),t.jsx(m,{xs:24,lg:12,children:t.jsx(h,{title:t.jsx("span",{style:{color:"white"},children:"Thống kê nhanh"}),style:{background:"rgba(255,255,255,0.1)",border:"none",backdropFilter:"blur(10px)",borderRadius:"12px"},headStyle:{border:"none"},children:t.jsxs(p,{gutter:[16,16],children:[t.jsx(m,{span:12,children:t.jsx(g,{title:t.jsx("span",{style:{color:"rgba(255,255,255,0.8)"},children:"Sản phẩm"}),value:1234,valueStyle:{color:"#52c41a"}})}),t.jsx(m,{span:12,children:t.jsx(g,{title:t.jsx("span",{style:{color:"rgba(255,255,255,0.8)"},children:"Danh mục"}),value:89,valueStyle:{color:"#1890ff"}})}),t.jsx(m,{span:12,children:t.jsx(g,{title:t.jsx("span",{style:{color:"rgba(255,255,255,0.8)"},children:"Nhà cung cấp"}),value:56,valueStyle:{color:"#fa8c16"}})}),t.jsx(m,{span:12,children:t.jsx(g,{title:t.jsx("span",{style:{color:"rgba(255,255,255,0.8)"},children:"Khách hàng thân thiết"}),value:892,valueStyle:{color:"#722ed1"}})})]})})})]}),t.jsx("div",{style:{textAlign:"center",marginTop:"40px",padding:"20px",color:"rgba(255,255,255,0.6)"},children:"© 2023 Trường Phát Computer Hòa Bình. Tất cả quyền được bảo lưu."})]})})});b.displayName="Dashboard";export{b as default};
