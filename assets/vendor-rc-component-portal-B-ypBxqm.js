import{h as n,d as t}from"./polyfills-B4r5O4me.js";import{r as e,e as r}from"./react-vendor-D_ybsntB.js";import{c as o,l as u,E as c,u as a,D as i,s as l,h as f}from"./vendor-rc-util-Cfhh6bGy.js";var d=e.createContext(null),s=[];var v="rc-util-locker-".concat(Date.now()),m=0;function h(t){var r=!!t,o=e.useState(function(){return m+=1,"".concat(v,"_").concat(m)}),l=n(o,1)[0];u(function(){if(r){var n=c(document.body).width,t=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;a("\nhtml body {\n  overflow-y: hidden;\n  ".concat(t?"width: calc(100% - ".concat(n,"px);"):"","\n}"),l)}else i(l);return function(){i(l)}},[r,l])}var p=function(n){return!1!==n&&(o()&&n?"string"==typeof n?document.querySelector(n):"function"==typeof n?n():n:null)},y=e.forwardRef(function(c,a){var i=c.open,v=c.autoLock,m=c.getContainer;c.debug;var y=c.autoDestroy,w=void 0===y||y,E=c.children,b=e.useState(i),g=n(b,2),S=g[0],x=g[1],C=S||i;e.useEffect(function(){(w||i)&&x(i)},[i,w]);var j=e.useState(function(){return p(m)}),D=n(j,2),H=D[0],P=D[1];e.useEffect(function(){var n=p(m);P(null!=n?n:null)});var k=function(r){var c=e.useState(function(){return o()?document.createElement("div"):null}),a=n(c,1)[0],i=e.useRef(!1),l=e.useContext(d),f=e.useState(s),v=n(f,2),m=v[0],h=v[1],p=l||(i.current?void 0:function(n){h(function(e){return[n].concat(t(e))})});function y(){a.parentElement||document.body.appendChild(a),i.current=!0}function w(){var n;null===(n=a.parentElement)||void 0===n||n.removeChild(a),i.current=!1}return u(function(){return r?l?l(y):y():w(),w},[r]),u(function(){m.length&&(m.forEach(function(n){return n()}),h(s))},[m]),[a,p]}(C&&!H),R=n(k,2),W=R[0],q=R[1],L=null!=H?H:W;h(v&&i&&o()&&(L===W||L===document.body));var _=null;E&&l(E)&&a&&(_=E.ref);var z=f(_,a);if(!C||!o()||void 0===H)return null;var A=!1===L||!1,B=E;return a&&(B=e.cloneElement(E,{ref:z})),e.createElement(d.Provider,{value:q},A?B:r.createPortal(B,L))});export{y as P};
