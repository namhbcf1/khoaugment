import{_ as a,a as t,j as e,b as r,c as n,h as o}from"./polyfills-BjGv5uaK.js";import{S as s,k as i,m as h}from"./vendor-antv-g-lite-BsxRpwbw.js";import{h as c}from"./vendor-antv-util-BIOdtugi.js";
/*!
 * @antv/g-plugin-canvas-path-generator
 * @description A G plugin of path generator with Canvas2D API
 * @version 2.1.19
 * @date 5/9/2025, 8:19:59 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function v(a,t){var e=t.cx,r=void 0===e?0:e,n=t.cy,o=void 0===n?0:n,s=t.r;a.arc(r,o,s,0,2*Math.PI,!1)}function M(a,t){var e=t.cx,r=void 0===e?0:e,n=t.cy,o=void 0===n?0:n,s=t.rx,i=t.ry;if(a.ellipse)a.ellipse(r,o,s,i,0,0,2*Math.PI,!1);else{var h=s>i?s:i,c=s>i?1:s/i,v=s>i?i/s:1;a.save(),a.scale(c,v),a.arc(r,o,h,0,2*Math.PI)}}function l(a,t){var e,r,n=t.x1,o=t.y1,s=t.x2,i=t.y2,c=t.markerStart,v=t.markerEnd,M=t.markerStartOffset,l=t.markerEndOffset,f=0,m=0,d=0,T=0,u=0;c&&h(c)&&M&&(e=s-n,r=i-o,u=Math.atan2(r,e),f=Math.cos(u)*(M||0),m=Math.sin(u)*(M||0)),v&&h(v)&&l&&(e=n-s,r=o-i,u=Math.atan2(r,e),d=Math.cos(u)*(l||0),T=Math.sin(u)*(l||0)),a.moveTo(n+f,o+m),a.lineTo(s+d,i+T)}function f(a,t){var e,r,n=t.markerStart,s=t.markerEnd,i=t.markerStartOffset,c=t.markerEndOffset,v=t.d,M=v.absolutePath,l=v.segments,f=0,m=0,d=0,T=0,u=0;if(n&&h(n)&&i){var k=n.parentNode.getStartTangent(),P=o(k,2),p=P[0],E=P[1];e=p[0]-E[0],r=p[1]-E[1],u=Math.atan2(r,e),f=Math.cos(u)*(i||0),m=Math.sin(u)*(i||0)}if(s&&h(s)&&c){var I=s.parentNode.getEndTangent(),g=o(I,2),y=g[0],x=g[1];e=y[0]-x[0],r=y[1]-x[1],u=Math.atan2(r,e),d=Math.cos(u)*(c||0),T=Math.sin(u)*(c||0)}for(var O=0;O<M.length;O++){var S=M[O],b=S[0],L=M[O+1],A=0===O&&(0!==f||0!==m),C=(O===M.length-1||L&&("M"===L[0]||"Z"===L[0]))&&0!==d&&0!==T,G=o(A?[f,m]:[0,0],2),N=G[0],R=G[1],j=o(C?[d,T]:[0,0],2),w=j[0],F=j[1];switch(b){case"M":a.moveTo(S[1]+N,S[2]+R);break;case"L":a.lineTo(S[1]+w,S[2]+F);break;case"Q":a.quadraticCurveTo(S[1],S[2],S[3]+w,S[4]+F);break;case"C":a.bezierCurveTo(S[1],S[2],S[3],S[4],S[5]+w,S[6]+F);break;case"A":var H=l[O].arcParams,Y=H.cx,Z=H.cy,q=H.rx,z=H.ry,Q=H.startAngle,U=H.endAngle,X=H.xRotation,_=H.sweepFlag;if(a.ellipse)a.ellipse(Y,Z,q,z,X,Q,U,!!(1-_));else{var B=q>z?q:z,D=q>z?1:q/z,J=q>z?z/q:1;a.translate(Y,Z),a.rotate(X),a.scale(D,J),a.arc(0,0,B,Q,U,!!(1-_)),a.scale(1/D,1/J),a.rotate(-X),a.translate(-Y,-Z)}C&&a.lineTo(S[6]+d,S[7]+T);break;case"Z":a.closePath()}}}function m(a,t){var e,r,n=t.markerStart,o=t.markerEnd,s=t.markerStartOffset,i=t.markerEndOffset,c=t.points.points,v=c.length,M=c[0][0],l=c[0][1],f=c[v-1][0],m=c[v-1][1],d=0,T=0,u=0,k=0,P=0;n&&h(n)&&s&&(e=c[1][0]-c[0][0],r=c[1][1]-c[0][1],P=Math.atan2(r,e),d=Math.cos(P)*(s||0),T=Math.sin(P)*(s||0)),o&&h(o)&&i&&(e=c[v-1][0]-c[0][0],r=c[v-1][1]-c[0][1],P=Math.atan2(r,e),u=Math.cos(P)*(i||0),k=Math.sin(P)*(i||0)),a.moveTo(M+(d||u),l+(T||k));for(var p=1;p<v-1;p++){var E=c[p];a.lineTo(E[0],E[1])}a.lineTo(f,m)}function d(a,t){var e,r,n=t.markerStart,o=t.markerEnd,s=t.markerStartOffset,i=t.markerEndOffset,c=t.points.points,v=c.length,M=c[0][0],l=c[0][1],f=c[v-1][0],m=c[v-1][1],d=0,T=0,u=0,k=0,P=0;n&&h(n)&&s&&(e=c[1][0]-c[0][0],r=c[1][1]-c[0][1],P=Math.atan2(r,e),d=Math.cos(P)*(s||0),T=Math.sin(P)*(s||0)),o&&h(o)&&i&&(e=c[v-2][0]-c[v-1][0],r=c[v-2][1]-c[v-1][1],P=Math.atan2(r,e),u=Math.cos(P)*(i||0),k=Math.sin(P)*(i||0)),a.moveTo(M+d,l+T);for(var p=1;p<v-1;p++){var E=c[p];a.lineTo(E[0],E[1])}a.lineTo(f+u,m+k)}function T(a,t){var e=t.x,r=void 0===e?0:e,n=t.y,s=void 0===n?0:n,i=t.radius,h=t.width,v=t.height,M=h,l=v;if(i&&i.some(function(a){return 0!==a})){var f=h>0?1:-1,m=v>0?1:-1,d=f+m===0,T=i.map(function(a){return c(a,0,Math.min(Math.abs(M)/2,Math.abs(l)/2))}),u=o(T,4),k=u[0],P=u[1],p=u[2],E=u[3];a.moveTo(f*k+r,s),a.lineTo(M-f*P+r,s),0!==P&&a.arc(M-f*P+r,m*P+s,P,-m*Math.PI/2,f>0?0:Math.PI,d),a.lineTo(M+r,l-m*p+s),0!==p&&a.arc(M-f*p+r,l-m*p+s,p,f>0?0:Math.PI,m>0?Math.PI/2:1.5*Math.PI,d),a.lineTo(f*E+r,l+s),0!==E&&a.arc(f*E+r,l-m*E+s,E,m>0?Math.PI/2:-Math.PI/2,f>0?Math.PI:0,d),a.lineTo(r,m*k+s),0!==k&&a.arc(f*k+r,m*k+s,k,f>0?Math.PI:0,m>0?1.5*Math.PI:Math.PI/2,d)}else a.rect(r,s,M,l)}var u=function(){function o(){var a;r(this,o);for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return(a=n(this,o,[].concat(e))).name="canvas-path-generator",a}return a(o,i),t(o,[{key:"init",value:function(){var a,t=(e(e(e(e(e(e(e(e(e(e(a={},s.CIRCLE,v),s.ELLIPSE,M),s.RECT,T),s.LINE,l),s.POLYLINE,d),s.POLYGON,m),s.PATH,f),s.TEXT,void 0),s.GROUP,void 0),s.IMAGE,void 0),e(e(e(a,s.HTML,void 0),s.MESH,void 0),s.FRAGMENT,void 0));this.context.pathGeneratorFactory=t}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}();export{u as P};
