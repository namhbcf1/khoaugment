const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminLayout-D2890lwN.js","assets/vendor-DD54NZMZ.js","assets/styles-D-ubGk5c.js","assets/antd-pmzi8FkM.js","assets/styles-B7E7Bkxc.css","assets/CashierLayout-BBskgeso.js","assets/StaffLayout-opTe9SJa.js","assets/CustomerLayout-CfHN08YI.js","assets/Login-DmQH9DbR.js","assets/Dashboard-BSMJLhjb.js","assets/CustomerLookup-DFDyE4hu.js","assets/relativeTime-CL0l6F4G.js","assets/utils-Db1EesZb.js","assets/Terms-GqbNUIVl.js","assets/QrLookup-VC4shLiY.js","assets/AnalyticsDashboard-09sUiBW_.js","assets/BarChart-De6rU90y.js","assets/defaultLocale-Baf4yPCw.js","assets/LineChart-DSvfKguU.js","assets/PieChart-BnuDruS8.js","assets/RevenueOverview-zBvKFrc5.js","assets/index-J5Y8oacM.js","assets/PerformanceMetrics-DbKr0SU3.js","assets/ComposedChart-HjhqlpuW.js","assets/ProductManagement-D2j78x7q.js","assets/ProductForm-BLpzqM5U.js","assets/BulkOperations-BGBvxkTJ.js","assets/PriceOptimization-9qG7zEDy.js","assets/InventoryDashboard-B74ugdnL.js","assets/index-BWtZXrxb.js","assets/OrderManagement-ub7j2-Hn.js","assets/OrderAnalytics-IKcdvZHZ.js","assets/ReturnProcessing-CW5RfVP3.js","assets/ReportCenter-dPfzKn6k.js","assets/CustomReports-CQ36XUv6.js","assets/OmnichannelAnalytics-CMZjtKmX.js","assets/BusinessIntelligence-sLm6QrXg.js","assets/StaffManagement-CBfogopl.js","assets/PerformanceTracking-CcR2VokQ.js","assets/GamificationConfig-Cm4w3JiQ.js","assets/CommissionSettings-DVVJjRpI.js","assets/CustomerManagement-CdgJhqz0.js","assets/LoyaltyPrograms-CinPihgA.js","assets/CustomerSegmentation-B7RacSU-.js","assets/PersonalizationEngine-_ouL8PGP.js","assets/EcommerceChannels-DcQe29Yc.js","assets/PaymentGateways-C1Bdp1wg.js","assets/ThirdPartyApps-C-JnJ88n.js","assets/APIManagement-CWBjqlzU.js","assets/SystemSettings-DC1nnTT2.js","assets/UserRoles-DXuwv_3v.js","assets/SecuritySettings-Dn4FO9cY.js","assets/CompanyProfile-Dp1cr8c8.js","assets/POSTerminal-BbPS2fAp.js","assets/POSTerminal-BkY0tuzb.css","assets/ProductSelector-CiCJh6II.js","assets/ProductSelector-BTFzXmxo.css","assets/CartManager-DwdZA88M.js","assets/formatters-zHPZYAEt.js","assets/PaymentProcessor-DrFm8Aeh.js","assets/ReceiptPrinter-ClilFw_U.js","assets/SmartSuggestions-DH0C_Df0.js","assets/ShiftStart-mMRYT-3Y.js","assets/ShiftEnd-BQdSn1G0.js","assets/CashCount-CH0DgB13.js","assets/SessionReports--2oziCyZ.js","assets/PersonalDashboard-DMxSNFgh.js","assets/PerformanceOverview-DVjPQktl.js","assets/Leaderboard-CYiEr1U8.js","assets/AchievementCenter-BGDMgk50.js","assets/BadgeCollection-CRdT4utw.js","assets/ChallengeHub-CZAEolh7.js"])))=>i.map(i=>d[i]);
import{r as o,c as Ie,g as ne,f as Ae,N as b,i as Re,j as a,B as Le,R as k}from"./vendor-DD54NZMZ.js";import{s as A,S as se,W as De,B as Z,c1 as we}from"./antd-pmzi8FkM.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();var ae={exports:{}},z={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ce=o,ke=Symbol.for("react.element"),ze=Symbol.for("react.fragment"),Ve=Object.prototype.hasOwnProperty,$e=Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Me={key:!0,ref:!0,__self:!0,__source:!0};function ie(t,r,s){var n,l={},c=null,u=null;s!==void 0&&(c=""+s),r.key!==void 0&&(c=""+r.key),r.ref!==void 0&&(u=r.ref);for(n in r)Ve.call(r,n)&&!Me.hasOwnProperty(n)&&(l[n]=r[n]);if(t&&t.defaultProps)for(n in r=t.defaultProps,r)l[n]===void 0&&(l[n]=r[n]);return{$$typeof:ke,type:t,key:c,ref:u,props:l,_owner:$e.current}}z.Fragment=ze;z.jsx=ie;z.jsxs=ie;ae.exports=z;var e=ae.exports,G={},ee=Ie;G.createRoot=ee.createRoot,G.hydrateRoot=ee.hydrateRoot;var V={},le={exports:{}};(function(t){function r(s){return s&&s.__esModule?s:{default:s}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(le);var $=le.exports,M={};Object.defineProperty(M,"__esModule",{value:!0});M.default=void 0;var Ne={items_per_page:"/ trang",jump_to:"Đến",jump_to_confirm:"xác nhận",page:"Trang",prev_page:"Trang Trước",next_page:"Trang Kế",prev_5:"Về 5 Trang Trước",next_5:"Đến 5 Trang Kế",prev_3:"Về 3 Trang Trước",next_3:"Đến 3 Trang Kế",page_size:"kích thước trang"};M.default=Ne;var N={},L={},U={},ce={exports:{}},ue={exports:{}},pe={exports:{}},de={exports:{}};(function(t){function r(s){"@babel/helpers - typeof";return t.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,r(s)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(de);var me=de.exports,_e={exports:{}};(function(t){var r=me.default;function s(n,l){if(r(n)!="object"||!n)return n;var c=n[Symbol.toPrimitive];if(c!==void 0){var u=c.call(n,l||"default");if(r(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(n)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports})(_e);var Ue=_e.exports;(function(t){var r=me.default,s=Ue;function n(l){var c=s(l,"string");return r(c)=="symbol"?c:c+""}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(pe);var Ye=pe.exports;(function(t){var r=Ye;function s(n,l,c){return(l=r(l))in n?Object.defineProperty(n,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[l]=c,n}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports})(ue);var Ke=ue.exports;(function(t){var r=Ke;function s(l,c){var u=Object.keys(l);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(l);c&&(p=p.filter(function(h){return Object.getOwnPropertyDescriptor(l,h).enumerable})),u.push.apply(u,p)}return u}function n(l){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?s(Object(u),!0).forEach(function(p){r(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):s(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(ce);var he=ce.exports;const Co=ne(he);var Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.commonLocale=void 0;Y.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0};var Be=$.default;Object.defineProperty(U,"__esModule",{value:!0});U.default=void 0;var te=Be(he),Fe=Y,qe=(0,te.default)((0,te.default)({},Fe.commonLocale),{},{locale:"vi_VN",today:"Hôm nay",now:"Bây giờ",backToToday:"Trở về hôm nay",ok:"OK",clear:"Xóa",week:"Tuần",month:"Tháng",year:"Năm",timeSelect:"Chọn thời gian",dateSelect:"Chọn ngày",weekSelect:"Chọn tuần",monthSelect:"Chọn tháng",yearSelect:"Chọn năm",decadeSelect:"Chọn thập kỷ",dateFormat:"D/M/YYYY",dateTimeFormat:"D/M/YYYY HH:mm:ss",previousMonth:"Tháng trước (PageUp)",nextMonth:"Tháng sau (PageDown)",previousYear:"Năm trước (Control + left)",nextYear:"Năm sau (Control + right)",previousDecade:"Thập kỷ trước",nextDecade:"Thập kỷ sau",previousCentury:"Thế kỷ trước",nextCentury:"Thế kỷ sau"});U.default=qe;var D={};Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;const He={placeholder:"Chọn thời gian",rangePlaceholder:["Bắt đầu","Kết thúc"]};D.default=He;var fe=$.default;Object.defineProperty(L,"__esModule",{value:!0});L.default=void 0;var Ge=fe(U),We=fe(D);const Xe={lang:Object.assign({placeholder:"Chọn thời điểm",yearPlaceholder:"Chọn năm",quarterPlaceholder:"Chọn quý",monthPlaceholder:"Chọn tháng",weekPlaceholder:"Chọn tuần",rangePlaceholder:["Ngày bắt đầu","Ngày kết thúc"],rangeYearPlaceholder:["Năm bắt đầu","Năm kết thúc"],rangeQuarterPlaceholder:["Quý bắt đầu","Quý kết thúc"],rangeMonthPlaceholder:["Tháng bắt đầu","Tháng kết thúc"],rangeWeekPlaceholder:["Tuần bắt đầu","Tuần kết thúc"]},Ge.default),timePickerLocale:Object.assign({},We.default)};L.default=Xe;var Qe=$.default;Object.defineProperty(N,"__esModule",{value:!0});N.default=void 0;var Je=Qe(L);N.default=Je.default;var K=$.default;Object.defineProperty(V,"__esModule",{value:!0});V.default=void 0;var Ze=K(M),et=K(N),tt=K(L),rt=K(D);const P="${label} không phải kiểu ${type} hợp lệ",ot={locale:"vi",Pagination:Ze.default,DatePicker:tt.default,TimePicker:rt.default,Calendar:et.default,global:{placeholder:"Vui lòng chọn",close:"Đóng"},Table:{filterTitle:"Bộ lọc",filterConfirm:"Đồng ý",filterReset:"Bỏ lọc",filterEmptyText:"Không có bộ lọc",filterCheckAll:"Chọn tất cả",filterSearchPlaceholder:"Tìm kiếm bộ lọc",emptyText:"Trống",selectAll:"Chọn tất cả",selectInvert:"Chọn ngược lại",selectNone:"Bỏ chọn tất cả",selectionAll:"Chọn tất cả",sortTitle:"Sắp xếp",expand:"Mở rộng dòng",collapse:"Thu gọn dòng",triggerDesc:"Nhấp để sắp xếp giảm dần",triggerAsc:"Nhấp để sắp xếp tăng dần",cancelSort:"Nhấp để hủy sắp xếp"},Tour:{Next:"Tiếp",Previous:"Trước",Finish:"Hoàn thành"},Modal:{okText:"Đồng ý",cancelText:"Hủy",justOkText:"OK"},Popconfirm:{okText:"Đồng ý",cancelText:"Hủy"},Transfer:{titles:["",""],searchPlaceholder:"Tìm ở đây",itemUnit:"mục",itemsUnit:"mục",remove:"Gỡ bỏ",selectCurrent:"Chọn trang hiện tại",removeCurrent:"Gỡ bỏ trang hiện tại",selectAll:"Chọn tất cả",removeAll:"Gỡ bỏ tất cả",selectInvert:"Đảo ngược trang hiện tại"},Upload:{uploading:"Đang tải lên...",removeFile:"Gỡ bỏ tập tin",uploadError:"Lỗi tải lên",previewFile:"Xem trước tập tin",downloadFile:"Tải tập tin"},Empty:{description:"Trống"},Icon:{icon:"icon"},Text:{edit:"Chỉnh sửa",copy:"Sao chép",copied:"Đã sao chép",expand:"Mở rộng"},Form:{optional:"(Tùy chọn)",defaultValidateMessages:{default:"${label} không đáp ứng điều kiện quy định",required:"Hãy nhập thông tin cho trường ${label}",enum:"${label} phải có giá trị nằm trong tập [${enum}]",whitespace:"${label} không được chứa khoảng trắng",date:{format:"${label} sai định dạng ngày tháng",parse:"Không thể chuyển ${label} sang kiểu Ngày tháng",invalid:"${label} không phải giá trị Ngày tháng hợp lệ"},types:{string:P,method:P,array:P,object:P,number:P,date:P,boolean:P,integer:P,float:P,regexp:P,email:P,url:P,hex:P},string:{len:"${label} phải dài đúng ${len} ký tự",min:"Độ dài tối thiểu trường ${label} là ${min} ký tự",max:"Độ dài tối đa trường ${label} là ${max} ký tự",range:"Độ dài trường ${label} phải từ ${min} đến ${max} ký tự"},number:{len:"${label} phải bằng ${len}",min:"${label} phải lớn hơn hoặc bằng ${min}",max:"${label} phải nhỏ hơn hoặc bằng ${max}",range:"${label} phải nằm trong khoảng ${min}-${max}"},array:{len:"Mảng ${label} phải có ${len} phần tử ",min:"Mảng ${label} phải chứa tối thiểu ${min} phần tử ",max:"Mảng ${label} phải chứa tối đa ${max} phần tử ",range:"Mảng ${label} phải chứa từ ${min}-${max} phần tử"},pattern:{mismatch:"${label} không thỏa mãn mẫu kiểm tra ${pattern}"}}},Image:{preview:"Xem trước"},QRCode:{expired:"Mã QR hết hạn",refresh:"Làm mới"}};V.default=ot;var nt=V;const st=ne(nt),ge={user:null,token:null,loading:!0,isAuthenticated:!1,permissions:[],role:null,lastActivity:null,expiresAt:null},x={LOGIN_START:"LOGIN_START",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT:"LOGOUT",SET_LOADING:"SET_LOADING",UPDATE_USER:"UPDATE_USER",SET_PERMISSIONS:"SET_PERMISSIONS",UPDATE_LAST_ACTIVITY:"UPDATE_LAST_ACTIVITY",SESSION_EXPIRED:"SESSION_EXPIRED"},j={TIMEOUT_DURATION:30*60*1e3,STORAGE_PREFIX:"truongphat_",TOKEN_KEY:"truongphat_token",USER_KEY:"truongphat_user",EXPIRES_KEY:"truongphat_expires",ACTIVITY_KEY:"truongphat_last_activity"},at=(t,r)=>{switch(r.type){case x.LOGIN_START:return{...t,loading:!0};case x.LOGIN_SUCCESS:return{...t,user:r.payload.user,token:r.payload.token,role:r.payload.user.role,permissions:r.payload.permissions||[],isAuthenticated:!0,loading:!1,lastActivity:r.payload.lastActivity||Date.now(),expiresAt:r.payload.expiresAt||null};case x.LOGIN_FAILURE:return{...t,user:null,token:null,role:null,permissions:[],isAuthenticated:!1,loading:!1,lastActivity:null,expiresAt:null};case x.LOGOUT:case x.SESSION_EXPIRED:return{...ge,loading:!1};case x.SET_LOADING:return{...t,loading:r.payload};case x.UPDATE_USER:return{...t,user:{...t.user,...r.payload}};case x.SET_PERMISSIONS:return{...t,permissions:r.payload};case x.UPDATE_LAST_ACTIVITY:return{...t,lastActivity:r.payload};default:return t}},ye=o.createContext(),it=({children:t})=>{const[r,s]=o.useReducer(at,ge),n=o.useCallback(()=>r.expiresAt&&Date.now()>r.expiresAt?(A.warning("Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại."),p(!0),!0):!1,[r.expiresAt]),l=o.useCallback(()=>r.lastActivity&&Date.now()-r.lastActivity>j.TIMEOUT_DURATION?(A.warning("Phiên làm việc đã hết hạn do không hoạt động. Vui lòng đăng nhập lại."),p(!0),!0):!1,[r.lastActivity]),c=o.useCallback(()=>{if(r.isAuthenticated){const _=Date.now();s({type:x.UPDATE_LAST_ACTIVITY,payload:_}),localStorage.setItem(j.ACTIVITY_KEY,_.toString())}},[r.isAuthenticated]);o.useEffect(()=>{if(!r.isAuthenticated)return;const _=["mousedown","keydown","touchstart","scroll"],d=()=>c();_.forEach(E=>{window.addEventListener(E,d)});const m=setInterval(()=>{n()||l()},6e4);return()=>{_.forEach(E=>{window.removeEventListener(E,d)}),clearInterval(m)}},[r.isAuthenticated,c,n,l]),o.useEffect(()=>{const _=localStorage.getItem(j.TOKEN_KEY),d=localStorage.getItem(j.USER_KEY),m=localStorage.getItem(j.EXPIRES_KEY),E=localStorage.getItem(j.ACTIVITY_KEY);if(_&&d)try{const f=JSON.parse(d),S=m?parseInt(m,10):null,Se=E?parseInt(E,10):Date.now();S&&Date.now()>S?p(!0):s({type:x.LOGIN_SUCCESS,payload:{user:f,token:_,permissions:f.permissions||[],expiresAt:S,lastActivity:Se}})}catch(f){console.error("Error parsing user data:",f),u()}s({type:x.SET_LOADING,payload:!1})},[]);const u=()=>{localStorage.removeItem(j.TOKEN_KEY),localStorage.removeItem(j.USER_KEY),localStorage.removeItem(j.EXPIRES_KEY),localStorage.removeItem(j.ACTIVITY_KEY)},p=(_=!1)=>{u(),s({type:_?x.SESSION_EXPIRED:x.LOGOUT}),_||A.success("Đăng xuất thành công!")},h=async _=>{s({type:x.LOGIN_START});try{const d=v(_);if(d.success){const{user:m,token:E}=d,f=Date.now()+24*60*60*1e3,S=Date.now();return localStorage.setItem(j.TOKEN_KEY,E),localStorage.setItem(j.USER_KEY,JSON.stringify(m)),localStorage.setItem(j.EXPIRES_KEY,f.toString()),localStorage.setItem(j.ACTIVITY_KEY,S.toString()),s({type:x.LOGIN_SUCCESS,payload:{user:m,token:E,permissions:m.permissions,expiresAt:f,lastActivity:S}}),A.success("Đăng nhập thành công!"),{success:!0,user:m}}else return s({type:x.LOGIN_FAILURE}),A.error(d.error||"Email hoặc mật khẩu không đúng!"),{success:!1,error:d.error}}catch(d){return s({type:x.LOGIN_FAILURE}),A.error("Đăng nhập thất bại!"),{success:!1,error:d.message}}},v=_=>{const m=[{email:"admin@truongphat.com",password:"admin123",name:"Quản trị viên",role:"admin"},{email:"cashier@truongphat.com",password:"cashier123",name:"Thu ngân",role:"cashier"},{email:"staff@truongphat.com",password:"staff123",name:"Nhân viên bán hàng",role:"staff"}].find(E=>E.email.toLowerCase()===_.email.toLowerCase()&&E.password===_.password);if(m){const{password:E,...f}=m;return{success:!0,user:{...f,permissions:lt(m.role),id:Date.now(),avatar:null},token:"truongphat-jwt-token-"+Date.now()}}return{success:!1,error:"Email hoặc mật khẩu không đúng"}},O={...r,login:h,logout:()=>p(),updateUser:_=>{if(s({type:x.UPDATE_USER,payload:_}),r.user){const d={...r.user,..._};localStorage.setItem(j.USER_KEY,JSON.stringify(d))}},hasPermission:_=>r.permissions.includes(_),hasRole:_=>Array.isArray(_)?_.includes(r.role):r.role===_,updateLastActivity:c};return e.jsx(ye.Provider,{value:O,children:t})},ve=()=>{const t=o.useContext(ye);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},lt=t=>({admin:["dashboard.view","products.view","products.create","products.update","products.delete","inventory.view","inventory.update","orders.view","orders.create","orders.update","orders.delete","customers.view","customers.create","customers.update","customers.delete","staff.view","staff.create","staff.update","staff.delete","reports.view","reports.create","settings.view","settings.update","pos.use"],cashier:["pos.use","orders.view","orders.create","customers.view","customers.create","customers.update","products.view","inventory.view"],staff:["dashboard.view","sales.view","gamification.view","training.view","profile.view","profile.update"]})[t]||[],xe=o.createContext(),ct=({children:t})=>{const[r,s]=o.useState([]),[n,l]=o.useState({type:"percent",value:0}),c=r.reduce((d,m)=>d+m.quantity,0),u=r.reduce((d,m)=>d+m.price*m.quantity,0),p=n.type==="percent"?u*(n.value/100):n.value,h=Math.max(0,u-p);o.useEffect(()=>{try{const d=localStorage.getItem("cart"),m=localStorage.getItem("cartDiscount");d&&s(JSON.parse(d)),m&&l(JSON.parse(m))}catch(d){console.error("Failed to load cart from localStorage:",d)}},[]),o.useEffect(()=>{try{localStorage.setItem("cart",JSON.stringify(r)),localStorage.setItem("cartDiscount",JSON.stringify(n))}catch(d){console.error("Failed to save cart to localStorage:",d)}},[r,n]);const _={items:r,totalItems:c,totalAmount:u,totalDiscount:p,netAmount:h,discount:n,addItem:d=>{s(m=>m.find(f=>f.id===d.id)?m.map(f=>f.id===d.id?{...f,quantity:Math.min(f.quantity+d.quantity,f.maxQuantity||9999)}:f):[...m,{...d}])},removeItem:d=>{s(m=>m.filter(E=>E.id!==d))},updateQuantity:(d,m)=>{s(E=>E.map(f=>f.id===d?{...f,quantity:m}:f))},applyDiscount:d=>{l(d)},clearCart:()=>{s([]),l({type:"percent",value:0})}};return e.jsx(xe.Provider,{value:_,children:t})},ko=()=>{const t=o.useContext(xe);if(t===void 0)throw new Error("useCartContext must be used within a CartProvider");return t},ut="modulepreload",pt=function(t){return"/"+t},re={},i=function(r,s,n){let l=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),p=u?.nonce||u?.getAttribute("nonce");l=Promise.allSettled(s.map(h=>{if(h=pt(h),h in re)return;re[h]=!0;const v=h.endsWith(".css"),g=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=v?"stylesheet":ut,v||(y.as="script"),y.crossOrigin="",y.href=h,p&&y.setAttribute("nonce",p),document.head.appendChild(y),v)return new Promise((I,O)=>{y.addEventListener("load",I),y.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${h}`)))})}))}function c(u){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=u,window.dispatchEvent(p),!p.defaultPrevented)throw u}return l.then(u=>{for(const p of u||[])p.status==="rejected"&&c(p.reason);return r().catch(c)})},B=({children:t,requiredRoles:r=[],requiredPermissions:s=[],redirectTo:n="/login"})=>{const l=Ae(),{isAuthenticated:c,user:u,loading:p,hasRole:h,hasPermission:v}=ve();return p?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:e.jsx(se,{size:"large",tip:"Đang xác thực..."})}):c?r.length>0&&!r.some(y=>h(y))?e.jsx(b,{to:"/403",replace:!0}):s.length>0&&!s.every(y=>v(y))?e.jsx(b,{to:"/403",replace:!0}):t:e.jsx(b,{to:n,state:{from:l.pathname},replace:!0})},F=({children:t,allowedRoles:r=[],requiredPermissions:s=[],redirectPath:n="/login"})=>{const{role:l,isAuthenticated:c,hasRole:u,hasPermission:p}=ve();if(!c)return e.jsx(b,{to:n,replace:!0});const h=r.length===0||u(r),v=s.length===0||s.every(g=>p(g));if(!h||!v){let g="/";return l==="admin"?g="/admin/dashboard":l==="cashier"?g="/cashier/pos":l==="staff"&&(g="/staff/dashboard"),e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#f0f2f5"},children:e.jsx(De,{status:"403",title:"Không có quyền truy cập",subTitle:e.jsxs("div",{children:[e.jsx("p",{children:"Xin lỗi, bạn không có quyền truy cập trang này."}),e.jsx("p",{children:"Hãy liên hệ với quản trị viên nếu bạn cần quyền này."})]}),extra:[e.jsx(Z,{type:"primary",onClick:()=>window.location.href=g,children:"Về trang chính"},"home"),e.jsx(Z,{onClick:()=>window.history.back(),children:"Quay lại"},"back")]})})}return t},dt=o.lazy(()=>i(()=>import("./AdminLayout-D2890lwN.js"),__vite__mapDeps([0,1,2,3,4]))),mt=o.lazy(()=>i(()=>import("./CashierLayout-BBskgeso.js"),__vite__mapDeps([5,1,2,3,4]))),_t=o.lazy(()=>i(()=>import("./StaffLayout-opTe9SJa.js"),__vite__mapDeps([6,1,2,3,4]))),ht=o.lazy(()=>i(()=>import("./CustomerLayout-CfHN08YI.js"),__vite__mapDeps([7,1,3]))),ft=o.lazy(()=>i(()=>import("./Login-DmQH9DbR.js"),__vite__mapDeps([8,1,3]))),gt=o.lazy(()=>i(()=>import("./Dashboard-BSMJLhjb.js"),__vite__mapDeps([9,1,3]))),yt=o.lazy(()=>i(()=>import("./CustomerLookup-DFDyE4hu.js"),__vite__mapDeps([10,1,11,12,3]))),vt=o.lazy(()=>i(()=>import("./Terms-GqbNUIVl.js"),__vite__mapDeps([13,1,3]))),xt=o.lazy(()=>i(()=>import("./QrLookup-VC4shLiY.js"),__vite__mapDeps([14,1,11,12,3]))),Et=o.lazy(()=>i(()=>import("./AnalyticsDashboard-09sUiBW_.js"),__vite__mapDeps([15,1,3,16,17,18,19]))),jt=o.lazy(()=>i(()=>import("./RevenueOverview-zBvKFrc5.js"),__vite__mapDeps([20,1,3,21,12,17]))),Pt=o.lazy(()=>i(()=>import("./PerformanceMetrics-DbKr0SU3.js"),__vite__mapDeps([22,1,3,16,17,23]))),Tt=o.lazy(()=>i(()=>import("./ProductManagement-D2j78x7q.js"),__vite__mapDeps([24,1,3]))),oe=o.lazy(()=>i(()=>import("./ProductForm-BLpzqM5U.js"),__vite__mapDeps([25,1,3]))),bt=o.lazy(()=>i(()=>import("./BulkOperations-BGBvxkTJ.js"),__vite__mapDeps([26,1,3]))),Ot=o.lazy(()=>i(()=>import("./PriceOptimization-9qG7zEDy.js"),__vite__mapDeps([27,1,3]))),St=o.lazy(()=>i(()=>import("./InventoryDashboard-B74ugdnL.js"),__vite__mapDeps([28,1,3,29,21,12,17]))),It=o.lazy(()=>i(()=>Promise.resolve().then(()=>ao),void 0)),At=o.lazy(()=>i(()=>Promise.resolve().then(()=>io),void 0)),Rt=o.lazy(()=>i(()=>Promise.resolve().then(()=>lo),void 0)),Lt=o.lazy(()=>i(()=>import("./OrderManagement-ub7j2-Hn.js"),__vite__mapDeps([30,1,3]))),Dt=o.lazy(()=>i(()=>import("./OrderAnalytics-IKcdvZHZ.js"),__vite__mapDeps([31,1,3,21,12,17,29]))),wt=o.lazy(()=>i(()=>import("./ReturnProcessing-CW5RfVP3.js"),__vite__mapDeps([32,1,3]))),Ct=o.lazy(()=>i(()=>import("./ReportCenter-dPfzKn6k.js"),__vite__mapDeps([33,1,3]))),kt=o.lazy(()=>i(()=>import("./CustomReports-CQ36XUv6.js"),__vite__mapDeps([34,1,3]))),zt=o.lazy(()=>i(()=>import("./OmnichannelAnalytics-CMZjtKmX.js"),__vite__mapDeps([35,1,3,16,17,18,23,19]))),Vt=o.lazy(()=>i(()=>import("./BusinessIntelligence-sLm6QrXg.js"),__vite__mapDeps([36,1,3,16,17,18,19]))),$t=o.lazy(()=>i(()=>import("./StaffManagement-CBfogopl.js"),__vite__mapDeps([37,1,3]))),Mt=o.lazy(()=>i(()=>import("./PerformanceTracking-CcR2VokQ.js"),__vite__mapDeps([38,1,3]))),Nt=o.lazy(()=>i(()=>import("./GamificationConfig-Cm4w3JiQ.js"),__vite__mapDeps([39,1,3]))),Ut=o.lazy(()=>i(()=>import("./CommissionSettings-DVVJjRpI.js"),__vite__mapDeps([40,1,3]))),Yt=o.lazy(()=>i(()=>import("./CustomerManagement-CdgJhqz0.js"),__vite__mapDeps([41,1,3]))),Kt=o.lazy(()=>i(()=>import("./LoyaltyPrograms-CinPihgA.js"),__vite__mapDeps([42,1,3]))),Bt=o.lazy(()=>i(()=>import("./CustomerSegmentation-B7RacSU-.js"),__vite__mapDeps([43,1,3,21,12,17,29]))),Ft=o.lazy(()=>i(()=>import("./PersonalizationEngine-_ouL8PGP.js"),__vite__mapDeps([44,1,3]))),qt=o.lazy(()=>i(()=>import("./EcommerceChannels-DcQe29Yc.js"),__vite__mapDeps([45,1,3]))),Ht=o.lazy(()=>i(()=>import("./PaymentGateways-C1Bdp1wg.js"),__vite__mapDeps([46,1,3]))),Gt=o.lazy(()=>i(()=>import("./ThirdPartyApps-C-JnJ88n.js"),__vite__mapDeps([47,1,3]))),Wt=o.lazy(()=>i(()=>import("./APIManagement-CWBjqlzU.js"),__vite__mapDeps([48,1,3,16,17,18]))),Xt=o.lazy(()=>i(()=>import("./SystemSettings-DC1nnTT2.js"),__vite__mapDeps([49,1,3]))),Qt=o.lazy(()=>i(()=>import("./UserRoles-DXuwv_3v.js"),__vite__mapDeps([50,1,3]))),Jt=o.lazy(()=>i(()=>import("./SecuritySettings-Dn4FO9cY.js"),__vite__mapDeps([51,1,3]))),Zt=o.lazy(()=>i(()=>import("./CompanyProfile-Dp1cr8c8.js"),__vite__mapDeps([52,1,3]))),er=o.lazy(()=>i(()=>import("./POSTerminal-BbPS2fAp.js"),__vite__mapDeps([53,1,3,54]))),tr=o.lazy(()=>i(()=>import("./ProductSelector-CiCJh6II.js"),__vite__mapDeps([55,1,3,56]))),rr=o.lazy(()=>i(()=>import("./CartManager-DwdZA88M.js"),__vite__mapDeps([57,1,58,3]))),or=o.lazy(()=>i(()=>import("./PaymentProcessor-DrFm8Aeh.js"),__vite__mapDeps([59,1,58,3]))),nr=o.lazy(()=>i(()=>import("./ReceiptPrinter-ClilFw_U.js"),__vite__mapDeps([60,1,3]))),sr=o.lazy(()=>i(()=>import("./SmartSuggestions-DH0C_Df0.js"),__vite__mapDeps([61,1,3]))),ar=o.lazy(()=>i(()=>Promise.resolve().then(()=>co),void 0)),ir=o.lazy(()=>i(()=>Promise.resolve().then(()=>uo),void 0)),lr=o.lazy(()=>i(()=>Promise.resolve().then(()=>po),void 0)),cr=o.lazy(()=>i(()=>Promise.resolve().then(()=>mo),void 0)),ur=o.lazy(()=>i(()=>Promise.resolve().then(()=>_o),void 0)),pr=o.lazy(()=>i(()=>Promise.resolve().then(()=>ho),void 0)),dr=o.lazy(()=>i(()=>import("./ShiftStart-mMRYT-3Y.js"),__vite__mapDeps([62,1,58,3]))),mr=o.lazy(()=>i(()=>import("./ShiftEnd-BQdSn1G0.js"),__vite__mapDeps([63,1,58,3]))),_r=o.lazy(()=>i(()=>import("./CashCount-CH0DgB13.js"),__vite__mapDeps([64,1,3]))),hr=o.lazy(()=>i(()=>import("./SessionReports--2oziCyZ.js"),__vite__mapDeps([65,1,3]))),fr=o.lazy(()=>i(()=>import("./PersonalDashboard-DMxSNFgh.js"),__vite__mapDeps([66,1,3]))),gr=o.lazy(()=>i(()=>import("./PerformanceOverview-DVjPQktl.js"),__vite__mapDeps([67,1,3]))),yr=o.lazy(()=>i(()=>Promise.resolve().then(()=>fo),void 0)),vr=o.lazy(()=>i(()=>Promise.resolve().then(()=>go),void 0)),xr=o.lazy(()=>i(()=>import("./Leaderboard-CYiEr1U8.js"),__vite__mapDeps([68,1,3]))),Er=o.lazy(()=>i(()=>import("./AchievementCenter-BGDMgk50.js"),__vite__mapDeps([69,1,3]))),jr=o.lazy(()=>i(()=>import("./BadgeCollection-CRdT4utw.js"),__vite__mapDeps([70,1,3]))),Pr=o.lazy(()=>i(()=>import("./ChallengeHub-CZAEolh7.js"),__vite__mapDeps([71,1,3]))),Tr=o.lazy(()=>i(()=>Promise.resolve().then(()=>yo),void 0)),br=o.lazy(()=>i(()=>Promise.resolve().then(()=>vo),void 0)),Or=o.lazy(()=>i(()=>Promise.resolve().then(()=>xo),void 0)),Sr=o.lazy(()=>i(()=>Promise.resolve().then(()=>Eo),void 0)),Ir=o.lazy(()=>i(()=>Promise.resolve().then(()=>jo),void 0)),Ar=o.lazy(()=>i(()=>Promise.resolve().then(()=>Po),void 0)),Rr=o.lazy(()=>i(()=>Promise.resolve().then(()=>To),void 0)),Lr=o.lazy(()=>i(()=>Promise.resolve().then(()=>bo),void 0)),Dr=o.lazy(()=>i(()=>Promise.resolve().then(()=>Oo),void 0)),wr=o.lazy(()=>i(()=>Promise.resolve().then(()=>So),void 0)),Cr=o.lazy(()=>i(()=>Promise.resolve().then(()=>Io),void 0)),kr=o.lazy(()=>i(()=>Promise.resolve().then(()=>Ao),void 0)),zr=o.lazy(()=>i(()=>Promise.resolve().then(()=>Ro),void 0)),Vr=o.lazy(()=>i(()=>Promise.resolve().then(()=>Lo),void 0)),$r=()=>e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:e.jsx(se,{size:"large"})}),Mr=()=>e.jsx(o.Suspense,{fallback:e.jsx($r,{}),children:e.jsxs(Re,{children:[e.jsx(a,{path:"/login",element:e.jsx(ft,{})}),e.jsx(a,{path:"/",element:e.jsx(gt,{})}),e.jsxs(a,{path:"/",element:e.jsx(ht,{}),children:[e.jsx(a,{path:"customer-lookup",element:e.jsx(yt,{})}),e.jsx(a,{path:"terms",element:e.jsx(vt,{})}),e.jsx(a,{path:"qr/:id",element:e.jsx(xt,{})})]}),e.jsxs(a,{path:"/admin",element:e.jsx(B,{children:e.jsx(F,{allowedRoles:["admin"],children:e.jsx(dt,{})})}),children:[e.jsx(a,{index:!0,element:e.jsx(b,{to:"/admin/dashboard",replace:!0})}),e.jsx(a,{path:"dashboard",element:e.jsx(Et,{})}),e.jsx(a,{path:"dashboard/revenue",element:e.jsx(jt,{})}),e.jsx(a,{path:"dashboard/performance",element:e.jsx(Pt,{})}),e.jsx(a,{path:"products",element:e.jsx(Tt,{})}),e.jsx(a,{path:"products/new",element:e.jsx(oe,{})}),e.jsx(a,{path:"products/edit/:id",element:e.jsx(oe,{})}),e.jsx(a,{path:"products/bulk",element:e.jsx(bt,{})}),e.jsx(a,{path:"products/price-optimization",element:e.jsx(Ot,{})}),e.jsx(a,{path:"inventory",element:e.jsx(St,{})}),e.jsx(a,{path:"inventory/movements",element:e.jsx(It,{})}),e.jsx(a,{path:"inventory/forecasting",element:e.jsx(At,{})}),e.jsx(a,{path:"inventory/warehouse",element:e.jsx(Rt,{})}),e.jsx(a,{path:"orders",element:e.jsx(Lt,{})}),e.jsx(a,{path:"orders/analytics",element:e.jsx(Dt,{})}),e.jsx(a,{path:"orders/returns",element:e.jsx(wt,{})}),e.jsx(a,{path:"reports",element:e.jsx(Ct,{})}),e.jsx(a,{path:"reports/custom",element:e.jsx(kt,{})}),e.jsx(a,{path:"reports/omnichannel",element:e.jsx(zt,{})}),e.jsx(a,{path:"reports/business-intelligence",element:e.jsx(Vt,{})}),e.jsx(a,{path:"staff",element:e.jsx($t,{})}),e.jsx(a,{path:"staff/performance",element:e.jsx(Mt,{})}),e.jsx(a,{path:"staff/gamification",element:e.jsx(Nt,{})}),e.jsx(a,{path:"staff/commissions",element:e.jsx(Ut,{})}),e.jsx(a,{path:"customers",element:e.jsx(Yt,{})}),e.jsx(a,{path:"customers/loyalty",element:e.jsx(Kt,{})}),e.jsx(a,{path:"customers/segmentation",element:e.jsx(Bt,{})}),e.jsx(a,{path:"customers/personalization",element:e.jsx(Ft,{})}),e.jsx(a,{path:"integrations",element:e.jsx(qt,{})}),e.jsx(a,{path:"integrations/payments",element:e.jsx(Ht,{})}),e.jsx(a,{path:"integrations/apps",element:e.jsx(Gt,{})}),e.jsx(a,{path:"integrations/api",element:e.jsx(Wt,{})}),e.jsx(a,{path:"settings",element:e.jsx(Xt,{})}),e.jsx(a,{path:"settings/roles",element:e.jsx(Qt,{})}),e.jsx(a,{path:"settings/security",element:e.jsx(Jt,{})}),e.jsx(a,{path:"settings/company",element:e.jsx(Zt,{})})]}),e.jsxs(a,{path:"/cashier",element:e.jsx(B,{children:e.jsx(F,{allowedRoles:["admin","cashier"],children:e.jsx(mt,{})})}),children:[e.jsx(a,{index:!0,element:e.jsx(b,{to:"/cashier/pos",replace:!0})}),e.jsx(a,{path:"pos",element:e.jsx(er,{})}),e.jsx(a,{path:"pos/products",element:e.jsx(tr,{})}),e.jsx(a,{path:"pos/cart",element:e.jsx(rr,{})}),e.jsx(a,{path:"pos/payment",element:e.jsx(or,{})}),e.jsx(a,{path:"pos/receipt",element:e.jsx(nr,{})}),e.jsx(a,{path:"pos/suggestions",element:e.jsx(sr,{})}),e.jsx(a,{path:"orders",element:e.jsx(ar,{})}),e.jsx(a,{path:"orders/returns",element:e.jsx(ir,{})}),e.jsx(a,{path:"orders/tracking",element:e.jsx(lr,{})}),e.jsx(a,{path:"customers",element:e.jsx(cr,{})}),e.jsx(a,{path:"customers/loyalty",element:e.jsx(ur,{})}),e.jsx(a,{path:"customers/membership",element:e.jsx(pr,{})}),e.jsx(a,{path:"session/start",element:e.jsx(dr,{})}),e.jsx(a,{path:"session/end",element:e.jsx(mr,{})}),e.jsx(a,{path:"session/cash",element:e.jsx(_r,{})}),e.jsx(a,{path:"session/reports",element:e.jsx(hr,{})})]}),e.jsxs(a,{path:"/staff",element:e.jsx(B,{children:e.jsx(F,{allowedRoles:["admin","staff"],children:e.jsx(_t,{})})}),children:[e.jsx(a,{index:!0,element:e.jsx(b,{to:"/staff/dashboard",replace:!0})}),e.jsx(a,{path:"dashboard",element:e.jsx(fr,{})}),e.jsx(a,{path:"dashboard/performance",element:e.jsx(gr,{})}),e.jsx(a,{path:"dashboard/commission",element:e.jsx(yr,{})}),e.jsx(a,{path:"dashboard/goals",element:e.jsx(vr,{})}),e.jsx(a,{path:"leaderboard",element:e.jsx(xr,{})}),e.jsx(a,{path:"achievements",element:e.jsx(Er,{})}),e.jsx(a,{path:"badges",element:e.jsx(jr,{})}),e.jsx(a,{path:"challenges",element:e.jsx(Pr,{})}),e.jsx(a,{path:"rewards",element:e.jsx(Tr,{})}),e.jsx(a,{path:"competitions",element:e.jsx(br,{})}),e.jsx(a,{path:"sales",element:e.jsx(Or,{})}),e.jsx(a,{path:"sales/targets",element:e.jsx(Sr,{})}),e.jsx(a,{path:"sales/recommendations",element:e.jsx(Ir,{})}),e.jsx(a,{path:"sales/customers",element:e.jsx(Ar,{})}),e.jsx(a,{path:"training",element:e.jsx(Rr,{})}),e.jsx(a,{path:"training/products",element:e.jsx(Lr,{})}),e.jsx(a,{path:"training/skills",element:e.jsx(Dr,{})}),e.jsx(a,{path:"training/certifications",element:e.jsx(wr,{})}),e.jsx(a,{path:"profile",element:e.jsx(Cr,{})}),e.jsx(a,{path:"profile/performance",element:e.jsx(kr,{})}),e.jsx(a,{path:"profile/commission",element:e.jsx(zr,{})}),e.jsx(a,{path:"profile/preferences",element:e.jsx(Vr,{})})]}),e.jsx(a,{path:"*",element:e.jsx(b,{to:"/",replace:!0})})]})}),Nr=()=>e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"16px",flexDirection:"column"},children:[e.jsx("div",{style:{marginBottom:"20px",fontSize:"24px"},children:"🚀"}),e.jsx("div",{children:"Đang tải Smart POS..."})]}),Ur={token:{colorPrimary:"#1890ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#f5222d",fontSize:14,borderRadius:8,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},components:{Layout:{bodyBg:"#f0f2f5",headerBg:"#001529",siderBg:"#001529"},Menu:{darkItemBg:"#001529",darkItemSelectedBg:"#1890ff"},Button:{fontWeight:500},Table:{headerBg:"#fafafa"},Card:{borderRadius:12}}};function Yr(){return e.jsx(we,{locale:st,theme:Ur,children:e.jsx(it,{children:e.jsx(ct,{children:e.jsx(Le,{children:e.jsx("div",{className:"app",children:e.jsx(o.Suspense,{fallback:e.jsx(Nr,{}),children:e.jsx(Mr,{})})})})})})})}var Ee=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(Ee||{}),q={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}};Object.values(Ee);var Q={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.entries(Q).reduce((t,[r,s])=>(t[s]=r,t),{});var R="data-rh",Kr=t=>Array.isArray(t)?t.join(""):t,Br=(t,r)=>{const s=Object.keys(t);for(let n=0;n<s.length;n+=1)if(r[s[n]]&&r[s[n]].includes(t[s[n]]))return!0;return!1},H=(t,r)=>Array.isArray(t)?t.reduce((s,n)=>(Br(n,r)?s.priority.push(n):s.default.push(n),s),{priority:[],default:[]}):{default:t,priority:[]},Fr=["noscript","script","style"],W=(t,r=!0)=>r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),je=t=>Object.keys(t).reduce((r,s)=>{const n=typeof t[s]<"u"?`${s}="${t[s]}"`:`${s}`;return r?`${r} ${n}`:n},""),qr=(t,r,s,n)=>{const l=je(s),c=Kr(r);return l?`<${t} ${R}="true" ${l}>${W(c,n)}</${t}>`:`<${t} ${R}="true">${W(c,n)}</${t}>`},Hr=(t,r,s=!0)=>r.reduce((n,l)=>{const c=l,u=Object.keys(c).filter(v=>!(v==="innerHTML"||v==="cssText")).reduce((v,g)=>{const y=typeof c[g]>"u"?g:`${g}="${W(c[g],s)}"`;return v?`${v} ${y}`:y},""),p=c.innerHTML||c.cssText||"",h=Fr.indexOf(t)===-1;return`${n}<${t} ${R}="true" ${u}${h?"/>":`>${p}</${t}>`}`},""),Pe=(t,r={})=>Object.keys(t).reduce((s,n)=>{const l=Q[n];return s[l||n]=t[n],s},r),Gr=(t,r,s)=>{const n={key:r,[R]:!0},l=Pe(s,n);return[k.createElement("title",l,r)]},C=(t,r)=>r.map((s,n)=>{const l={key:n,[R]:!0};return Object.keys(s).forEach(c=>{const p=Q[c]||c;if(p==="innerHTML"||p==="cssText"){const h=s.innerHTML||s.cssText;l.dangerouslySetInnerHTML={__html:h}}else l[p]=s[c]}),k.createElement(t,l)}),T=(t,r,s=!0)=>{switch(t){case"title":return{toComponent:()=>Gr(t,r.title,r.titleAttributes),toString:()=>qr(t,r.title,r.titleAttributes,s)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Pe(r),toString:()=>je(r)};default:return{toComponent:()=>C(t,r),toString:()=>Hr(t,r,s)}}},Wr=({metaTags:t,linkTags:r,scriptTags:s,encode:n})=>{const l=H(t,q.meta),c=H(r,q.link),u=H(s,q.script);return{priorityMethods:{toComponent:()=>[...C("meta",l.priority),...C("link",c.priority),...C("script",u.priority)],toString:()=>`${T("meta",l.priority,n)} ${T("link",c.priority,n)} ${T("script",u.priority,n)}`},metaTags:l.default,linkTags:c.default,scriptTags:u.default}},Xr=t=>{const{baseTag:r,bodyAttributes:s,encode:n=!0,htmlAttributes:l,noscriptTags:c,styleTags:u,title:p="",titleAttributes:h,prioritizeSeoTags:v}=t;let{linkTags:g,metaTags:y,scriptTags:I}=t,O={toComponent:()=>{},toString:()=>""};return v&&({priorityMethods:O,linkTags:g,metaTags:y,scriptTags:I}=Wr(t)),{priority:O,base:T("base",r,n),bodyAttributes:T("bodyAttributes",s,n),htmlAttributes:T("htmlAttributes",l,n),link:T("link",g,n),meta:T("meta",y,n),noscript:T("noscript",c,n),script:T("script",I,n),style:T("style",u,n),title:T("title",{title:p,titleAttributes:h},n)}},Qr=Xr,w=[],Te=!!(typeof window<"u"&&window.document&&window.document.createElement),Jr=class{instances=[];canUseDOM=Te;context;value={setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?w:this.instances,add:t=>{(this.canUseDOM?w:this.instances).push(t)},remove:t=>{const r=(this.canUseDOM?w:this.instances).indexOf(t);(this.canUseDOM?w:this.instances).splice(r,1)}}};constructor(t,r){this.context=t,this.canUseDOM=r||!1,r||(t.helmet=Qr({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Zr={},eo=k.createContext(Zr),to=class be extends o.Component{static canUseDOM=Te;helmetData;constructor(r){super(r),this.helmetData=new Jr(this.props.context||{},be.canUseDOM)}render(){return k.createElement(eo.Provider,{value:this.helmetData.value},this.props.children)}};window.addEventListener("error",t=>{console.error("Global error:",t.error)});window.addEventListener("unhandledrejection",t=>{console.error("Unhandled promise rejection:",t.reason)});function ro(){const t=localStorage.getItem("pos-theme"),r=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",s=t||r;return document.documentElement.setAttribute("data-theme",s),document.documentElement.className=s,s}ro();window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{if(!localStorage.getItem("pos-theme")){const r=t.matches?"dark":"light";document.documentElement.setAttribute("data-theme",r),document.documentElement.className=r}});function J(){const t=navigator.onLine;document.documentElement.setAttribute("data-online",t.toString()),console.log(t?"App is back online":"App is now offline")}window.addEventListener("online",J);window.addEventListener("offline",J);J();function Oe(){const t=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${t}px`)}window.addEventListener("resize",Oe);Oe();document.addEventListener("keydown",t=>{if(t.key==="Escape"){const r=new CustomEvent("global-escape",{bubbles:!0});t.target.dispatchEvent(r)}if((t.ctrlKey||t.metaKey)&&t.key==="k"){t.preventDefault();const r=new CustomEvent("global-search",{bubbles:!0});document.dispatchEvent(r)}if(t.key==="F1"){t.preventDefault();const r=new CustomEvent("global-help",{bubbles:!0});document.dispatchEvent(r)}});window.addEventListener("beforeprint",()=>{document.documentElement.setAttribute("data-print","true")});window.addEventListener("afterprint",()=>{document.documentElement.removeAttribute("data-print")});"BarcodeDetector"in window?console.log("Barcode detection supported"):console.log("Barcode detection not supported, will use camera fallback");navigator.mediaDevices?.getUserMedia({video:!0}).then(t=>{t.getTracks().forEach(r=>r.stop()),console.log("Camera access available")}).catch(()=>{console.log("Camera access not available")});async function oo(){if("Notification"in window){const t=await Notification.requestPermission();return console.log("Notification permission:",t),t==="granted"}return!1}document.addEventListener("click",()=>{oo()},{once:!0});let X;window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),X=t;const r=new CustomEvent("app-install-available",{detail:{prompt:X}});window.dispatchEvent(r)});window.addEventListener("appinstalled",()=>{console.log("PWA was installed"),X=null});console.log("🖥️ Trường Phát Computer - Production Mode");console.log(`
🖥️ Trường Phát Computer
Version: 1.0.0
Environment: production
Build: production

🚀 Powered by Cloudflare Edge
⚡ React 18 + Vite + Ant Design
📱 PWA Ready + Offline Support
🎮 Staff Gamification + AI Features
`);const no=document.getElementById("root"),so=G.createRoot(no);so.render(e.jsx(to,{children:e.jsx(Yr,{})}));document.documentElement.style.setProperty("--app-version",'"1.0.0"');console.log(`
🏪 Enterprise POS System
Version: 1.0.0
Environment: production
Build: development

🚀 Powered by Cloudflare Edge
⚡ React 18 + Vite + Ant Design
📱 PWA Ready + Offline Support
🎮 Staff Gamification + AI Features
`);if("PerformanceObserver"in window)try{new PerformanceObserver(r=>{for(const s of r.getEntries());}).observe({entryTypes:["measure","navigation"]})}catch(t){console.warn("Performance Observer not fully supported:",t)}const ao=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),io=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),lo=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),co=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),uo=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),po=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),mo=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),_o=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ho=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),fo=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),go=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),yo=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),vo=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),xo=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Eo=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),jo=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Po=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),To=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),bo=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Oo=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),So=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Io=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Ao=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Ro=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),Lo=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{i as _,ko as a,Co as b,e as j,ve as u};
