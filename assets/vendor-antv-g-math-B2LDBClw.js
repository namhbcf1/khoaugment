import{d as t}from"./polyfills-BjGv5uaK.js";import{E as a}from"./vendor-antv-util-BIOdtugi.js";import{am as r,an as n,ao as o}from"./vendor-gl-matrix-DC4KmxQg.js";
/*!
 * @antv/g-math
 * @description Geometry util
 * @version 3.0.1
 * @date 5/9/2025, 8:18:51 AM
 * @author AntVis
 * @docs https://g.antv.antgroup.com/
 */function u(t,a,r,n){var o=t-r,u=a-n;return Math.sqrt(o*o+u*u)}function h(a,r){var n=Math.min.apply(Math,t(a)),o=Math.min.apply(Math,t(r));return{x:n,y:o,width:Math.max.apply(Math,t(a))-n,height:Math.max.apply(Math,t(r))-o}}function i(t,a,r,n,o,u){return r*Math.cos(o)*Math.cos(u)-n*Math.sin(o)*Math.sin(u)+t}function e(t,a,r,n,o,u){return r*Math.sin(o)*Math.cos(u)+n*Math.cos(o)*Math.sin(u)+a}function v(t,a,r,n,o,u,h){for(var v=function(t,a,r){return Math.atan(-a/t*Math.tan(r))}(r,n,o),s=1/0,c=-1/0,f=[u,h],p=2*-Math.PI;p<=2*Math.PI;p+=Math.PI){var M=v+p;u<h?u<M&&M<h&&f.push(M):h<M&&M<u&&f.push(M)}for(var l=0;l<f.length;l++){var y=i(t,0,r,n,o,f[l]);y<s&&(s=y),y>c&&(c=y)}for(var d=function(t,a,r){return Math.atan(a/(t*Math.tan(r)))}(r,n,o),x=1/0,m=-1/0,g=[u,h],I=2*-Math.PI;I<=2*Math.PI;I+=Math.PI){var P=d+I;u<h?u<P&&P<h&&g.push(P):h<P&&P<u&&g.push(P)}for(var j=0;j<g.length;j++){var q=e(0,a,r,n,o,g[j]);q<x&&(x=q),q>m&&(m=q)}return{x:s,y:x,width:c-s,height:m-x}}function s(a,r,n,o,h,i){var e=-1,v=1/0,s=[n,o],c=20;i&&i>200&&(c=i/10);for(var f=1/c,p=f/10,M=0;M<=c;M++){var l=M*f,y=[h.apply(void 0,t(a.concat([l]))),h.apply(void 0,t(r.concat([l])))],d=u(s[0],s[1],y[0],y[1]);d<v&&(e=l,v=d)}if(0===e)return{x:a[0],y:r[0]};if(1===e){var x=a.length;return{x:a[x-1],y:r[x-1]}}v=1/0;for(var m=0;m<32&&!(p<1e-4);m++){var g=e-p,I=e+p,P=[h.apply(void 0,t(a.concat([g]))),h.apply(void 0,t(r.concat([g])))],j=u(s[0],s[1],P[0],P[1]);if(g>=0&&j<v)e=g,v=j;else{var q=[h.apply(void 0,t(a.concat([I]))),h.apply(void 0,t(r.concat([I])))],b=u(s[0],s[1],q[0],q[1]);I<=1&&b<v?(e=I,v=b):p*=.5}}return{x:h.apply(void 0,t(a.concat([e]))),y:h.apply(void 0,t(r.concat([e])))}}function c(t,a,r,n){return u(t,a,r,n)}function f(t,a,r,n,o){return{x:(1-o)*t+o*r,y:(1-o)*a+o*n}}function p(t,a,u,h,i,e){var v=[u-t,h-a];if(r(v,[0,0]))return Math.sqrt((i-t)*(i-t)+(e-a)*(e-a));var s=[-v[1],v[0]];n(s,s);var c=[i-t,e-a];return Math.abs(o(c,s))}function M(t,a,r,n,o){var u=1-o;return u*u*u*t+3*a*o*u*u+3*r*o*o*u+n*o*o*o}function l(t,r,n,o){var u,h,i,e=-3*t+9*r-9*n+3*o,v=6*t-12*r+6*n,s=3*r-3*t,c=[];if(a(e,0))a(v,0)||(u=-s/v)>=0&&u<=1&&c.push(u);else{var f=v*v-4*e*s;a(f,0)?c.push(-v/(2*e)):f>0&&(h=(-v-(i=Math.sqrt(f)))/(2*e),(u=(-v+i)/(2*e))>=0&&u<=1&&c.push(u),h>=0&&h<=1&&c.push(h))}return c}function y(t,a,r,n,o,u,i,e){for(var v=[t,i],s=[a,e],c=l(t,r,o,i),f=l(a,n,u,e),p=0;p<c.length;p++)v.push(M(t,r,o,i,c[p]));for(var y=0;y<f.length;y++)s.push(M(a,n,u,e,f[y]));return h(v,s)}function d(t,a,r,n,o,h,i,e,v,c,f){var p=function(t,a,r,n,o,u,h,i,e,v,c){return s([t,r,o,h],[a,n,u,i],e,v,M,c)}(t,a,r,n,o,h,i,e,v,c,f);return u(p.x,p.y,v,c)}function x(t){return function(t){if(t.length<2)return 0;for(var a=0,r=0;r<t.length-1;r++){var n=t[r],o=t[r+1];a+=u(n[0],n[1],o[0],o[1])}return a}(t)}function m(t,a,r,n){var o=1-n;return o*o*t+2*n*o*a+n*n*r}function g(t,r,n){var o=t+n-2*r;if(a(o,0))return[.5];var u=(t-r)/o;return u<=1&&u>=0?[u]:[]}function I(t,a,r,n,o,u){var i=g(t,r,o)[0],e=g(a,n,u)[0],v=[t,o],s=[a,u];return void 0!==i&&v.push(m(t,r,o,i)),void 0!==e&&s.push(m(a,n,u,e)),h(v,s)}function P(t,a,r,n,o,h,i,e){var v=function(t,a,r,n,o,u,h,i){return s([t,r,o],[a,n,u],h,i,m)}(t,a,r,n,o,h,i,e);return u(v.x,v.y,i,e)}export{x as a,v as b,y as c,I as d,u as e,p as f,d as g,P as h,c as l,f as p};
