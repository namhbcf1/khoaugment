import{j as e}from"./index-D0cJwDsb.js";import{r as i}from"./vendor-DD54NZMZ.js";import{T as Y,f as s,l as I,$ as O,a0 as W,B as T,a1 as J,R as U,e as c,C as a,m as Z,a9 as C,aa as k,u as S,k as _,a4 as o,H as h,y as p,A as f,q as w,ab as ee,ac as ne,a7 as re}from"./antd-pmzi8FkM.js";import{R as b,C as K,X as D,Y as l,T as R,L as P,c as u,a as L,B as te}from"./BarChart-De6rU90y.js";import{C as se}from"./ComposedChart-HjhqlpuW.js";import"./utils-Db1EesZb.js";import"./defaultLocale-Baf4yPCw.js";const{Title:ae,Text:oe,Paragraph:fe}=Y,{Option:d}=O,{RangePicker:ie}=W,{TabPane:g}=S,ve=()=>{const[m,x]=i.useState(!0),[A,B]=i.useState("month"),[N,M]=i.useState("key-metrics"),[ce,he]=i.useState(!1),$=[{name:"T1",revenue:285e6,profit:54e6,orders:1250,customers:980,conversion:2.8},{name:"T2",revenue:31e7,profit:68e6,orders:1320,customers:1050,conversion:3.1},{name:"T3",revenue:342e6,profit:74e6,orders:1410,customers:1180,conversion:3.3},{name:"T4",revenue:305e6,profit:65e6,orders:1350,customers:1080,conversion:2.9},{name:"T5",revenue:368e6,profit:82e6,orders:1580,customers:1260,conversion:3.6},{name:"T6",revenue:402e6,profit:94e6,orders:1690,customers:1380,conversion:3.8}],v=[{category:"Điện thoại",revenue:186e6,profit:42e6,growth:12.5,margin:22.6,inventory:85},{category:"Laptop",revenue:142e6,profit:32e6,growth:8.2,margin:22.5,inventory:72},{category:"Phụ kiện",revenue:76e6,profit:24e6,growth:15.8,margin:31.6,inventory:64},{category:"Màn hình",revenue:45e6,profit:11e6,growth:5.3,margin:24.4,inventory:78},{category:"Linh kiện",revenue:38e6,profit:85e5,growth:-2.1,margin:22.4,inventory:92},{category:"Khác",revenue:24e6,profit:52e5,growth:3.2,margin:21.7,inventory:80}],V=[{store:"Cửa hàng Quận 1",revenue:125e6,profit:28e6,growth:8.5,customers:850,avgOrder:12e5},{store:"Cửa hàng Quận 3",revenue:98e6,profit:205e5,growth:5.2,customers:720,avgOrder:95e4},{store:"Cửa hàng Quận 7",revenue:105e6,profit:22e6,growth:10.8,customers:780,avgOrder:105e4},{store:"Cửa hàng Gò Vấp",revenue:86e6,profit:185e5,growth:-1.2,customers:650,avgOrder:88e4},{store:"Cửa hàng Thủ Đức",revenue:94e6,profit:198e5,growth:7.3,customers:710,avgOrder:92e4}],G=[{channel:"Cửa hàng vật lý",revenue:21e7,profit:46e6,customers:1800,conversion:32.5,cac:85e3},{channel:"Website",revenue:124e6,profit:32e6,customers:2400,conversion:3.8,cac:12e4},{channel:"Ứng dụng di động",revenue:86e6,profit:22e6,customers:1500,conversion:4.2,cac:95e3},{channel:"Sàn TMĐT",revenue:145e6,profit:28e6,customers:2800,conversion:2.9,cac:135e3},{channel:"Đại lý",revenue:68e6,profit:15e6,customers:320,conversion:18.5,cac:65e3}],H=[{title:"Doanh thu",value:402e6,prevValue:368e6,changePercent:9.2,changeType:"increase",format:"currency",icon:e.jsx(w,{style:{color:"#52c41a"}}),color:"#52c41a"},{title:"Lợi nhuận",value:94e6,prevValue:82e6,changePercent:14.6,changeType:"increase",format:"currency",icon:e.jsx(w,{style:{color:"#1890ff"}}),color:"#1890ff"},{title:"Đơn hàng",value:1690,prevValue:1580,changePercent:7,changeType:"increase",format:"number",icon:e.jsx(ee,{style:{color:"#722ed1"}}),color:"#722ed1"},{title:"Biên lợi nhuận",value:23.4,prevValue:22.3,changePercent:4.9,changeType:"increase",format:"percent",icon:e.jsx(ne,{style:{color:"#fa8c16"}}),color:"#fa8c16"}];i.useEffect(()=>{setTimeout(()=>{x(!1)},1e3)},[]);const t=n=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}).format(n),F=n=>`${n.toFixed(1)}%`,y=n=>n>0?e.jsxs(h,{color:"green",children:[e.jsx(C,{})," ",n,"%"]}):n<0?e.jsxs(h,{color:"red",children:[e.jsx(k,{})," ",Math.abs(n),"%"]}):e.jsx(h,{color:"gray",children:"0%"}),Q=()=>e.jsx(b,{width:"100%",height:350,children:e.jsxs(se,{data:$,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(K,{strokeDasharray:"3 3"}),e.jsx(D,{dataKey:"name"}),e.jsx(l,{yAxisId:"revenue",orientation:"left"}),e.jsx(l,{yAxisId:"profit",orientation:"right"}),e.jsx(R,{formatter:(n,r)=>r==="revenue"||r==="profit"?[t(n),r==="revenue"?"Doanh thu":"Lợi nhuận"]:[n,r==="orders"?"Đơn hàng":r==="customers"?"Khách hàng":"Tỷ lệ chuyển đổi (%)"]}),e.jsx(P,{}),e.jsx(u,{yAxisId:"revenue",dataKey:"revenue",name:"Doanh thu",fill:"#1890ff"}),e.jsx(u,{yAxisId:"profit",dataKey:"profit",name:"Lợi nhuận",fill:"#52c41a"}),e.jsx(L,{yAxisId:"profit",type:"monotone",dataKey:"conversion",name:"Tỷ lệ chuyển đổi",stroke:"#f5222d"})]})}),z=()=>e.jsx(b,{width:"100%",height:350,children:e.jsxs(te,{data:v,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(K,{strokeDasharray:"3 3"}),e.jsx(D,{dataKey:"category"}),e.jsx(l,{yAxisId:"revenue",orientation:"left"}),e.jsx(l,{yAxisId:"margin",orientation:"right"}),e.jsx(R,{formatter:(n,r)=>r==="revenue"||r==="profit"?[t(n),r==="revenue"?"Doanh thu":"Lợi nhuận"]:r==="margin"?[F(n),"Biên lợi nhuận"]:[n,r]}),e.jsx(P,{}),e.jsx(u,{yAxisId:"revenue",dataKey:"revenue",name:"Doanh thu",fill:"#1890ff"}),e.jsx(u,{yAxisId:"revenue",dataKey:"profit",name:"Lợi nhuận",fill:"#52c41a"}),e.jsx(L,{yAxisId:"margin",type:"monotone",dataKey:"margin",name:"Biên lợi nhuận",stroke:"#fa8c16"})]})}),X=[{title:"Danh mục",dataIndex:"category",key:"category"},{title:"Doanh thu",dataIndex:"revenue",key:"revenue",render:n=>t(n),sorter:(n,r)=>n.revenue-r.revenue},{title:"Lợi nhuận",dataIndex:"profit",key:"profit",render:n=>t(n),sorter:(n,r)=>n.profit-r.profit},{title:"Tăng trưởng",dataIndex:"growth",key:"growth",render:n=>y(n),sorter:(n,r)=>n.growth-r.growth},{title:"Biên LN",dataIndex:"margin",key:"margin",render:n=>`${n.toFixed(1)}%`,sorter:(n,r)=>n.margin-r.margin},{title:"Tồn kho",dataIndex:"inventory",key:"inventory",render:n=>e.jsx(re,{percent:n,size:"small",status:n>85?"exception":n<30?"active":"normal",style:{width:80}})}],q=[{title:"Cửa hàng",dataIndex:"store",key:"store"},{title:"Doanh thu",dataIndex:"revenue",key:"revenue",render:n=>t(n),sorter:(n,r)=>n.revenue-r.revenue},{title:"Lợi nhuận",dataIndex:"profit",key:"profit",render:n=>t(n),sorter:(n,r)=>n.profit-r.profit},{title:"Tăng trưởng",dataIndex:"growth",key:"growth",render:n=>y(n),sorter:(n,r)=>n.growth-r.growth},{title:"Khách hàng",dataIndex:"customers",key:"customers",sorter:(n,r)=>n.customers-r.customers},{title:"Đơn TB",dataIndex:"avgOrder",key:"avgOrder",render:n=>t(n),sorter:(n,r)=>n.avgOrder-r.avgOrder}],E=[{title:"Kênh bán hàng",dataIndex:"channel",key:"channel"},{title:"Doanh thu",dataIndex:"revenue",key:"revenue",render:n=>t(n),sorter:(n,r)=>n.revenue-r.revenue},{title:"Lợi nhuận",dataIndex:"profit",key:"profit",render:n=>t(n),sorter:(n,r)=>n.profit-r.profit},{title:"Khách hàng",dataIndex:"customers",key:"customers",sorter:(n,r)=>n.customers-r.customers},{title:"Tỷ lệ chuyển đổi",dataIndex:"conversion",key:"conversion",render:n=>`${n}%`,sorter:(n,r)=>n.conversion-r.conversion},{title:"Chi phí thu hút KH",dataIndex:"cac",key:"cac",render:n=>t(n),sorter:(n,r)=>n.cac-r.cac}];return e.jsxs("div",{children:[e.jsx(ae,{level:2,children:"Chỉ số hiệu suất kinh doanh (KPIs)"}),e.jsx(s,{style:{marginBottom:16},children:e.jsxs(I,{children:[e.jsxs(O,{value:A,onChange:B,style:{width:150},children:[e.jsx(d,{value:"week",children:"Tuần này"}),e.jsx(d,{value:"month",children:"Tháng này"}),e.jsx(d,{value:"quarter",children:"Quý này"}),e.jsx(d,{value:"year",children:"Năm nay"})]}),e.jsx(ie,{}),e.jsx(T,{type:"primary",icon:e.jsx(J,{}),children:"Xuất báo cáo"}),e.jsx(T,{icon:e.jsx(U,{}),onClick:()=>{x(!0),setTimeout(()=>x(!1),800)},children:"Làm mới"})]})}),e.jsx(c,{gutter:[16,16],style:{marginBottom:16},children:H.map((n,r)=>e.jsx(a,{xs:24,sm:12,md:6,children:e.jsxs(s,{children:[e.jsx(Z,{title:n.title,value:n.value,precision:n.format==="currency"?0:n.format==="percent"?1:0,valueStyle:{color:n.color},prefix:n.icon,suffix:n.format==="percent"?"%":null,formatter:j=>n.format==="currency"?new Intl.NumberFormat("vi-VN").format(j):j}),e.jsx("div",{style:{marginTop:"8px"},children:e.jsxs(I,{children:[n.changeType==="increase"?e.jsx(C,{style:{color:"#52c41a"}}):e.jsx(k,{style:{color:"#ff4d4f"}}),e.jsxs(oe,{style:{color:n.changeType==="increase"?"#52c41a":"#ff4d4f",fontSize:"12px"},children:[n.changePercent,"% so với tháng trước"]})]})})]})},r))}),e.jsxs(S,{activeKey:N,onChange:M,children:[e.jsxs(g,{tab:"Chỉ số chính",children:[e.jsx(s,{title:"Xu hướng hiệu suất kinh doanh",className:"card-with-chart",children:Q()}),e.jsx(_,{}),e.jsxs(c,{gutter:[16,16],children:[e.jsx(a,{xs:24,md:12,children:e.jsx(s,{title:"Tỷ lệ chi phí và doanh thu",children:e.jsx(o,{size:"small",bordered:!0,dataSource:[{name:"Chi phí vận hành / Doanh thu",value:"18.5%",status:"normal"},{name:"Chi phí nhân sự / Doanh thu",value:"22.4%",status:"warning"},{name:"Chi phí marketing / Doanh thu",value:"8.2%",status:"success"},{name:"Chi phí hàng hóa / Doanh thu",value:"52.8%",status:"normal"},{name:"Chi phí khấu hao / Doanh thu",value:"4.8%",status:"success"}],renderItem:n=>e.jsx(o.Item,{actions:[e.jsx(h,{color:n.status==="success"?"green":n.status==="warning"?"orange":"blue",children:n.value})],children:e.jsx(o.Item.Meta,{title:n.name})})})})}),e.jsx(a,{xs:24,md:12,children:e.jsx(s,{title:"Hiệu quả đầu tư (ROI)",children:e.jsx(o,{size:"small",bordered:!0,dataSource:[{name:"ROI Marketing",value:"320%",status:"success"},{name:"ROI Đầu tư hàng hóa",value:"185%",status:"normal"},{name:"ROI Nhân sự bán hàng",value:"210%",status:"success"},{name:"ROI Kho vận",value:"145%",status:"warning"},{name:"ROI Tổng thể",value:"220%",status:"success"}],renderItem:n=>e.jsx(o.Item,{actions:[e.jsx(h,{color:n.status==="success"?"green":n.status==="warning"?"orange":"blue",children:n.value})],children:e.jsx(o.Item.Meta,{title:n.name})})})})})]})]},"key-metrics"),e.jsxs(g,{tab:"Hiệu suất sản phẩm",children:[e.jsx(s,{title:"Hiệu suất theo danh mục sản phẩm",className:"card-with-chart",children:z()}),e.jsx(s,{title:"Chi tiết danh mục sản phẩm",style:{marginTop:16},children:e.jsx(p,{dataSource:v,columns:X,rowKey:"category",loading:m,pagination:!1})}),e.jsx(c,{gutter:[16,16],style:{marginTop:16},children:e.jsx(a,{span:24,children:e.jsx(f,{message:"Gợi ý tối ưu danh mục sản phẩm",description:e.jsxs("ul",{children:[e.jsxs("li",{children:["Danh mục ",e.jsx("strong",{children:"Phụ kiện"})," có biên lợi nhuận cao nhất (31.6%). Cân nhắc mở rộng danh mục này."]}),e.jsxs("li",{children:["Danh mục ",e.jsx("strong",{children:"Linh kiện"})," đang có tăng trưởng âm (-2.1%). Cần xem xét lại chiến lược tiếp thị."]}),e.jsxs("li",{children:["Tồn kho danh mục ",e.jsx("strong",{children:"Linh kiện"})," đang cao (92%). Cần có chương trình khuyến mãi để giảm tồn."]})]}),type:"info",showIcon:!0})})})]},"product-metrics"),e.jsxs(g,{tab:"Hiệu suất cửa hàng",children:[e.jsx(s,{title:"Chi tiết hiệu suất cửa hàng",children:e.jsx(p,{dataSource:V,columns:q,rowKey:"store",loading:m,pagination:!1})}),e.jsx(c,{gutter:[16,16],style:{marginTop:16},children:e.jsx(a,{span:24,children:e.jsx(f,{message:"Gợi ý tối ưu hoạt động cửa hàng",description:e.jsxs("ul",{children:[e.jsxs("li",{children:["Cửa hàng ",e.jsx("strong",{children:"Quận 7"})," có tăng trưởng cao nhất (10.8%). Nghiên cứu và áp dụng các chiến lược thành công cho các cửa hàng khác."]}),e.jsxs("li",{children:["Cửa hàng ",e.jsx("strong",{children:"Gò Vấp"})," đang có tăng trưởng âm (-1.2%). Cần xem xét lại chiến lược vận hành và sản phẩm."]}),e.jsxs("li",{children:["Cửa hàng ",e.jsx("strong",{children:"Quận 1"})," có giá trị đơn hàng trung bình cao nhất. Tập trung vào upselling và cross-selling."]})]}),type:"info",showIcon:!0})})})]},"store-metrics"),e.jsxs(g,{tab:"Hiệu suất kênh bán hàng",children:[e.jsx(s,{title:"Chi tiết hiệu suất kênh bán hàng",children:e.jsx(p,{dataSource:G,columns:E,rowKey:"channel",loading:m,pagination:!1})}),e.jsx(c,{gutter:[16,16],style:{marginTop:16},children:e.jsx(a,{span:24,children:e.jsx(f,{message:"Gợi ý tối ưu kênh bán hàng",description:e.jsxs("ul",{children:[e.jsxs("li",{children:["Kênh ",e.jsx("strong",{children:"Ứng dụng di động"})," có tỷ lệ chuyển đổi cao nhất (4.2%). Cân nhắc tăng đầu tư marketing cho kênh này."]}),e.jsxs("li",{children:["Kênh ",e.jsx("strong",{children:"Đại lý"})," có chi phí thu hút khách hàng thấp nhất. Đánh giá khả năng mở rộng kênh này."]}),e.jsxs("li",{children:["Kênh ",e.jsx("strong",{children:"Sàn TMĐT"})," có tỷ lệ chuyển đổi thấp (2.9%) với chi phí thu hút cao. Cần tối ưu hóa hiệu suất."]})]}),type:"info",showIcon:!0})})})]},"channel-metrics")]})]})};export{ve as default};
