import{u as S,j as e}from"./index-CI5lv9mG.js";import{u as C,f as N,r as i,O as v}from"./vendor-DD54NZMZ.js";import{S as x,A,a as L}from"./styles-C5Pz_kje.js";import{G as E,s as M,S as O,L as r}from"./antd-pmzi8FkM.js";import"./utils-Db1EesZb.js";const{Content:P}=r,{useBreakpoint:k}=E,z=({showHeader:g=!0,showSidebar:l=!0,showFooter:j=!1,fullWidth:h=!1})=>{const t=C(),c=N(),{user:a,isAuthenticated:u,loading:n}=S(),d=k(),[s,o]=i.useState(!d.lg),[f,p]=i.useState(!1);i.useEffect(()=>{n||(u?a&&a.role!=="staff"&&(M.error("Bạn không có quyền truy cập trang này"),t("/")):t("/login",{state:{from:c.pathname}}))},[u,a,n,t,c.pathname]);const b=()=>h?0:{padding:"24px"},m=!d.lg;return n?e.jsxs("div",{className:"loading-container",children:[e.jsx(O,{size:"large"}),e.jsx("div",{className:"loading-text",children:"Đang tải..."})]}):e.jsxs(r,{className:"site-layout",children:[l&&e.jsx(e.Fragment,{children:m?e.jsx(x,{collapsed:s,onCollapse:o,isMobile:!0,visible:f,onClose:()=>p(!1)}):e.jsx(x,{collapsed:s,onCollapse:o})}),e.jsxs(r,{className:`site-layout-content ${l?s?"content-collapsed":"content-expanded":"content-no-sidebar"}`,children:[g&&e.jsx(A,{collapsed:s,onCollapse:y=>{m?p(!f):o(y)},title:"Trường Phát POS - Nhân viên"}),e.jsx(P,{className:"site-content staff-content",style:b(),children:e.jsx(v,{})}),j&&e.jsx(L,{minimal:!0})]})]})};export{z as default};
